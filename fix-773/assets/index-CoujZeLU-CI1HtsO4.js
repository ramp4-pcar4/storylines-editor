import"./index-D0o7KJz6-cjMz3kn3.js";import"./customElement-vwINhat1-NBZ89yjb.js";import{k as St,f as Qt}from"./jsxFactory-Cua8zWVZ-C0LIGF4Z.js";import{gk as Dt,go as te,i6 as $,i7 as k,gj as xt}from"./main-D8UjLOIQ.js";import{i as Pe}from"./keyed-B9HAtbdo-C3iGL29k.js";import{k as he,m as Ti}from"./dom-PjyVZjPa-DTsljN5t.js";import"./index-DV38aJMs-Cm03uLrO.js";import"./index-SxXZaKTz-DWJCexfn.js";import"./customElement-DL8inR2X-CYyl09IN.js";import"./index-4OY0nObJ-DQG7eowa.js";import{P as gt,S as Pi}from"./ref-XMc4F1eh-pkU6VlMM.js";import{e as Zt,b as kt,A as Ct,O as _i,$ as ki,W as At,D as Fi,g as Vt}from"./debounce-B9WUP9Xk-B48kwlP5.js";import{d as Jt,p as ei}from"./interactive-EVx-Nhoa-CkbWfWmt.js";import{a as ti}from"./component-DGkKmsFn-B8yPRpel.js";import{t as ii}from"./useT9n-Cp7CFBMO-BqVdnYA2.js";import{i as Oi}from"./observers-CJ7vGAr1-D-cAbqSd.js";import{a as xe,m as $i,c as tt,l as mt,u as Ft,o as Mi}from"./utils-B0t9gNXC-DGORRxf0.js";import{Q as Ot}from"./input-BpGQpkEK-CZI43DiC.js";import{i as Li}from"./guid-Dls486Er-CBh637k4.js";import"./intl-BAA1onnp-D6KfQGxz.js";import"./uuid-Dj9mdEVg-BaKSCiyT.js";import"./sanitizerUtils-B1yRmbO2-CZFW4p9I.js";import"./static-Dm6M7dSg-DeempbFk.js";import"./form-D_5VLLzu-CGpcSV3_.js";import"./key-CZySMiwx-kmS7VeUz.js";import"./label-DeyAgFGa-D01sMAC3.js";import"./Validation-DwCZur7y-j989CKDm.js";function Ni(e,t){for(var i=-1,n=e==null?0:e.length,r=Array(n);++i<n;)r[i]=t(e[i],i,e);return r}var ni=Array.isArray,$t=kt?kt.prototype:void 0,Mt=$t?$t.toString:void 0;function ri(e){if(typeof e=="string")return e;if(ni(e))return Ni(e,ri)+"";if(Fi(e))return Mt?Mt.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function ji(e){return e}var Ri="[object AsyncFunction]",Bi="[object Function]",Hi="[object GeneratorFunction]",Xi="[object Proxy]";function Yi(e){if(!Vt(e))return!1;var t=At(e);return t==Bi||t==Hi||t==Ri||t==Xi}var Ui=9007199254740991,zi=/^(?:0|[1-9]\d*)$/;function Gi(e,t){var i=typeof e;return t=t??Ui,!!t&&(i=="number"||i!="symbol"&&zi.test(e))&&e>-1&&e%1==0&&e<t}var Wi=9007199254740991;function ai(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Wi}function qi(e){return e!=null&&ai(e.length)&&!Yi(e)}var Ki=Object.prototype;function Qi(e){var t=e&&e.constructor,i=typeof t=="function"&&t.prototype||Ki;return e===i}function Zi(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}var Vi="[object Arguments]";function Lt(e){return Ct(e)&&At(e)==Vi}var oi=Object.prototype,Ji=oi.hasOwnProperty,en=oi.propertyIsEnumerable,tn=Lt(function(){return arguments}())?Lt:function(e){return Ct(e)&&Ji.call(e,"callee")&&!en.call(e,"callee")};function nn(){return!1}var li=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Nt=li&&typeof module=="object"&&module&&!module.nodeType&&module,rn=Nt&&Nt.exports===li,jt=rn?_i.Buffer:void 0,an=jt?jt.isBuffer:void 0,on=an||nn,ln="[object Arguments]",sn="[object Array]",cn="[object Boolean]",dn="[object Date]",un="[object Error]",hn="[object Function]",fn="[object Map]",pn="[object Number]",gn="[object Object]",mn="[object RegExp]",vn="[object Set]",bn="[object String]",yn="[object WeakMap]",En="[object ArrayBuffer]",wn="[object DataView]",In="[object Float32Array]",Sn="[object Float64Array]",Dn="[object Int8Array]",xn="[object Int16Array]",Cn="[object Int32Array]",An="[object Uint8Array]",Tn="[object Uint8ClampedArray]",Pn="[object Uint16Array]",_n="[object Uint32Array]",w={};w[In]=w[Sn]=w[Dn]=w[xn]=w[Cn]=w[An]=w[Tn]=w[Pn]=w[_n]=!0,w[ln]=w[sn]=w[En]=w[cn]=w[wn]=w[dn]=w[un]=w[hn]=w[fn]=w[pn]=w[gn]=w[mn]=w[vn]=w[bn]=w[yn]=!1;function kn(e){return Ct(e)&&ai(e.length)&&!!w[At(e)]}function Fn(e){return function(t){return e(t)}}var si=typeof exports=="object"&&exports&&!exports.nodeType&&exports,_e=si&&typeof module=="object"&&module&&!module.nodeType&&module,On=_e&&_e.exports===si,it=On&&ki.process,Rt=function(){try{var e=_e&&_e.require&&_e.require("util").types;return e||it&&it.binding&&it.binding("util")}catch{}}(),Bt=Rt&&Rt.isTypedArray,$n=Bt?Fn(Bt):kn;function Mn(e,t){var i=ni(e),n=!i&&tn(e),r=!i&&!n&&on(e),a=!i&&!n&&!r&&$n(e),o=i||n||r||a,s=o?Zi(e.length,String):[],l=s.length;for(var c in e)o&&(c=="length"||r&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Gi(c,l))||s.push(c);return s}function Ln(e){var t=[];if(e!=null)for(var i in Object(e))t.push(i);return t}var Nn=Object.prototype,jn=Nn.hasOwnProperty;function Rn(e){if(!Vt(e))return Ln(e);var t=Qi(e),i=[];for(var n in e)n=="constructor"&&(t||!jn.call(e,n))||i.push(n);return i}function Bn(e){return qi(e)?Mn(e):Rn(e)}function Hn(e){return e==null?"":ri(e)}function Xn(e){return function(t,i,n){for(var r=-1,a=Object(t),o=n(t),s=o.length;s--;){var l=o[++r];if(i(a[l],l,a)===!1)break}return t}}var Yn=Xn();function Un(e){return typeof e=="function"?e:ji}var ci=/[\\^$.*+?()[\]{}|]/g,zn=RegExp(ci.source);function Gn(e){return e=Hn(e),e&&zn.test(e)?e.replace(ci,"\\$&"):e}function Wn(e,t){return e==null?e:Yn(e,Un(t),Bn)}const ge={container:"container",actionsStart:"actions-start",contentStart:"content-start",content:"content",contentEnd:"content-end",actionsEnd:"actions-end"},ye={actionsStart:"actions-start",contentStart:"content-start",contentEnd:"content-end",actionsEnd:"actions-end"},qn=xt`:host([disabled]) .content{cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) .content *,:host([disabled]) .content ::slotted(*){pointer-events:none}:host{display:flex;flex:1 1 0%;flex-direction:column}.container{display:flex;flex:1 1 auto;align-items:stretch;font-weight:var(--calcite-font-weight-normal);color:var(--calcite-color-text-2)}.content{display:flex;flex:1 1 auto;flex-direction:column;justify-content:center;font-size:var(--calcite-font-size--2);line-height:1.375;padding-inline:var(--calcite-stack-padding-inline, .75rem);padding-block:var(--calcite-stack-padding-block, .5rem)}.content-start{justify-content:flex-start}.content-end{justify-content:flex-end}.content-start,.content-end{flex:0 1 auto}.content-start ::slotted(calcite-icon),.content-end ::slotted(calcite-icon){margin-inline:.75rem;align-self:center}.actions-start,.actions-end,.content-start,.content-end{display:flex;align-items:center}.actions-start ::slotted(calcite-action),.actions-start ::slotted(calcite-action-menu),.actions-start ::slotted(calcite-handle),.actions-start ::slotted(calcite-dropdown),.actions-end ::slotted(calcite-action),.actions-end ::slotted(calcite-action-menu),.actions-end ::slotted(calcite-handle),.actions-end ::slotted(calcite-dropdown){align-self:stretch;color:inherit}:host([hidden]){display:none}[hidden]{display:none}`;class Kn extends Dt{constructor(){super(...arguments),this.hasActionsEnd=!1,this.hasActionsStart=!1,this.hasContentEnd=!1,this.hasContentStart=!1,this.disabled=!1}static{this.properties={hasActionsEnd:[16,{},{state:!0}],hasActionsStart:[16,{},{state:!0}],hasContentEnd:[16,{},{state:!0}],hasContentStart:[16,{},{state:!0}],disabled:[7,{},{reflect:!0,type:Boolean}]}}static{this.styles=qn}handleActionsStartSlotChange(t){this.hasActionsStart=he(t)}handleActionsEndSlotChange(t){this.hasActionsEnd=he(t)}handleContentStartSlotChange(t){this.hasContentStart=he(t)}handleContentEndSlotChange(t){this.hasContentEnd=he(t)}renderActionsStart(){const{hasActionsStart:t}=this;return Pe("actions-start-container",k`<div class=${$(ge.actionsStart)} .hidden=${!t}><slot name=${ye.actionsStart} @slotchange=${this.handleActionsStartSlotChange}></slot></div>`)}renderActionsEnd(){const{hasActionsEnd:t}=this;return Pe("actions-end-container",k`<div class=${$(ge.actionsEnd)} .hidden=${!t}><slot name=${ye.actionsEnd} @slotchange=${this.handleActionsEndSlotChange}></slot></div>`)}renderContentStart(){const{hasContentStart:t}=this;return k`<div class=${$(ge.contentStart)} .hidden=${!t}><slot name=${ye.contentStart} @slotchange=${this.handleContentStartSlotChange}></slot></div>`}renderDefaultContent(){return k`<div class=${$(ge.content)}><slot></slot></div>`}renderContentEnd(){const{hasContentEnd:t}=this;return k`<div class=${$(ge.contentEnd)} .hidden=${!t}><slot name=${ye.contentEnd} @slotchange=${this.handleContentEndSlotChange}></slot></div>`}render(){return k`<div class=${$(ge.container)}>${this.renderActionsStart()}${this.renderContentStart()}${this.renderDefaultContent()}${this.renderContentEnd()}${this.renderActionsEnd()}</div>`}}St("calcite-stack",Kn);const nt=(e,t,i)=>{const n=Gn(t),r=new RegExp(n,"i");e.length===0&&console.warn(`No data was passed to the filter function.
    The data argument should be an array of objects`);const a=(o,s,l)=>{if(o?.constant||o?.filterDisabled)return!0;let c=!1;return Wn(o,(u,h)=>{typeof u=="function"||u==null||l&&!l.includes(h)||(Array.isArray(u)||typeof u=="object"&&u!==null?a(u,s)&&(c=!0):s.test(u)&&(c=!0))}),c};return e.filter(o=>a(o,r,i))},Qn={container:"container"},Zn={search:"search"},Vn=xt`:host{box-sizing:border-box;background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:flex;inline-size:100%}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.container{display:flex;inline-size:100%}:host([scale=s]) .container{padding:var(--calcite-filter-content-space, var(--calcite-spacing-sm))}:host([scale=m]) .container{padding:var(--calcite-filter-content-space, var(--calcite-spacing-md))}:host([scale=l]) .container{padding:var(--calcite-filter-content-space, var(--calcite-spacing-lg))}label{position:relative;margin-block:0px;display:flex;inline-size:100%;align-items:center;overflow:hidden}calcite-input{inline-size:100%;--calcite-input-background-color: var(--calcite-filter-input-background-color);--calcite-input-border-color: var(--calcite-filter-input-border-color);--calcite-input-corner-radius: var(--calcite-filter-input-corner-radius);--calcite-input-shadow: var(--calcite-filter-input-shadow);--calcite-input-icon-color: var(--calcite-filter-input-icon-color);--calcite-input-text-color: var(--calcite-filter-input-text-color);--calcite-input-placeholder-text-color: var(--calcite-filter-input-placeholder-text-color);--calcite-input-actions-background-color: var(--calcite-filter-input-actions-background-color);--calcite-input-actions-background-color-hover: var(--calcite-filter-input-actions-background-color-hover);--calcite-input-actions-background-color-press: var(--calcite-filter-input-actions-background-color-press);--calcite-input-actions-icon-color: var(--calcite-filter-input-actions-icon-color);--calcite-input-actions-icon-color-hover: var(--calcite-filter-input-actions-icon-color-hover);--calcite-input-actions-icon-color-press: var(--calcite-filter-input-actions-icon-color-press)}:host([hidden]){display:none}[hidden]{display:none}`;class Jn extends Dt{constructor(){super(...arguments),this.filterDebounced=Zt((t,i=!1,n)=>this.updateFiltered(nt(this.items??[],t,this.filterProps),i,n),Qt.filter),this.textInput=Pi(),this._value="",this.messages=ii(),this.disabled=!1,this.filteredItems=[],this.items=[],this.scale="m",this.calciteFilterChange=te({cancelable:!1})}static{this.properties={disabled:[7,{},{reflect:!0,type:Boolean}],filterProps:[0,{},{attribute:!1}],filteredItems:[0,{},{attribute:!1}],items:[0,{},{attribute:!1}],label:1,messageOverrides:[0,{},{attribute:!1}],placeholder:1,scale:[3,{},{reflect:!0}],value:1}}static{this.shadowRootOptions={mode:"open",delegatesFocus:!0}}static{this.styles=Vn}get value(){return this._value}set value(t){const i=this._value;t!==i&&(this._value=t,this.valueHandler(t))}async filter(t=this.value){return new Promise(i=>{this.value=t,this.updateFiltered(nt(this.items??[],t,this.filterProps),!1,i)})}async setFocus(){return await ti(this),this.textInput.value?.setFocus()}async load(){this.updateFiltered(nt(this.items??[],this.value,this.filterProps))}willUpdate(t){(t.has("items")&&(this.hasUpdated||this.items?.length>0)||t.has("filterProps"))&&this.filterDebounced(this.value)}updated(){Jt(this)}disconnectedCallback(){super.disconnectedCallback(),this.filterDebounced.cancel()}valueHandler(t){this.filterDebounced(t)}inputHandler(t){const i=t.target;this.value=i.value,this.filterDebounced(i.value,!0)}keyDownHandler(t){t.defaultPrevented||(t.key==="Escape"&&(this.clear(),t.preventDefault()),t.key==="Enter"&&t.preventDefault())}clear(){this.value="",this.filterDebounced("",!0),this.setFocus()}updateFiltered(t,i=!1,n){this.filteredItems=t,i&&this.calciteFilterChange.emit(),n?.()}render(){const{disabled:t,scale:i}=this;return ei({disabled:t,children:k`<div class=${$(Qn.container)}><label><calcite-input clearable .disabled=${t} .icon=${Zn.search} .label=${this.label??this.messages.label} .messageOverrides=${{clear:this.messages.clear}} @keydown=${this.keyDownHandler} @calciteInputInput=${this.inputHandler} .placeholder=${this.placeholder} .scale=${i} type=text .value=${this.value} ${gt(this.textInput)}></calcite-input></label></div>`})}}St("calcite-filter",Jn);function Ht(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function z(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?Ht(Object(i),!0).forEach(function(n){er(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ht(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function Ye(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ye=function(t){return typeof t}:Ye=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ye(e)}function er(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Q(){return Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Q.apply(this,arguments)}function tr(e,t){if(e==null)return{};var i={},n=Object.keys(e),r,a;for(a=0;a<n.length;a++)r=n[a],!(t.indexOf(r)>=0)&&(i[r]=e[r]);return i}function ir(e,t){if(e==null)return{};var i=tr(e,t),n,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var nr="1.15.6";function K(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var Z=K(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Le=K(/Edge/i),Xt=K(/firefox/i),ke=K(/safari/i)&&!K(/chrome/i)&&!K(/android/i),Tt=K(/iP(ad|od|hone)/i),di=K(/chrome/i)&&K(/android/i),ui={capture:!1,passive:!1};function b(e,t,i){e.addEventListener(t,i,!Z&&ui)}function v(e,t,i){e.removeEventListener(t,i,!Z&&ui)}function qe(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function hi(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function X(e,t,i,n){if(e){i=i||document;do{if(t!=null&&(t[0]===">"?e.parentNode===i&&qe(e,t):qe(e,t))||n&&e===i)return e;if(e===i)break}while(e=hi(e))}return null}var Yt=/\s+/g;function j(e,t,i){if(e&&t)if(e.classList)e.classList[i?"add":"remove"](t);else{var n=(" "+e.className+" ").replace(Yt," ").replace(" "+t+" "," ");e.className=(n+(i?" "+t:"")).replace(Yt," ")}}function f(e,t,i){var n=e&&e.style;if(n){if(i===void 0)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(i=e.currentStyle),t===void 0?i:i[t];!(t in n)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),n[t]=i+(typeof i=="string"?"":"px")}}function we(e,t){var i="";if(typeof e=="string")i=e;else do{var n=f(e,"transform");n&&n!=="none"&&(i=n+" "+i)}while(!t&&(e=e.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(i)}function fi(e,t,i){if(e){var n=e.getElementsByTagName(t),r=0,a=n.length;if(i)for(;r<a;r++)i(n[r],r);return n}return[]}function U(){var e=document.scrollingElement;return e||document.documentElement}function C(e,t,i,n,r){if(!(!e.getBoundingClientRect&&e!==window)){var a,o,s,l,c,u,h;if(e!==window&&e.parentNode&&e!==U()?(a=e.getBoundingClientRect(),o=a.top,s=a.left,l=a.bottom,c=a.right,u=a.height,h=a.width):(o=0,s=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,h=window.innerWidth),(t||i)&&e!==window&&(r=r||e.parentNode,!Z))do if(r&&r.getBoundingClientRect&&(f(r,"transform")!=="none"||i&&f(r,"position")!=="static")){var E=r.getBoundingClientRect();o-=E.top+parseInt(f(r,"border-top-width")),s-=E.left+parseInt(f(r,"border-left-width")),l=o+a.height,c=s+a.width;break}while(r=r.parentNode);if(n&&e!==window){var m=we(r||e),A=m&&m.a,y=m&&m.d;m&&(o/=y,s/=A,h/=A,u/=y,l=o+u,c=s+h)}return{top:o,left:s,bottom:l,right:c,width:h,height:u}}}function Ut(e,t,i){for(var n=re(e,!0),r=C(e)[t];n;){var a=C(n)[i],o=void 0;if(o=r>=a,!o)return n;if(n===U())break;n=re(n,!1)}return!1}function Ie(e,t,i,n){for(var r=0,a=0,o=e.children;a<o.length;){if(o[a].style.display!=="none"&&o[a]!==p.ghost&&(n||o[a]!==p.dragged)&&X(o[a],i.draggable,e,!1)){if(r===t)return o[a];r++}a++}return null}function Pt(e,t){for(var i=e.lastElementChild;i&&(i===p.ghost||f(i,"display")==="none"||t&&!qe(i,t));)i=i.previousElementSibling;return i||null}function B(e,t){var i=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==p.clone&&(!t||qe(e,t))&&i++;return i}function zt(e){var t=0,i=0,n=U();if(e)do{var r=we(e),a=r.a,o=r.d;t+=e.scrollLeft*a,i+=e.scrollTop*o}while(e!==n&&(e=e.parentNode));return[t,i]}function rr(e,t){for(var i in e)if(e.hasOwnProperty(i)){for(var n in t)if(t.hasOwnProperty(n)&&t[n]===e[i][n])return Number(i)}return-1}function re(e,t){if(!e||!e.getBoundingClientRect)return U();var i=e,n=!1;do if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var r=f(i);if(i.clientWidth<i.scrollWidth&&(r.overflowX=="auto"||r.overflowX=="scroll")||i.clientHeight<i.scrollHeight&&(r.overflowY=="auto"||r.overflowY=="scroll")){if(!i.getBoundingClientRect||i===document.body)return U();if(n||t)return i;n=!0}}while(i=i.parentNode);return U()}function ar(e,t){if(e&&t)for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function rt(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var Fe;function pi(e,t){return function(){if(!Fe){var i=arguments,n=this;i.length===1?e.call(n,i[0]):e.apply(n,i),Fe=setTimeout(function(){Fe=void 0},t)}}}function or(){clearTimeout(Fe),Fe=void 0}function gi(e,t,i){e.scrollLeft+=t,e.scrollTop+=i}function mi(e){var t=window.Polymer,i=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):i?i(e).clone(!0)[0]:e.cloneNode(!0)}function vi(e,t,i){var n={};return Array.from(e.children).forEach(function(r){var a,o,s,l;if(!(!X(r,t.draggable,e,!1)||r.animated||r===i)){var c=C(r);n.left=Math.min((a=n.left)!==null&&a!==void 0?a:1/0,c.left),n.top=Math.min((o=n.top)!==null&&o!==void 0?o:1/0,c.top),n.right=Math.max((s=n.right)!==null&&s!==void 0?s:-1/0,c.right),n.bottom=Math.max((l=n.bottom)!==null&&l!==void 0?l:-1/0,c.bottom)}}),n.width=n.right-n.left,n.height=n.bottom-n.top,n.x=n.left,n.y=n.top,n}var L="Sortable"+new Date().getTime();function lr(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var i=[].slice.call(this.el.children);i.forEach(function(n){if(!(f(n,"display")==="none"||n===p.ghost)){e.push({target:n,rect:C(n)});var r=z({},e[e.length-1].rect);if(n.thisAnimationDuration){var a=we(n,!0);a&&(r.top-=a.f,r.left-=a.e)}n.fromRect=r}})}},addAnimationState:function(i){e.push(i)},removeAnimationState:function(i){e.splice(rr(e,{target:i}),1)},animateAll:function(i){var n=this;if(!this.options.animation){clearTimeout(t),typeof i=="function"&&i();return}var r=!1,a=0;e.forEach(function(o){var s=0,l=o.target,c=l.fromRect,u=C(l),h=l.prevFromRect,E=l.prevToRect,m=o.rect,A=we(l,!0);A&&(u.top-=A.f,u.left-=A.e),l.toRect=u,l.thisAnimationDuration&&rt(h,u)&&!rt(c,u)&&(m.top-u.top)/(m.left-u.left)===(c.top-u.top)/(c.left-u.left)&&(s=cr(m,h,E,n.options)),rt(u,c)||(l.prevFromRect=c,l.prevToRect=u,s||(s=n.options.animation),n.animate(l,m,u,s)),s&&(r=!0,a=Math.max(a,s),clearTimeout(l.animationResetTimer),l.animationResetTimer=setTimeout(function(){l.animationTime=0,l.prevFromRect=null,l.fromRect=null,l.prevToRect=null,l.thisAnimationDuration=null},s),l.thisAnimationDuration=s)}),clearTimeout(t),r?t=setTimeout(function(){typeof i=="function"&&i()},a):typeof i=="function"&&i(),e=[]},animate:function(i,n,r,a){if(a){f(i,"transition",""),f(i,"transform","");var o=we(this.el),s=o&&o.a,l=o&&o.d,c=(n.left-r.left)/(s||1),u=(n.top-r.top)/(l||1);i.animatingX=!!c,i.animatingY=!!u,f(i,"transform","translate3d("+c+"px,"+u+"px,0)"),this.forRepaintDummy=sr(i),f(i,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),f(i,"transform","translate3d(0,0,0)"),typeof i.animated=="number"&&clearTimeout(i.animated),i.animated=setTimeout(function(){f(i,"transition",""),f(i,"transform",""),i.animated=!1,i.animatingX=!1,i.animatingY=!1},a)}}}}function sr(e){return e.offsetWidth}function cr(e,t,i,n){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-i.top,2)+Math.pow(t.left-i.left,2))*n.animation}var me=[],at={initializeByDefault:!0},Ne={mount:function(e){for(var t in at)at.hasOwnProperty(t)&&!(t in e)&&(e[t]=at[t]);me.forEach(function(i){if(i.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),me.push(e)},pluginEvent:function(e,t,i){var n=this;this.eventCanceled=!1,i.cancel=function(){n.eventCanceled=!0};var r=e+"Global";me.forEach(function(a){t[a.pluginName]&&(t[a.pluginName][r]&&t[a.pluginName][r](z({sortable:t},i)),t.options[a.pluginName]&&t[a.pluginName][e]&&t[a.pluginName][e](z({sortable:t},i)))})},initializePlugins:function(e,t,i,n){me.forEach(function(o){var s=o.pluginName;if(!(!e.options[s]&&!o.initializeByDefault)){var l=new o(e,t,e.options);l.sortable=e,l.options=e.options,e[s]=l,Q(i,l.defaults)}});for(var r in e.options)if(e.options.hasOwnProperty(r)){var a=this.modifyOption(e,r,e.options[r]);typeof a<"u"&&(e.options[r]=a)}},getEventProperties:function(e,t){var i={};return me.forEach(function(n){typeof n.eventProperties=="function"&&Q(i,n.eventProperties.call(t[n.pluginName],e))}),i},modifyOption:function(e,t,i){var n;return me.forEach(function(r){e[r.pluginName]&&r.optionListeners&&typeof r.optionListeners[t]=="function"&&(n=r.optionListeners[t].call(e[r.pluginName],i))}),n}};function dr(e){var t=e.sortable,i=e.rootEl,n=e.name,r=e.targetEl,a=e.cloneEl,o=e.toEl,s=e.fromEl,l=e.oldIndex,c=e.newIndex,u=e.oldDraggableIndex,h=e.newDraggableIndex,E=e.originalEvent,m=e.putSortable,A=e.extraEventProperties;if(t=t||i&&i[L],!!t){var y,G=t.options,F="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!Z&&!Le?y=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(y=document.createEvent("Event"),y.initEvent(n,!0,!0)),y.to=o||i,y.from=s||i,y.item=r||i,y.clone=a,y.oldIndex=l,y.newIndex=c,y.oldDraggableIndex=u,y.newDraggableIndex=h,y.originalEvent=E,y.pullMode=m?m.lastPutMode:void 0;var W=z(z({},A),Ne.getEventProperties(n,t));for(var P in W)y[P]=W[P];i&&i.dispatchEvent(y),G[F]&&G[F].call(t,y)}}var ur=["evt"],M=function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=i.evt,r=ir(i,ur);Ne.pluginEvent.bind(p)(e,t,z({dragEl:d,parentEl:D,ghostEl:g,rootEl:I,nextEl:ue,lastDownEl:Ue,cloneEl:S,cloneHidden:ne,dragStarted:Ce,putSortable:T,activeSortable:p.active,originalEvent:n,oldIndex:Ee,oldDraggableIndex:Oe,newIndex:R,newDraggableIndex:ie,hideGhostForTarget:wi,unhideGhostForTarget:Ii,cloneNowHidden:function(){ne=!0},cloneNowShown:function(){ne=!1},dispatchSortableEvent:function(a){O({sortable:t,name:a,originalEvent:n})}},r))};function O(e){dr(z({putSortable:T,cloneEl:S,targetEl:d,rootEl:I,oldIndex:Ee,oldDraggableIndex:Oe,newIndex:R,newDraggableIndex:ie},e))}var d,D,g,I,ue,Ue,S,ne,Ee,R,Oe,ie,Re,T,be=!1,Ke=!1,Qe=[],ce,H,ot,lt,Gt,Wt,Ce,ve,$e,Me=!1,Be=!1,ze,_,st=[],vt=!1,Ze=[],Je=typeof document<"u",He=Tt,qt=Le||Z?"cssFloat":"float",hr=Je&&!di&&!Tt&&"draggable"in document.createElement("div"),bi=function(){if(Je){if(Z)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),yi=function(e,t){var i=f(e),n=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),r=Ie(e,0,t),a=Ie(e,1,t),o=r&&f(r),s=a&&f(a),l=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+C(r).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+C(a).width;if(i.display==="flex")return i.flexDirection==="column"||i.flexDirection==="column-reverse"?"vertical":"horizontal";if(i.display==="grid")return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&o.float&&o.float!=="none"){var u=o.float==="left"?"left":"right";return a&&(s.clear==="both"||s.clear===u)?"vertical":"horizontal"}return r&&(o.display==="block"||o.display==="flex"||o.display==="table"||o.display==="grid"||l>=n&&i[qt]==="none"||a&&i[qt]==="none"&&l+c>n)?"vertical":"horizontal"},fr=function(e,t,i){var n=i?e.left:e.top,r=i?e.right:e.bottom,a=i?e.width:e.height,o=i?t.left:t.top,s=i?t.right:t.bottom,l=i?t.width:t.height;return n===o||r===s||n+a/2===o+l/2},pr=function(e,t){var i;return Qe.some(function(n){var r=n[L].options.emptyInsertThreshold;if(!(!r||Pt(n))){var a=C(n),o=e>=a.left-r&&e<=a.right+r,s=t>=a.top-r&&t<=a.bottom+r;if(o&&s)return i=n}}),i},Ei=function(e){function t(r,a){return function(o,s,l,c){var u=o.options.group.name&&s.options.group.name&&o.options.group.name===s.options.group.name;if(r==null&&(a||u))return!0;if(r==null||r===!1)return!1;if(a&&r==="clone")return r;if(typeof r=="function")return t(r(o,s,l,c),a)(o,s,l,c);var h=(a?o:s).options.group.name;return r===!0||typeof r=="string"&&r===h||r.join&&r.indexOf(h)>-1}}var i={},n=e.group;(!n||Ye(n)!="object")&&(n={name:n}),i.name=n.name,i.checkPull=t(n.pull,!0),i.checkPut=t(n.put),i.revertClone=n.revertClone,e.group=i},wi=function(){!bi&&g&&f(g,"display","none")},Ii=function(){!bi&&g&&f(g,"display","")};Je&&!di&&document.addEventListener("click",function(e){if(Ke)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Ke=!1,!1},!0);var de=function(e){if(d){e=e.touches?e.touches[0]:e;var t=pr(e.clientX,e.clientY);if(t){var i={};for(var n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);i.target=i.rootEl=t,i.preventDefault=void 0,i.stopPropagation=void 0,t[L]._onDragOver(i)}}},gr=function(e){d&&d.parentNode[L]._isOutsideThisEl(e.target)};function p(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=Q({},t),e[L]=this;var i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return yi(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,o){a.setData("Text",o.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:p.supportPointer!==!1&&"PointerEvent"in window&&(!ke||Tt),emptyInsertThreshold:5};Ne.initializePlugins(this,e,i);for(var n in i)!(n in t)&&(t[n]=i[n]);Ei(t);for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));this.nativeDraggable=t.forceFallback?!1:hr,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?b(e,"pointerdown",this._onTapStart):(b(e,"mousedown",this._onTapStart),b(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(b(e,"dragover",this),b(e,"dragenter",this)),Qe.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Q(this,lr())}p.prototype={constructor:p,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(ve=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,d):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,i=this.el,n=this.options,r=n.preventOnFilter,a=e.type,o=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,s=(o||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,c=n.filter;if(Sr(i),!d&&!(/mousedown|pointerdown/.test(a)&&e.button!==0||n.disabled)&&!l.isContentEditable&&!(!this.nativeDraggable&&ke&&s&&s.tagName.toUpperCase()==="SELECT")&&(s=X(s,n.draggable,i,!1),!(s&&s.animated)&&Ue!==s)){if(Ee=B(s),Oe=B(s,n.draggable),typeof c=="function"){if(c.call(this,e,s,this)){O({sortable:t,rootEl:l,name:"filter",targetEl:s,toEl:i,fromEl:i}),M("filter",t,{evt:e}),r&&e.preventDefault();return}}else if(c&&(c=c.split(",").some(function(u){if(u=X(l,u.trim(),i,!1),u)return O({sortable:t,rootEl:u,name:"filter",targetEl:s,fromEl:i,toEl:i}),M("filter",t,{evt:e}),!0}),c)){r&&e.preventDefault();return}n.handle&&!X(l,n.handle,i,!1)||this._prepareDragStart(e,o,s)}}},_prepareDragStart:function(e,t,i){var n=this,r=n.el,a=n.options,o=r.ownerDocument,s;if(i&&!d&&i.parentNode===r){var l=C(i);if(I=r,d=i,D=d.parentNode,ue=d.nextSibling,Ue=i,Re=a.group,p.dragged=d,ce={target:d,clientX:(t||e).clientX,clientY:(t||e).clientY},Gt=ce.clientX-l.left,Wt=ce.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,d.style["will-change"]="all",s=function(){if(M("delayEnded",n,{evt:e}),p.eventCanceled){n._onDrop();return}n._disableDelayedDragEvents(),!Xt&&n.nativeDraggable&&(d.draggable=!0),n._triggerDragStart(e,t),O({sortable:n,name:"choose",originalEvent:e}),j(d,a.chosenClass,!0)},a.ignore.split(",").forEach(function(c){fi(d,c.trim(),ct)}),b(o,"dragover",de),b(o,"mousemove",de),b(o,"touchmove",de),a.supportPointer?(b(o,"pointerup",n._onDrop),!this.nativeDraggable&&b(o,"pointercancel",n._onDrop)):(b(o,"mouseup",n._onDrop),b(o,"touchend",n._onDrop),b(o,"touchcancel",n._onDrop)),Xt&&this.nativeDraggable&&(this.options.touchStartThreshold=4,d.draggable=!0),M("delayStart",this,{evt:e}),a.delay&&(!a.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(Le||Z))){if(p.eventCanceled){this._onDrop();return}a.supportPointer?(b(o,"pointerup",n._disableDelayedDrag),b(o,"pointercancel",n._disableDelayedDrag)):(b(o,"mouseup",n._disableDelayedDrag),b(o,"touchend",n._disableDelayedDrag),b(o,"touchcancel",n._disableDelayedDrag)),b(o,"mousemove",n._delayedDragTouchMoveHandler),b(o,"touchmove",n._delayedDragTouchMoveHandler),a.supportPointer&&b(o,"pointermove",n._delayedDragTouchMoveHandler),n._dragStartTimer=setTimeout(s,a.delay)}else s()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){d&&ct(d),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;v(e,"mouseup",this._disableDelayedDrag),v(e,"touchend",this._disableDelayedDrag),v(e,"touchcancel",this._disableDelayedDrag),v(e,"pointerup",this._disableDelayedDrag),v(e,"pointercancel",this._disableDelayedDrag),v(e,"mousemove",this._delayedDragTouchMoveHandler),v(e,"touchmove",this._delayedDragTouchMoveHandler),v(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?b(document,"pointermove",this._onTouchMove):t?b(document,"touchmove",this._onTouchMove):b(document,"mousemove",this._onTouchMove):(b(d,"dragend",this),b(I,"dragstart",this._onDragStart));try{document.selection?Ge(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(be=!1,I&&d){M("dragStarted",this,{evt:t}),this.nativeDraggable&&b(document,"dragover",gr);var i=this.options;!e&&j(d,i.dragClass,!1),j(d,i.ghostClass,!0),p.active=this,e&&this._appendGhost(),O({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(H){this._lastX=H.clientX,this._lastY=H.clientY,wi();for(var e=document.elementFromPoint(H.clientX,H.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(H.clientX,H.clientY),e!==t);)t=e;if(d.parentNode[L]._isOutsideThisEl(e),t)do{if(t[L]){var i=void 0;if(i=t[L]._onDragOver({clientX:H.clientX,clientY:H.clientY,target:e,rootEl:t}),i&&!this.options.dragoverBubble)break}e=t}while(t=hi(t));Ii()}},_onTouchMove:function(e){if(ce){var t=this.options,i=t.fallbackTolerance,n=t.fallbackOffset,r=e.touches?e.touches[0]:e,a=g&&we(g,!0),o=g&&a&&a.a,s=g&&a&&a.d,l=He&&_&&zt(_),c=(r.clientX-ce.clientX+n.x)/(o||1)+(l?l[0]-st[0]:0)/(o||1),u=(r.clientY-ce.clientY+n.y)/(s||1)+(l?l[1]-st[1]:0)/(s||1);if(!p.active&&!be){if(i&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<i)return;this._onDragStart(e,!0)}if(g){a?(a.e+=c-(ot||0),a.f+=u-(lt||0)):a={a:1,b:0,c:0,d:1,e:c,f:u};var h="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");f(g,"webkitTransform",h),f(g,"mozTransform",h),f(g,"msTransform",h),f(g,"transform",h),ot=c,lt=u,H=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!g){var e=this.options.fallbackOnBody?document.body:I,t=C(d,!0,He,!0,e),i=this.options;if(He){for(_=e;f(_,"position")==="static"&&f(_,"transform")==="none"&&_!==document;)_=_.parentNode;_!==document.body&&_!==document.documentElement?(_===document&&(_=U()),t.top+=_.scrollTop,t.left+=_.scrollLeft):_=U(),st=zt(_)}g=d.cloneNode(!0),j(g,i.ghostClass,!1),j(g,i.fallbackClass,!0),j(g,i.dragClass,!0),f(g,"transition",""),f(g,"transform",""),f(g,"box-sizing","border-box"),f(g,"margin",0),f(g,"top",t.top),f(g,"left",t.left),f(g,"width",t.width),f(g,"height",t.height),f(g,"opacity","0.8"),f(g,"position",He?"absolute":"fixed"),f(g,"zIndex","100000"),f(g,"pointerEvents","none"),p.ghost=g,e.appendChild(g),f(g,"transform-origin",Gt/parseInt(g.style.width)*100+"% "+Wt/parseInt(g.style.height)*100+"%")}},_onDragStart:function(e,t){var i=this,n=e.dataTransfer,r=i.options;if(M("dragStart",this,{evt:e}),p.eventCanceled){this._onDrop();return}M("setupClone",this),p.eventCanceled||(S=mi(d),S.removeAttribute("id"),S.draggable=!1,S.style["will-change"]="",this._hideClone(),j(S,this.options.chosenClass,!1),p.clone=S),i.cloneId=Ge(function(){M("clone",i),!p.eventCanceled&&(i.options.removeCloneOnHide||I.insertBefore(S,d),i._hideClone(),O({sortable:i,name:"clone"}))}),!t&&j(d,r.dragClass,!0),t?(Ke=!0,i._loopId=setInterval(i._emulateDragOver,50)):(v(document,"mouseup",i._onDrop),v(document,"touchend",i._onDrop),v(document,"touchcancel",i._onDrop),n&&(n.effectAllowed="move",r.setData&&r.setData.call(i,n,d)),b(document,"drop",i),f(d,"transform","translateZ(0)")),be=!0,i._dragStartId=Ge(i._dragStarted.bind(i,t,e)),b(document,"selectstart",i),Ce=!0,window.getSelection().removeAllRanges(),ke&&f(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,i=e.target,n,r,a,o=this.options,s=o.group,l=p.active,c=Re===s,u=o.sort,h=T||l,E,m=this,A=!1;if(vt)return;function y(De,Ci){M(De,m,z({evt:e,isOwner:c,axis:E?"vertical":"horizontal",revert:a,dragRect:n,targetRect:r,canSort:u,fromSortable:h,target:i,completed:F,onMove:function(_t,Ai){return Xe(I,t,d,n,_t,C(_t),e,Ai)},changed:W},Ci))}function G(){y("dragOverAnimationCapture"),m.captureAnimationState(),m!==h&&h.captureAnimationState()}function F(De){return y("dragOverCompleted",{insertion:De}),De&&(c?l._hideClone():l._showClone(m),m!==h&&(j(d,T?T.options.ghostClass:l.options.ghostClass,!1),j(d,o.ghostClass,!0)),T!==m&&m!==p.active?T=m:m===p.active&&T&&(T=null),h===m&&(m._ignoreWhileAnimating=i),m.animateAll(function(){y("dragOverAnimationComplete"),m._ignoreWhileAnimating=null}),m!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(i===d&&!d.animated||i===t&&!i.animated)&&(ve=null),!o.dragoverBubble&&!e.rootEl&&i!==document&&(d.parentNode[L]._isOutsideThisEl(e.target),!De&&de(e)),!o.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),A=!0}function W(){R=B(d),ie=B(d,o.draggable),O({sortable:m,name:"change",toEl:t,newIndex:R,newDraggableIndex:ie,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),i=X(i,o.draggable,t,!0),y("dragOver"),p.eventCanceled)return A;if(d.contains(e.target)||i.animated&&i.animatingX&&i.animatingY||m._ignoreWhileAnimating===i)return F(!1);if(Ke=!1,l&&!o.disabled&&(c?u||(a=D!==I):T===this||(this.lastPutMode=Re.checkPull(this,l,d,e))&&s.checkPut(this,l,d,e))){if(E=this._getDirection(e,i)==="vertical",n=C(d),y("dragOverValid"),p.eventCanceled)return A;if(a)return D=I,G(),this._hideClone(),y("revert"),p.eventCanceled||(ue?I.insertBefore(d,ue):I.appendChild(d)),F(!0);var P=Pt(t,o.draggable);if(!P||yr(e,E,this)&&!P.animated){if(P===d)return F(!1);if(P&&t===e.target&&(i=P),i&&(r=C(i)),Xe(I,t,d,n,i,r,e,!!i)!==!1)return G(),P&&P.nextSibling?t.insertBefore(d,P.nextSibling):t.appendChild(d),D=t,W(),F(!0)}else if(P&&br(e,E,this)){var ae=Ie(t,0,o,!0);if(ae===d)return F(!1);if(i=ae,r=C(i),Xe(I,t,d,n,i,r,e,!1)!==!1)return G(),t.insertBefore(d,ae),D=t,W(),F(!0)}else if(i.parentNode===t){r=C(i);var Y=0,oe,Se=d.parentNode!==t,fe=!fr(d.animated&&d.toRect||n,i.animated&&i.toRect||r,E),N=E?"top":"left",V=Ut(i,"top","top")||Ut(d,"top","top"),je=V?V.scrollTop:void 0;ve!==i&&(oe=r[N],Me=!1,Be=!fe&&o.invertSwap||Se),Y=Er(e,i,r,E,fe?1:o.swapThreshold,o.invertedSwapThreshold==null?o.swapThreshold:o.invertedSwapThreshold,Be,ve===i);var q;if(Y!==0){var pe=B(d);do pe-=Y,q=D.children[pe];while(q&&(f(q,"display")==="none"||q===g))}if(Y===0||q===i)return F(!1);ve=i,$e=Y;var le=i.nextElementSibling,J=!1;J=Y===1;var se=Xe(I,t,d,n,i,r,e,J);if(se!==!1)return(se===1||se===-1)&&(J=se===1),vt=!0,setTimeout(vr,30),G(),J&&!le?t.appendChild(d):i.parentNode.insertBefore(d,J?le:i),V&&gi(V,0,je-V.scrollTop),D=d.parentNode,oe!==void 0&&!Be&&(ze=Math.abs(oe-C(i)[N])),W(),F(!0)}if(t.contains(d))return F(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){v(document,"mousemove",this._onTouchMove),v(document,"touchmove",this._onTouchMove),v(document,"pointermove",this._onTouchMove),v(document,"dragover",de),v(document,"mousemove",de),v(document,"touchmove",de)},_offUpEvents:function(){var e=this.el.ownerDocument;v(e,"mouseup",this._onDrop),v(e,"touchend",this._onDrop),v(e,"pointerup",this._onDrop),v(e,"pointercancel",this._onDrop),v(e,"touchcancel",this._onDrop),v(document,"selectstart",this)},_onDrop:function(e){var t=this.el,i=this.options;if(R=B(d),ie=B(d,i.draggable),M("drop",this,{evt:e}),D=d&&d.parentNode,R=B(d),ie=B(d,i.draggable),p.eventCanceled){this._nulling();return}be=!1,Be=!1,Me=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),bt(this.cloneId),bt(this._dragStartId),this.nativeDraggable&&(v(document,"drop",this),v(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),ke&&f(document.body,"user-select",""),f(d,"transform",""),e&&(Ce&&(e.cancelable&&e.preventDefault(),!i.dropBubble&&e.stopPropagation()),g&&g.parentNode&&g.parentNode.removeChild(g),(I===D||T&&T.lastPutMode!=="clone")&&S&&S.parentNode&&S.parentNode.removeChild(S),d&&(this.nativeDraggable&&v(d,"dragend",this),ct(d),d.style["will-change"]="",Ce&&!be&&j(d,T?T.options.ghostClass:this.options.ghostClass,!1),j(d,this.options.chosenClass,!1),O({sortable:this,name:"unchoose",toEl:D,newIndex:null,newDraggableIndex:null,originalEvent:e}),I!==D?(R>=0&&(O({rootEl:D,name:"add",toEl:D,fromEl:I,originalEvent:e}),O({sortable:this,name:"remove",toEl:D,originalEvent:e}),O({rootEl:D,name:"sort",toEl:D,fromEl:I,originalEvent:e}),O({sortable:this,name:"sort",toEl:D,originalEvent:e})),T&&T.save()):R!==Ee&&R>=0&&(O({sortable:this,name:"update",toEl:D,originalEvent:e}),O({sortable:this,name:"sort",toEl:D,originalEvent:e})),p.active&&((R==null||R===-1)&&(R=Ee,ie=Oe),O({sortable:this,name:"end",toEl:D,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){M("nulling",this),I=d=D=g=ue=S=Ue=ne=ce=H=Ce=R=ie=Ee=Oe=ve=$e=T=Re=p.dragged=p.ghost=p.clone=p.active=null,Ze.forEach(function(e){e.checked=!0}),Ze.length=ot=lt=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":d&&(this._onDragOver(e),mr(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,i=this.el.children,n=0,r=i.length,a=this.options;n<r;n++)t=i[n],X(t,a.draggable,this.el,!1)&&e.push(t.getAttribute(a.dataIdAttr)||Ir(t));return e},sort:function(e,t){var i={},n=this.el;this.toArray().forEach(function(r,a){var o=n.children[a];X(o,this.options.draggable,n,!1)&&(i[r]=o)},this),t&&this.captureAnimationState(),e.forEach(function(r){i[r]&&(n.removeChild(i[r]),n.appendChild(i[r]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return X(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var i=this.options;if(t===void 0)return i[e];var n=Ne.modifyOption(this,e,t);typeof n<"u"?i[e]=n:i[e]=t,e==="group"&&Ei(i)},destroy:function(){M("destroy",this);var e=this.el;e[L]=null,v(e,"mousedown",this._onTapStart),v(e,"touchstart",this._onTapStart),v(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(v(e,"dragover",this),v(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Qe.splice(Qe.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ne){if(M("hideClone",this),p.eventCanceled)return;f(S,"display","none"),this.options.removeCloneOnHide&&S.parentNode&&S.parentNode.removeChild(S),ne=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(ne){if(M("showClone",this),p.eventCanceled)return;d.parentNode==I&&!this.options.group.revertClone?I.insertBefore(S,d):ue?I.insertBefore(S,ue):I.appendChild(S),this.options.group.revertClone&&this.animate(d,S),f(S,"display",""),ne=!1}}};function mr(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Xe(e,t,i,n,r,a,o,s){var l,c=e[L],u=c.options.onMove,h;return window.CustomEvent&&!Z&&!Le?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=t,l.from=e,l.dragged=i,l.draggedRect=n,l.related=r||t,l.relatedRect=a||C(t),l.willInsertAfter=s,l.originalEvent=o,e.dispatchEvent(l),u&&(h=u.call(c,l,o)),h}function ct(e){e.draggable=!1}function vr(){vt=!1}function br(e,t,i){var n=C(Ie(i.el,0,i.options,!0)),r=vi(i.el,i.options,g),a=10;return t?e.clientX<r.left-a||e.clientY<n.top&&e.clientX<n.right:e.clientY<r.top-a||e.clientY<n.bottom&&e.clientX<n.left}function yr(e,t,i){var n=C(Pt(i.el,i.options.draggable)),r=vi(i.el,i.options,g),a=10;return t?e.clientX>r.right+a||e.clientY>n.bottom&&e.clientX>n.left:e.clientY>r.bottom+a||e.clientX>n.right&&e.clientY>n.top}function Er(e,t,i,n,r,a,o,s){var l=n?e.clientY:e.clientX,c=n?i.height:i.width,u=n?i.top:i.left,h=n?i.bottom:i.right,E=!1;if(!o){if(s&&ze<c*r){if(!Me&&($e===1?l>u+c*a/2:l<h-c*a/2)&&(Me=!0),Me)E=!0;else if($e===1?l<u+ze:l>h-ze)return-$e}else if(l>u+c*(1-r)/2&&l<h-c*(1-r)/2)return wr(t)}return E=E||o,E&&(l<u+c*a/2||l>h-c*a/2)?l>u+c/2?1:-1:0}function wr(e){return B(d)<B(e)?1:-1}function Ir(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,i=t.length,n=0;i--;)n+=t.charCodeAt(i);return n.toString(36)}function Sr(e){Ze.length=0;for(var t=e.getElementsByTagName("input"),i=t.length;i--;){var n=t[i];n.checked&&Ze.push(n)}}function Ge(e){return setTimeout(e,0)}function bt(e){return clearTimeout(e)}Je&&b(document,"touchmove",function(e){(p.active||be)&&e.cancelable&&e.preventDefault()}),p.utils={on:b,off:v,css:f,find:fi,is:function(e,t){return!!X(e,t,e,!1)},extend:ar,throttle:pi,closest:X,toggleClass:j,clone:mi,index:B,nextTick:Ge,cancelNextTick:bt,detectDirection:yi,getChild:Ie,expando:L},p.get=function(e){return e[L]},p.mount=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t[0].constructor===Array&&(t=t[0]),t.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(p.utils=z(z({},p.utils),n.utils)),Ne.mount(n)})},p.create=function(e,t){return new p(e,t)},p.version=nr;var x=[],Ae,yt,Et=!1,dt,ut,Ve,Te;function Dr(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(t){var i=t.originalEvent;this.sortable.nativeDraggable?b(document,"dragover",this._handleAutoScroll):this.options.supportPointer?b(document,"pointermove",this._handleFallbackAutoScroll):i.touches?b(document,"touchmove",this._handleFallbackAutoScroll):b(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var i=t.originalEvent;!this.options.dragOverBubble&&!i.rootEl&&this._handleAutoScroll(i)},drop:function(){this.sortable.nativeDraggable?v(document,"dragover",this._handleAutoScroll):(v(document,"pointermove",this._handleFallbackAutoScroll),v(document,"touchmove",this._handleFallbackAutoScroll),v(document,"mousemove",this._handleFallbackAutoScroll)),Kt(),We(),or()},nulling:function(){Ve=yt=Ae=Et=Te=dt=ut=null,x.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,i){var n=this,r=(t.touches?t.touches[0]:t).clientX,a=(t.touches?t.touches[0]:t).clientY,o=document.elementFromPoint(r,a);if(Ve=t,i||this.options.forceAutoScrollFallback||Le||Z||ke){ht(t,this.options,o,i);var s=re(o,!0);Et&&(!Te||r!==dt||a!==ut)&&(Te&&Kt(),Te=setInterval(function(){var l=re(document.elementFromPoint(r,a),!0);l!==s&&(s=l,We()),ht(t,n.options,l,i)},10),dt=r,ut=a)}else{if(!this.options.bubbleScroll||re(o,!0)===U()){We();return}ht(t,this.options,re(o,!1),!1)}}},Q(e,{pluginName:"scroll",initializeByDefault:!0})}function We(){x.forEach(function(e){clearInterval(e.pid)}),x=[]}function Kt(){clearInterval(Te)}var ht=pi(function(e,t,i,n){if(t.scroll){var r=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,o=t.scrollSensitivity,s=t.scrollSpeed,l=U(),c=!1,u;yt!==i&&(yt=i,We(),Ae=t.scroll,u=t.scrollFn,Ae===!0&&(Ae=re(i,!0)));var h=0,E=Ae;do{var m=E,A=C(m),y=A.top,G=A.bottom,F=A.left,W=A.right,P=A.width,ae=A.height,Y=void 0,oe=void 0,Se=m.scrollWidth,fe=m.scrollHeight,N=f(m),V=m.scrollLeft,je=m.scrollTop;m===l?(Y=P<Se&&(N.overflowX==="auto"||N.overflowX==="scroll"||N.overflowX==="visible"),oe=ae<fe&&(N.overflowY==="auto"||N.overflowY==="scroll"||N.overflowY==="visible")):(Y=P<Se&&(N.overflowX==="auto"||N.overflowX==="scroll"),oe=ae<fe&&(N.overflowY==="auto"||N.overflowY==="scroll"));var q=Y&&(Math.abs(W-r)<=o&&V+P<Se)-(Math.abs(F-r)<=o&&!!V),pe=oe&&(Math.abs(G-a)<=o&&je+ae<fe)-(Math.abs(y-a)<=o&&!!je);if(!x[h])for(var le=0;le<=h;le++)x[le]||(x[le]={});(x[h].vx!=q||x[h].vy!=pe||x[h].el!==m)&&(x[h].el=m,x[h].vx=q,x[h].vy=pe,clearInterval(x[h].pid),(q!=0||pe!=0)&&(c=!0,x[h].pid=setInterval(function(){n&&this.layer===0&&p.active._onTouchMove(Ve);var J=x[this.layer].vy?x[this.layer].vy*s:0,se=x[this.layer].vx?x[this.layer].vx*s:0;typeof u=="function"&&u.call(p.dragged.parentNode[L],se,J,e,Ve,x[this.layer].el)!=="continue"||gi(x[this.layer].el,se,J)}.bind({layer:h}),24))),h++}while(t.bubbleScroll&&E!==l&&(E=re(E,!1)));Et=c}},30),Si=function(e){var t=e.originalEvent,i=e.putSortable,n=e.dragEl,r=e.activeSortable,a=e.dispatchSortableEvent,o=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var l=i||r;o();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);s(),l&&!l.el.contains(u)&&(a("spill"),this.onSpill({dragEl:n,putSortable:i}))}};function wt(){}wt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,i=e.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var n=Ie(this.sortable.el,this.startIndex,this.options);n?this.sortable.el.insertBefore(t,n):this.sortable.el.appendChild(t),this.sortable.animateAll(),i&&i.animateAll()},drop:Si},Q(wt,{pluginName:"revertOnSpill"});function ft(){}ft.prototype={onSpill:function(e){var t=e.dragEl,i=e.putSortable,n=i||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:Si},Q(ft,{pluginName:"removeOnSpill"}),p.mount(new Dr),p.mount(ft,wt);const et=new Set,xr={ghostClass:"calcite-sortable--ghost",chosenClass:"calcite-sortable--chosen",dragClass:"calcite-sortable--drag",fallbackClass:"calcite-sortable--fallback"};function Cr(e){if(xi(e))return;Di(e),et.add(e);const t="id",{group:i,handleSelector:n,dragSelector:r}=e;e.sortable=p.create(e.el,{dataIdAttr:t,...xr,...!!r&&{draggable:r},...!!i&&{group:{name:i,...!!e.canPull&&{pull:(a,o,s,{newDraggableIndex:l,oldDraggableIndex:c})=>e.canPull({toEl:a.el,fromEl:o.el,dragEl:s,newIndex:l,oldIndex:c})},...!!e.canPut&&{put:(a,o,s,{newDraggableIndex:l,oldDraggableIndex:c})=>e.canPut({toEl:a.el,fromEl:o.el,dragEl:s,newIndex:l,oldIndex:c})}}},onMove:({from:a,dragged:o,to:s,related:l})=>{e.onDragMove&&e.onDragMove({fromEl:a,dragEl:o,toEl:s,relatedEl:l})},handle:n,filter:`${n}[disabled]`,onStart:({from:a,item:o,to:s,newDraggableIndex:l,oldDraggableIndex:c})=>{It.active=!0,Ar(),e.onDragStart({fromEl:a,dragEl:o,toEl:s,newIndex:l,oldIndex:c})},onEnd:({from:a,item:o,to:s,newDraggableIndex:l,oldDraggableIndex:c})=>{It.active=!1,Tr(),e.onDragEnd({fromEl:a,dragEl:o,toEl:s,newIndex:l,oldIndex:c})},onSort:({from:a,item:o,to:s,newDraggableIndex:l,oldDraggableIndex:c})=>{e.onDragSort({fromEl:a,dragEl:o,toEl:s,newIndex:l,oldIndex:c})}})}function Di(e){xi(e)||(et.delete(e),e.sortable?.destroy(),e.sortable=null)}const It={active:!1};function xi(e){return e.dragEnabled&&It.active}function Ar(){Array.from(et).forEach(e=>e.onGlobalDragStart())}function Tr(){Array.from(et).forEach(e=>e.onGlobalDragEnd())}const ee={container:"container",table:"table",scrim:"scrim",stack:"stack",tableContainer:"table-container",sticky:"sticky-pos",assistiveText:"assistive-text"},pt={filterNoResults:"filter-no-results",filterActionsStart:"filter-actions-start",filterActionsEnd:"filter-actions-end"},Pr=xt`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:block}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.container{position:relative;background-color:var(--calcite-list-background-color, var(--calcite-color-foreground-1))}.table-container{box-sizing:border-box;display:flex;inline-size:100%;flex-direction:column;background-color:transparent}.table-container *{box-sizing:border-box}.table{inline-size:100%}.stack{--calcite-stack-padding-inline: 0;--calcite-stack-padding-block: 0}.sticky-pos{position:sticky;inset-block-start:0px;z-index:var(--calcite-z-index-sticky);background-color:var(--calcite-list-background-color, var(--calcite-color-foreground-1))}.assistive-text{position:absolute;inline-size:1px;block-size:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}:host([hidden]){display:none}[hidden]{display:none}`,_r=`${mt}, ${xe}`;class kr extends Dt{constructor(){super(),this.dragSelector=xe,this.focusableItems=[],this.handleSelector="calcite-sort-handle",this.listItems=[],this.listItemGroups=[],this.mutationObserver=Oi("mutation",()=>{this.willPerformFilter=!0,this.updateListItems()}),this.updateListItems=Zt(()=>{this.updateGroupItems();const{selectionAppearance:t,selectionMode:i,interactionMode:n,dragEnabled:r,el:a,filterEl:o,moveToItems:s,displayMode:l,scale:c}=this,u=Array.from(this.el.querySelectorAll(xe));if(u.forEach(h=>{h.scale=c,h.selectionAppearance=t,h.selectionMode=i,h.interactionMode=n,h.closest(tt)===a&&(h.moveToItems=s.filter(E=>E.element!==a&&!h.contains(E.element)),h.dragHandle=r,h.displayMode=l)}),this.parentListEl){this.setUpSorting();return}this.listItems=u,this.filterEnabled&&this.willPerformFilter&&(this.willPerformFilter=!1,this.dataForFilter=this.getItemData(),o&&(o.items=this.dataForFilter,this.filterAndUpdateData())),this.visibleItems=this.listItems.filter(h=>!h.closed&&!h.hidden),this.updateFilteredItems(),this.borderItems(),this.focusableItems=this.filteredItems.filter(h=>!h.disabled),this.setActiveListItem(),this.updateSelectedItems(),this.setUpSorting()},Qt.nextTick),this.visibleItems=[],this.willFilterEmit=!1,this.willPerformFilter=!1,this.messages=ii({blocking:!0}),this.dataForFilter=[],this.hasFilterActionsEnd=!1,this.hasFilterActionsStart=!1,this.hasFilterNoResults=!1,this.moveToItems=[],this.disabled=!1,this.dragEnabled=!1,this.filterEnabled=!1,this.filteredData=[],this.filteredItems=[],this.interactionMode="interactive",this.loading=!1,this.displayMode="flat",this.scale="m",this.selectedItems=[],this.selectionAppearance="icon",this.selectionMode="none",this.calciteInternalListDefaultSlotChange=te({cancelable:!1}),this.calciteListChange=te({cancelable:!1}),this.calciteListDragEnd=te({cancelable:!1}),this.calciteListDragStart=te({cancelable:!1}),this.calciteListFilter=te({cancelable:!1}),this.calciteListMoveHalt=te({cancelable:!1}),this.calciteListOrderChange=te({cancelable:!1}),this.listen("calciteInternalListItemToggle",this.handleCalciteListItemToggle),this.listen("calciteInternalFocusPreviousItem",this.handleCalciteInternalFocusPreviousItem),this.listen("calciteInternalListItemActive",this.handleCalciteInternalListItemActive),this.listen("calciteListItemSelect",this.handleCalciteListItemSelect),this.listen("calciteInternalAssistiveTextChange",this.handleCalciteInternalAssistiveTextChange),this.listen("calciteSortHandleReorder",this.handleSortReorder),this.listen("calciteSortHandleMove",this.handleSortMove),this.listen("calciteInternalListItemSelect",this.handleCalciteInternalListItemSelect),this.listen("calciteInternalListItemSelectMultiple",this.handleCalciteInternalListItemSelectMultiple),this.listen("calciteInternalListItemChange",this.handleCalciteInternalListItemChange),this.listen("calciteInternalListItemGroupDefaultSlotChange",this.handleCalciteInternalListItemGroupDefaultSlotChange)}static{this.properties={assistiveText:[16,{},{state:!0}],dataForFilter:[16,{},{state:!0}],hasFilterActionsEnd:[16,{},{state:!0}],hasFilterActionsStart:[16,{},{state:!0}],hasFilterNoResults:[16,{},{state:!0}],moveToItems:[16,{},{state:!0}],hasActiveFilter:[16,{},{state:!0}],showNoResultsContainer:[16,{},{state:!0}],canPull:[0,{},{attribute:!1}],canPut:[0,{},{attribute:!1}],disabled:[7,{},{reflect:!0,type:Boolean}],dragEnabled:[7,{},{reflect:!0,type:Boolean}],filterEnabled:[7,{},{reflect:!0,type:Boolean}],filterPredicate:[0,{},{attribute:!1}],filterLabel:[3,{},{reflect:!0}],filterPlaceholder:[3,{},{reflect:!0}],filterProps:[0,{},{attribute:!1}],filterText:[3,{},{reflect:!0}],filteredData:[0,{},{attribute:!1}],filteredItems:[0,{},{attribute:!1}],group:[3,{},{reflect:!0}],interactionMode:[3,{},{reflect:!0}],label:1,loading:[7,{},{reflect:!0,type:Boolean}],messageOverrides:[0,{},{attribute:!1}],displayMode:[3,{},{reflect:!0}],numberingSystem:1,scale:[3,{},{reflect:!0}],selectedItems:[0,{},{attribute:!1}],selectionAppearance:[3,{},{reflect:!0}],selectionMode:[3,{},{reflect:!0}]}}static{this.styles=Pr}get hasActiveFilter(){return this.filterEnabled&&this.filterText&&this.filteredItems.length!==this.visibleItems.length}get showNoResultsContainer(){return this.filterEnabled&&this.filterText&&this.hasFilterNoResults&&this.visibleItems.length&&!this.filteredItems.length}putFailed(t){this.calciteListMoveHalt.emit(t)}async setFocus(){return await ti(this),this.filterEnabled?this.filterEl?.setFocus():this.focusableItems.find(t=>t.active)?.setFocus()}connectedCallback(){super.connectedCallback(),this.connectObserver(),this.willPerformFilter=!0,this.updateListItems(),this.setUpSorting(),this.setParentList(),this.setListItemGroups()}async load(){this.handleInteractionModeWarning()}willUpdate(t){(t.has("filterText")||t.has("filterProps")||t.has("filterPredicate"))&&this.performFilter(),(t.has("filterEnabled")&&(this.hasUpdated||this.filterEnabled!==!1)||t.has("group")||t.has("dragEnabled")&&(this.hasUpdated||this.dragEnabled!==!1)||t.has("selectionMode")&&(this.hasUpdated||this.selectionMode!=="none")||t.has("selectionAppearance")&&(this.hasUpdated||this.selectionAppearance!=="icon")||t.has("displayMode")&&this.hasUpdated||t.has("scale")&&this.hasUpdated||t.has("filterPredicate")&&this.hasUpdated)&&this.handleListItemChange()}updated(){Jt(this)}disconnectedCallback(){super.disconnectedCallback(),this.disconnectObserver(),Di(this)}handleListItemChange(){this.willPerformFilter=!0,this.updateListItems()}handleCalciteListItemToggle(t){this.parentListEl||(t.stopPropagation(),this.borderItems())}handleCalciteInternalFocusPreviousItem(t){if(this.parentListEl)return;t.stopPropagation();const{focusableItems:i}=this,n=i.findIndex(r=>r.active)-1;i[n]&&this.focusRow(i[n])}handleCalciteInternalListItemActive(t){if(this.parentListEl)return;t.stopPropagation();const i=t.target,{listItems:n}=this;n.forEach(r=>{r.active=r===i})}handleCalciteListItemSelect(){this.parentListEl||this.updateSelectedItems(!0)}handleCalciteInternalAssistiveTextChange(t){this.assistiveText=t.detail.message,t.stopPropagation()}handleSortReorder(t){this.parentListEl||t.defaultPrevented||(t.preventDefault(),this.handleReorder(t))}handleSortMove(t){this.parentListEl||t.defaultPrevented||(t.preventDefault(),this.handleMove(t))}handleCalciteInternalListItemSelect(t){if(this.parentListEl)return;t.stopPropagation();const i=t.target,{listItems:n,selectionMode:r}=this;i.selected&&(r==="single"||r==="single-persist")&&n.forEach(a=>a.selected=a===i),this.updateSelectedItems()}handleCalciteInternalListItemSelectMultiple(t){if(this.parentListEl)return;t.stopPropagation();const{target:i,detail:n}=t,{focusableItems:r,lastSelectedInfo:a}=this,o=i;if(n.selectMultiple&&a){const s=r.indexOf(o),l=r.indexOf(a.selectedItem),c=Math.min(l,s),u=Math.max(l,s);r.slice(c,u+1).forEach(h=>h.selected=a.selected)}else this.lastSelectedInfo={selectedItem:o,selected:o.selected}}handleCalciteInternalListItemChange(t){this.parentListEl||(t.stopPropagation(),this.updateListItems())}handleCalciteInternalListItemGroupDefaultSlotChange(t){t.stopPropagation()}connectObserver(){this.mutationObserver?.observe(this.el,{childList:!0,subtree:!0})}disconnectObserver(){this.mutationObserver?.disconnect()}setUpSorting(){const{dragEnabled:t,defaultSlotEl:i}=this;t&&(i&&$i(i),Cr(this))}onGlobalDragStart(){this.disconnectObserver()}onGlobalDragEnd(){this.connectObserver()}onDragEnd(t){this.calciteListDragEnd.emit(t)}onDragStart(t){t.dragEl.sortHandleOpen=!1,this.calciteListDragStart.emit(t)}onDragSort(t){this.setParentList(),this.updateListItems(),this.calciteListOrderChange.emit(t)}setParentList(){this.parentListEl=this.el.parentElement?.closest(tt)}handleDefaultSlotChange(){this.parentListEl&&this.calciteInternalListDefaultSlotChange.emit()}setListItemGroups(){this.listItemGroups=Array.from(this.el.querySelectorAll(mt))}handleFilterActionsStartSlotChange(t){this.hasFilterActionsStart=he(t)}handleFilterActionsEndSlotChange(t){this.hasFilterActionsEnd=he(t)}handleFilterNoResultsSlotChange(t){this.hasFilterNoResults=he(t)}setActiveListItem(){const{focusableItems:t}=this;t.some(i=>i.active)||t[0]&&(t[0].active=!0)}async updateSelectedItems(t=!1){await this.updateComplete,this.selectedItems=this.visibleItems.filter(i=>i.selected),t&&this.calciteListChange.emit()}filterElements({el:t,filteredItems:i,visibleParents:n}){const r=!n.has(t)&&!i.includes(t);t.filterHidden=r;const a=t.parentElement.closest(_r);a&&(r||n.add(a),this.filterElements({el:a,filteredItems:i,visibleParents:n}))}allParentListItemsExpanded(t){const i=t.parentElement?.closest(xe);if(i){if(!i.expanded)return!1}else return!0;return this.allParentListItemsExpanded(i)}borderItems(){const t=this.visibleItems.filter(i=>!i.filterHidden&&this.allParentListItemsExpanded(i));t.forEach(i=>i.bordered=i!==t[t.length-1])}updateFilteredItems(){const{visibleItems:t,filteredData:i,filterText:n,filterPredicate:r}=this,a=t?.filter(l=>t.every(c=>c===l||!l.contains(c))),o=r?t.filter(r):n?i.map(l=>l.el):t||[],s=new WeakSet;a.forEach(l=>this.filterElements({el:l,filteredItems:o,visibleParents:s})),this.filteredItems=o,this.willFilterEmit&&(this.willFilterEmit=!1,this.calciteListFilter.emit())}updateFilteredData(){const{filterEl:t}=this;t&&(t.filteredItems&&(this.filteredData=t.filteredItems),this.updateListItems())}async filterAndUpdateData(){await this.filterEl?.filter(this.filterText),this.updateFilteredData()}get effectiveFilterProps(){return this.filterProps?this.filterProps.filter(t=>t!=="el"):["description","label","metadata","heading"]}performFilter(){const{filterEl:t,filterText:i,effectiveFilterProps:n}=this;t&&(t.value=i,t.filterProps=n,this.filterAndUpdateData())}setDefaultSlotEl(t){this.defaultSlotEl=t}setFilterEl(t){this.filterEl=t,this.performFilter()}handleFilterChange(t){t.stopPropagation();const{value:i}=t.currentTarget;this.filterText=i,this.willFilterEmit=!0,this.updateFilteredData()}getItemData(){return this.listItems.map(t=>({label:t.label,description:t.description,metadata:t.metadata,heading:this.getGroupHeading(t),el:t}))}getGroupHeading(t){return this.listItemGroups.filter(i=>i.contains(t)).map(i=>i.heading)}updateGroupItems(){const{el:t,group:i,scale:n}=this,r=Ti(t),a=i?Array.from(r.querySelectorAll(`${tt}[group="${i}"]`)).filter(o=>!o.disabled&&o.dragEnabled):[];this.moveToItems=a.map(o=>({element:o,label:o.label??o.id,id:Li()})),Array.from(this.el.querySelectorAll(mt)).forEach(o=>{o.scale=n})}focusRow(t){const{focusableItems:i}=this;t&&(i.forEach(n=>n.active=n===t),t.setFocus())}isNavigable(t){const i=t.parentElement?.closest(xe);return i?i.expanded&&this.isNavigable(i):!0}handleListKeydown(t){if(t.defaultPrevented||this.parentListEl)return;const{key:i}=t,n=this.focusableItems.filter(a=>this.isNavigable(a)),r=n.findIndex(a=>a.active);if(i==="ArrowDown"){t.preventDefault();const a=t.target===this.filterEl?0:r+1;n[a]&&this.focusRow(n[a])}else if(i==="ArrowUp"){if(t.preventDefault(),r===0&&this.filterEnabled){this.filterEl?.setFocus();return}const a=r-1;n[a]&&this.focusRow(n[a])}else if(i==="Home"){t.preventDefault();const a=n[0];a&&this.focusRow(a)}else if(i==="End"){t.preventDefault();const a=n[n.length-1];a&&this.focusRow(a)}}handleInteractionModeWarning(){this.interactionMode==="static"&&this.selectionMode!=="none"&&this.selectionAppearance==="border"&&console.warn('selection-appearance="border" requires interaction-mode="interactive"')}handleMove(t){const{moveTo:i}=t.detail,n=t.target,r=n?.parentElement,a=i.element,o=Array.from(r.children).filter(Ft).indexOf(n),s=0;if(r){if(r.canPull?.({toEl:a,fromEl:r,dragEl:n,newIndex:s,oldIndex:o})===!1){this.calciteListMoveHalt.emit({toEl:a,fromEl:r,dragEl:n,oldIndex:o,newIndex:s});return}if(a.canPut?.({toEl:a,fromEl:r,dragEl:n,newIndex:s,oldIndex:o})===!1){a.putFailed({toEl:a,fromEl:r,dragEl:n,oldIndex:o,newIndex:s});return}n.sortHandleOpen=!1,this.disconnectObserver(),a.prepend(n),Mi(n),this.updateListItems(),this.connectObserver(),this.calciteListOrderChange.emit({dragEl:n,fromEl:r,toEl:a,newIndex:s,oldIndex:o})}}handleReorder(t){const{reorder:i}=t.detail,n=t.target,r=n?.parentElement;if(!r)return;n.sortHandleOpen=!1;const a=Array.from(r.children).filter(Ft),o=a.length-1,s=a.indexOf(n);let l=s;switch(i){case"top":l=0;break;case"bottom":l=o;break;case"up":l=s===0?0:s-1;break;case"down":l=s===o?o:s+1;break}this.disconnectObserver();const c=i==="up"||i==="top"?a[l]:a[l].nextSibling;r.insertBefore(n,c),this.updateListItems(),this.connectObserver(),this.calciteListOrderChange.emit({dragEl:n,fromEl:r,toEl:r,newIndex:l,oldIndex:s})}render(){const{loading:t,label:i,disabled:n,dataForFilter:r,filterEnabled:a,filterPlaceholder:o,filterText:s,filterLabel:l,hasFilterActionsStart:c,hasFilterActionsEnd:u,effectiveFilterProps:h}=this;return ei({disabled:this.disabled,children:k`<div class=${$(ee.container)}>${this.dragEnabled?k`<span aria-live=assertive class=${$(ee.assistiveText)}>${this.assistiveText}</span>`:null}${this.renderItemAriaLive()}${t?k`<calcite-scrim class=${$(ee.scrim)} .loading=${t}></calcite-scrim>`:null}<div .ariaBusy=${t} .ariaLabel=${i||""} class=${$(ee.table)} @keydown=${this.handleListKeydown} role=treegrid>${a||c||u?k`<div class=${$(ee.sticky)} role=rowgroup><div role=row><div role=columnheader><calcite-stack class=${$(ee.stack)}><slot name=${pt.filterActionsStart} @slotchange=${this.handleFilterActionsStartSlotChange} slot=${ye.actionsStart}></slot><calcite-filter .ariaLabel=${o} .disabled=${n} .filterProps=${h} .items=${r} .label=${l} @calciteFilterChange=${this.handleFilterChange} .placeholder=${o} .scale=${this.scale} .value=${s} ${gt(this.setFilterEl)}></calcite-filter><slot name=${pt.filterActionsEnd} @slotchange=${this.handleFilterActionsEndSlotChange} slot=${ye.actionsEnd}></slot></calcite-stack></div></div></div>`:null}<div class=${$(ee.tableContainer)} role=rowgroup><slot @slotchange=${this.handleDefaultSlotChange} ${gt(this.setDefaultSlotEl)}></slot></div></div><div aria-live=polite data-test-id=no-results-container .hidden=${!this.showNoResultsContainer}><slot name=${pt.filterNoResults} @slotchange=${this.handleFilterNoResultsSlotChange}></slot></div></div>`})}renderItemAriaLive(){const{messages:t,filteredItems:i,parentListEl:n,messages:{_lang:r},numberingSystem:a}=this;return Ot.numberFormatOptions={locale:r,numberingSystem:a},n?null:k`<div aria-live=polite class=${$(ee.assistiveText)}>${this.hasActiveFilter?Pe("aria-filter-enabled",k`<div>${t.filterEnabled}</div>`):null}${Pe("aria-item-count",k`<div>${t.total.replace("{count}",Ot.localize(i.length.toString()))}</div>`)}${i.length?Pe("aria-item-list",k`<ol>${i.map(o=>k`<li>${o.label}</li>`)}</ol>`):null}</div>`}}St("calcite-list",kr);export{kr as List};
