import{N as h,f8 as a}from"./main-DRQsF3Ed.js";import{S as s}from"./symbolUtils-D5Wjfwrf-CwPBkc-J.js";import{e as l}from"./webStyleSymbolUtils-r0H5toyk-DfLk9vp0.js";import"./utils-Cb2uXNfG-ZMXOQM4W.js";import"./asyncUtils-BPUlNCrX-DlBXmNd_.js";import"./jsonUtils-BwLwuQj7-SAkp1iCs.js";import"./parser-CWccHtwJ-DW1YVkYp.js";import"./mat4f32-BdRMyjXW-CWt6U0BP.js";import"./mat4-OOmHNWi7-BZWmJ3gZ.js";import"./common-CYWrYyJl-E8-sukrT.js";import"./cimSymbolUtils-DCedSSCN-Rvy8mVIl.js";import"./utils-BfXZnjCE-hz9539ef.js";import"./defaultCIMValues-BcSaJjm--58G-soMN.js";import"./enums-a_LDTPYU-CBIcy3mM.js";import"./LRUCache-DPWdPNTF-Du_Z0yHt.js";import"./MemCache-qDGoejB7-9IozotvY.js";import"./colorUtils-Eg6lOlXm-CrS1nvec.js";import"./vec42-D8CJyqHG-DnfLTeQH.js";import"./vec4f64-DD-nkcCV-CSNWKRqG.js";import"./jsxFactory-Cua8zWVZ-D8t1sMe7.js";import"./intl-BAA1onnp-C23A6-Ki.js";import"./uuid-Dj9mdEVg-BaKSCiyT.js";import"./sanitizerUtils-B1yRmbO2-B7KG_jBT.js";import"./mat2df32-fg3OHsAI-BF2V2zqo.js";import"./mat2d-BQA-1WB--Pnyy0dhf.js";import"./devEnvironmentUtils-CxrVv3RG-CX5aoxVE.js";import"./styleUtils-DBPDLVBX-BrWbq6Ea.js";async function G(i,t,o){const m=i.thumbnail?.url;if(m){const p=d((await h(m,{responseType:"image"})).data,o);return o?.node?(o.node.appendChild(p),o.node):p}const r=await i.fetchSymbol({acceptedFormats:l});return r?t(r,o):null}function d(i,t){const o=!/\\.svg$/i.test(i.src)&&t?.disableUpsampling,m=Math.max(i.width,i.height);let r=t?.maxSize!=null?a(t.maxSize):s.maxSize;o&&(r=Math.min(m,r));const p=typeof t?.size=="number"?t?.size:null,e=Math.min(r,p!=null?a(p):m);if(e!==m){const n=i.width!==0&&i.height!==0?i.width/i.height:1;n>=1?(i.width=e,i.height=e/n):(i.width=e*n,i.height=e)}return i}export{G as previewWebStyleSymbol};
