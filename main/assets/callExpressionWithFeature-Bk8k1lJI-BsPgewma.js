import{a6 as i,h as m}from"./main-COUzu-Id.js";import{R as p,V as d,T as f,S as g}from"./quantizationUtils-D907S7Bm-3K5Rne3y.js";function G(o,r,e,n,a,t){if(o==null)return null;const u=o.references("geometry")&&t?y(r,n,t):r,c=o.repurposeFeature(u,a);try{return o.evaluate(c,e)}catch(l){return i.getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",l),null}}const s=new Map;function y(o,r,e){const{transform:n,hasZ:a,hasM:t}=e;s.has(r)||s.set(r,h(r));const u=s.get(r)(o.geometry,n,a,t);return{...o,geometry:u}}function h(o){const r={};switch(o){case"esriGeometryPoint":return(e,n,a,t)=>g(n,r,e,a,t);case"esriGeometryPolygon":return(e,n,a,t)=>f(n,r,e,a,t);case"esriGeometryPolyline":return(e,n,a,t)=>d(n,r,e,a,t);case"esriGeometryMultipoint":return(e,n,a,t)=>p(n,r,e,a,t);default:return i.getLogger("esri.views.2d.support.arcadeOnDemand").error(new m("mapview-arcade",`Unable to handle geometryType: ${o}`)),e=>e}}export{G as default};
