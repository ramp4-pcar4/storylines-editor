import{p as vt,b as bt,a as v,D as Nn,W as ce,h as jn}from"./themeUtils-YjM7iIiX-DZ9GcGxR.js";import{G as he,A as Rn}from"./dom-N58V0tYi-DBU3jlah.js";import{l as zt,p as $t}from"./interactive-DqhNilgd-Dj_fIdvW.js";import{c as Hn}from"./observers-BigwqTsw-BI3LiKWE.js";import{t as Xn}from"./resources4-Bi43yZeq-Ca3PT_gb.js";import{f as Yn,m as zn}from"./utils3-BSH0zqNl-CHim45c_.js";import{o as Bt,r as Wt,f as Ut}from"./loadable-DbNDKH4r-O2Y_gWwJ.js";import{l as Gt,h as Vt,d as Zt,M as Kt}from"./t9n-C_hcZMZJ-aTFxHa69.js";import{K as Qt,q as qt,X as It}from"./locale-Cn_GDVD_-B8TXdvbN.js";import{b as Ct,A as yt,O as $n,l as Jt,W as Et,$ as Bn,D as Wn,g as en}from"./debounce-27Hmkkyg-Th7bw3mg.js";import{m as tn}from"./icon-BXFbBbop-CelgKw2K.js";import{z as nn,w as an,M as on}from"./input2-eOtqu-iO-DYU-ODhZ.js";import{v as Un}from"./loader-Ch7Jr16w-WdjL0rk_.js";import{c as Gn}from"./scrim-BscQh4v9-Di46uwaZ.js";import"./main-BNyfiy7F.js";import"./uuid-Dj9mdEVg-BaKSCiyT.js";import"./key-CZySMiwx-kmS7VeUz.js";import"./form-CRSw616T-B1dA5eCp.js";import"./label-Dys24PJn-BCewo2Re.js";import"./component-CWGf1hug-BASJpoEG.js";import"./guid-Dls486Er-CBh637k4.js";function xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,i)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xt(Object(n),!0).forEach(function(i){Vn(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Ye(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ye=function(t){return typeof t}:Ye=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ye(e)}function Vn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(){return Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Z.apply(this,arguments)}function Zn(e,t){if(e==null)return{};var n={},i=Object.keys(e),a,o;for(o=0;o<i.length;o++)a=i[o],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function Kn(e,t){if(e==null)return{};var n=Zn(e,t),i,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)i=o[a],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}var Qn="1.15.3";function V(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var K=V(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Oe=V(/Edge/i),Dt=V(/firefox/i),Ae=V(/safari/i)&&!V(/chrome/i)&&!V(/android/i),rn=V(/iP(ad|od|hone)/i),ln=V(/chrome/i)&&V(/android/i),sn={capture:!1,passive:!1};function E(e,t,n){e.addEventListener(t,n,!K&&sn)}function b(e,t,n){e.removeEventListener(t,n,!K&&sn)}function Ue(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function cn(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function Y(e,t,n,i){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&Ue(e,t):Ue(e,t))||i&&e===n)return e;if(e===n)break}while(e=cn(e))}return null}var At=/\s+/g;function j(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var i=(" "+e.className+" ").replace(At," ").replace(" "+t+" "," ");e.className=(i+(n?" "+t:"")).replace(At," ")}}function f(e,t,n){var i=e&&e.style;if(i){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in i)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),i[t]=n+(typeof n=="string"?"":"px")}}function Ee(e,t){var n="";if(typeof e=="string")n=e;else do{var i=f(e,"transform");i&&i!=="none"&&(n=i+" "+n)}while(!t&&(e=e.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(n)}function dn(e,t,n){if(e){var i=e.getElementsByTagName(t),a=0,o=i.length;if(n)for(;a<o;a++)n(i[a],a);return i}return[]}function $(){var e=document.scrollingElement;return e||document.documentElement}function T(e,t,n,i,a){if(!(!e.getBoundingClientRect&&e!==window)){var o,r,s,l,c,h,u;if(e!==window&&e.parentNode&&e!==$()?(o=e.getBoundingClientRect(),r=o.top,s=o.left,l=o.bottom,c=o.right,h=o.height,u=o.width):(r=0,s=0,l=window.innerHeight,c=window.innerWidth,h=window.innerHeight,u=window.innerWidth),(t||n)&&e!==window&&(a=a||e.parentNode,!K))do if(a&&a.getBoundingClientRect&&(f(a,"transform")!=="none"||n&&f(a,"position")!=="static")){var y=a.getBoundingClientRect();r-=y.top+parseInt(f(a,"border-top-width")),s-=y.left+parseInt(f(a,"border-left-width")),l=r+o.height,c=s+o.width;break}while(a=a.parentNode);if(i&&e!==window){var m=Ee(a||e),S=m&&m.a,w=m&&m.d;m&&(r/=w,s/=S,u/=S,h/=w,l=r+h,c=s+u)}return{top:r,left:s,bottom:l,right:c,width:u,height:h}}}function Tt(e,t,n){for(var i=ne(e,!0),a=T(e)[t];i;){var o=T(i)[n],r=void 0;if(r=a>=o,!r)return i;if(i===$())break;i=ne(i,!1)}return!1}function we(e,t,n,i){for(var a=0,o=0,r=e.children;o<r.length;){if(r[o].style.display!=="none"&&r[o]!==p.ghost&&(i||r[o]!==p.dragged)&&Y(r[o],n.draggable,e,!1)){if(a===t)return r[o];a++}o++}return null}function wt(e,t){for(var n=e.lastElementChild;n&&(n===p.ghost||f(n,"display")==="none"||t&&!Ue(n,t));)n=n.previousElementSibling;return n||null}function H(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==p.clone&&(!t||Ue(e,t))&&n++;return n}function _t(e){var t=0,n=0,i=$();if(e)do{var a=Ee(e),o=a.a,r=a.d;t+=e.scrollLeft*o,n+=e.scrollTop*r}while(e!==i&&(e=e.parentNode));return[t,n]}function qn(e,t){for(var n in e)if(e.hasOwnProperty(n)){for(var i in t)if(t.hasOwnProperty(i)&&t[i]===e[n][i])return Number(n)}return-1}function ne(e,t){if(!e||!e.getBoundingClientRect)return $();var n=e,i=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var a=f(n);if(n.clientWidth<n.scrollWidth&&(a.overflowX=="auto"||a.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(a.overflowY=="auto"||a.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return $();if(i||t)return n;i=!0}}while(n=n.parentNode);return $()}function Jn(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Je(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var Te;function hn(e,t){return function(){if(!Te){var n=arguments,i=this;n.length===1?e.call(i,n[0]):e.apply(i,n),Te=setTimeout(function(){Te=void 0},t)}}}function ei(){clearTimeout(Te),Te=void 0}function un(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function fn(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function pn(e,t,n){var i={};return Array.from(e.children).forEach(function(a){var o,r,s,l;if(!(!Y(a,t.draggable,e,!1)||a.animated||a===n)){var c=T(a);i.left=Math.min((o=i.left)!==null&&o!==void 0?o:1/0,c.left),i.top=Math.min((r=i.top)!==null&&r!==void 0?r:1/0,c.top),i.right=Math.max((s=i.right)!==null&&s!==void 0?s:-1/0,c.right),i.bottom=Math.max((l=i.bottom)!==null&&l!==void 0?l:-1/0,c.bottom)}}),i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}var M="Sortable"+new Date().getTime();function ti(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(i){if(!(f(i,"display")==="none"||i===p.ghost)){e.push({target:i,rect:T(i)});var a=B({},e[e.length-1].rect);if(i.thisAnimationDuration){var o=Ee(i,!0);o&&(a.top-=o.f,a.left-=o.e)}i.fromRect=a}})}},addAnimationState:function(n){e.push(n)},removeAnimationState:function(n){e.splice(qn(e,{target:n}),1)},animateAll:function(n){var i=this;if(!this.options.animation){clearTimeout(t),typeof n=="function"&&n();return}var a=!1,o=0;e.forEach(function(r){var s=0,l=r.target,c=l.fromRect,h=T(l),u=l.prevFromRect,y=l.prevToRect,m=r.rect,S=Ee(l,!0);S&&(h.top-=S.f,h.left-=S.e),l.toRect=h,l.thisAnimationDuration&&Je(u,h)&&!Je(c,h)&&(m.top-h.top)/(m.left-h.left)===(c.top-h.top)/(c.left-h.left)&&(s=ii(m,u,y,i.options)),Je(h,c)||(l.prevFromRect=c,l.prevToRect=h,s||(s=i.options.animation),i.animate(l,m,h,s)),s&&(a=!0,o=Math.max(o,s),clearTimeout(l.animationResetTimer),l.animationResetTimer=setTimeout(function(){l.animationTime=0,l.prevFromRect=null,l.fromRect=null,l.prevToRect=null,l.thisAnimationDuration=null},s),l.thisAnimationDuration=s)}),clearTimeout(t),a?t=setTimeout(function(){typeof n=="function"&&n()},o):typeof n=="function"&&n(),e=[]},animate:function(n,i,a,o){if(o){f(n,"transition",""),f(n,"transform","");var r=Ee(this.el),s=r&&r.a,l=r&&r.d,c=(i.left-a.left)/(s||1),h=(i.top-a.top)/(l||1);n.animatingX=!!c,n.animatingY=!!h,f(n,"transform","translate3d("+c+"px,"+h+"px,0)"),this.forRepaintDummy=ni(n),f(n,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),f(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){f(n,"transition",""),f(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},o)}}}}function ni(e){return e.offsetWidth}function ii(e,t,n,i){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*i.animation}var pe=[],et={initializeByDefault:!0},Fe={mount:function(e){for(var t in et)et.hasOwnProperty(t)&&!(t in e)&&(e[t]=et[t]);pe.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),pe.push(e)},pluginEvent:function(e,t,n){var i=this;this.eventCanceled=!1,n.cancel=function(){i.eventCanceled=!0};var a=e+"Global";pe.forEach(function(o){t[o.pluginName]&&(t[o.pluginName][a]&&t[o.pluginName][a](B({sortable:t},n)),t.options[o.pluginName]&&t[o.pluginName][e]&&t[o.pluginName][e](B({sortable:t},n)))})},initializePlugins:function(e,t,n,i){pe.forEach(function(r){var s=r.pluginName;if(!(!e.options[s]&&!r.initializeByDefault)){var l=new r(e,t,e.options);l.sortable=e,l.options=e.options,e[s]=l,Z(n,l.defaults)}});for(var a in e.options)if(e.options.hasOwnProperty(a)){var o=this.modifyOption(e,a,e.options[a]);typeof o<"u"&&(e.options[a]=o)}},getEventProperties:function(e,t){var n={};return pe.forEach(function(i){typeof i.eventProperties=="function"&&Z(n,i.eventProperties.call(t[i.pluginName],e))}),n},modifyOption:function(e,t,n){var i;return pe.forEach(function(a){e[a.pluginName]&&a.optionListeners&&typeof a.optionListeners[t]=="function"&&(i=a.optionListeners[t].call(e[a.pluginName],n))}),i}};function ai(e){var t=e.sortable,n=e.rootEl,i=e.name,a=e.targetEl,o=e.cloneEl,r=e.toEl,s=e.fromEl,l=e.oldIndex,c=e.newIndex,h=e.oldDraggableIndex,u=e.newDraggableIndex,y=e.originalEvent,m=e.putSortable,S=e.extraEventProperties;if(t=t||n&&n[M],!!t){var w,W=t.options,k="on"+i.charAt(0).toUpperCase()+i.substr(1);window.CustomEvent&&!K&&!Oe?w=new CustomEvent(i,{bubbles:!0,cancelable:!0}):(w=document.createEvent("Event"),w.initEvent(i,!0,!0)),w.to=r||n,w.from=s||n,w.item=a||n,w.clone=o,w.oldIndex=l,w.newIndex=c,w.oldDraggableIndex=h,w.newDraggableIndex=u,w.originalEvent=y,w.pullMode=m?m.lastPutMode:void 0;var U=B(B({},S),Fe.getEventProperties(i,t));for(var L in U)w[L]=U[L];n&&n.dispatchEvent(w),W[k]&&W[k].call(t,w)}}var oi=["evt"],F=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n.evt,a=Kn(n,oi);Fe.pluginEvent.bind(p)(e,t,B({dragEl:d,parentEl:D,ghostEl:g,rootEl:C,nextEl:de,lastDownEl:ze,cloneEl:x,cloneHidden:te,dragStarted:Ce,putSortable:_,activeSortable:p.active,originalEvent:i,oldIndex:be,oldDraggableIndex:_e,newIndex:R,newDraggableIndex:ee,hideGhostForTarget:bn,unhideGhostForTarget:yn,cloneNowHidden:function(){te=!0},cloneNowShown:function(){te=!1},dispatchSortableEvent:function(o){O({sortable:t,name:o,originalEvent:i})}},a))};function O(e){ai(B({putSortable:_,cloneEl:x,targetEl:d,rootEl:C,oldIndex:be,oldDraggableIndex:_e,newIndex:R,newDraggableIndex:ee},e))}var d,D,g,C,de,ze,x,te,be,R,_e,ee,Ne,_,ve=!1,Ge=!1,Ve=[],le,X,tt,nt,Lt,Pt,Ce,ge,Le,Pe=!1,je=!1,$e,P,it=[],ht=!1,Ze=[],Qe=typeof document<"u",Re=rn,kt=Oe||K?"cssFloat":"float",ri=Qe&&!ln&&!rn&&"draggable"in document.createElement("div"),gn=function(){if(Qe){if(K)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),mn=function(e,t){var n=f(e),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),a=we(e,0,t),o=we(e,1,t),r=a&&f(a),s=o&&f(o),l=r&&parseInt(r.marginLeft)+parseInt(r.marginRight)+T(a).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+T(o).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&r.float&&r.float!=="none"){var h=r.float==="left"?"left":"right";return o&&(s.clear==="both"||s.clear===h)?"vertical":"horizontal"}return a&&(r.display==="block"||r.display==="flex"||r.display==="table"||r.display==="grid"||l>=i&&n[kt]==="none"||o&&n[kt]==="none"&&l+c>i)?"vertical":"horizontal"},li=function(e,t,n){var i=n?e.left:e.top,a=n?e.right:e.bottom,o=n?e.width:e.height,r=n?t.left:t.top,s=n?t.right:t.bottom,l=n?t.width:t.height;return i===r||a===s||i+o/2===r+l/2},si=function(e,t){var n;return Ve.some(function(i){var a=i[M].options.emptyInsertThreshold;if(!(!a||wt(i))){var o=T(i),r=e>=o.left-a&&e<=o.right+a,s=t>=o.top-a&&t<=o.bottom+a;if(r&&s)return n=i}}),n},vn=function(e){function t(a,o){return function(r,s,l,c){var h=r.options.group.name&&s.options.group.name&&r.options.group.name===s.options.group.name;if(a==null&&(o||h))return!0;if(a==null||a===!1)return!1;if(o&&a==="clone")return a;if(typeof a=="function")return t(a(r,s,l,c),o)(r,s,l,c);var u=(o?r:s).options.group.name;return a===!0||typeof a=="string"&&a===u||a.join&&a.indexOf(u)>-1}}var n={},i=e.group;(!i||Ye(i)!="object")&&(i={name:i}),n.name=i.name,n.checkPull=t(i.pull,!0),n.checkPut=t(i.put),n.revertClone=i.revertClone,e.group=n},bn=function(){!gn&&g&&f(g,"display","none")},yn=function(){!gn&&g&&f(g,"display","")};Qe&&!ln&&document.addEventListener("click",function(e){if(Ge)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Ge=!1,!1},!0);var se=function(e){if(d){e=e.touches?e.touches[0]:e;var t=si(e.clientX,e.clientY);if(t){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[M]._onDragOver(n)}}},ci=function(e){d&&d.parentNode[M]._isOutsideThisEl(e.target)};function p(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=Z({},t),e[M]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return mn(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,r){o.setData("Text",r.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:p.supportPointer!==!1&&"PointerEvent"in window&&!Ae,emptyInsertThreshold:5};Fe.initializePlugins(this,e,n);for(var i in n)!(i in t)&&(t[i]=n[i]);vn(t);for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this));this.nativeDraggable=t.forceFallback?!1:ri,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?E(e,"pointerdown",this._onTapStart):(E(e,"mousedown",this._onTapStart),E(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(E(e,"dragover",this),E(e,"dragenter",this)),Ve.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Z(this,ti())}p.prototype={constructor:p,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(ge=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,d):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,i=this.options,a=i.preventOnFilter,o=e.type,r=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,s=(r||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,c=i.filter;if(vi(n),!d&&!(/mousedown|pointerdown/.test(o)&&e.button!==0||i.disabled)&&!l.isContentEditable&&!(!this.nativeDraggable&&Ae&&s&&s.tagName.toUpperCase()==="SELECT")&&(s=Y(s,i.draggable,n,!1),!(s&&s.animated)&&ze!==s)){if(be=H(s),_e=H(s,i.draggable),typeof c=="function"){if(c.call(this,e,s,this)){O({sortable:t,rootEl:l,name:"filter",targetEl:s,toEl:n,fromEl:n}),F("filter",t,{evt:e}),a&&e.cancelable&&e.preventDefault();return}}else if(c&&(c=c.split(",").some(function(h){if(h=Y(l,h.trim(),n,!1),h)return O({sortable:t,rootEl:h,name:"filter",targetEl:s,fromEl:n,toEl:n}),F("filter",t,{evt:e}),!0}),c)){a&&e.cancelable&&e.preventDefault();return}i.handle&&!Y(l,i.handle,n,!1)||this._prepareDragStart(e,r,s)}}},_prepareDragStart:function(e,t,n){var i=this,a=i.el,o=i.options,r=a.ownerDocument,s;if(n&&!d&&n.parentNode===a){var l=T(n);if(C=a,d=n,D=d.parentNode,de=d.nextSibling,ze=n,Ne=o.group,p.dragged=d,le={target:d,clientX:(t||e).clientX,clientY:(t||e).clientY},Lt=le.clientX-l.left,Pt=le.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,d.style["will-change"]="all",s=function(){if(F("delayEnded",i,{evt:e}),p.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!Dt&&i.nativeDraggable&&(d.draggable=!0),i._triggerDragStart(e,t),O({sortable:i,name:"choose",originalEvent:e}),j(d,o.chosenClass,!0)},o.ignore.split(",").forEach(function(c){dn(d,c.trim(),at)}),E(r,"dragover",se),E(r,"mousemove",se),E(r,"touchmove",se),E(r,"mouseup",i._onDrop),E(r,"touchend",i._onDrop),E(r,"touchcancel",i._onDrop),Dt&&this.nativeDraggable&&(this.options.touchStartThreshold=4,d.draggable=!0),F("delayStart",this,{evt:e}),o.delay&&(!o.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(Oe||K))){if(p.eventCanceled){this._onDrop();return}E(r,"mouseup",i._disableDelayedDrag),E(r,"touchend",i._disableDelayedDrag),E(r,"touchcancel",i._disableDelayedDrag),E(r,"mousemove",i._delayedDragTouchMoveHandler),E(r,"touchmove",i._delayedDragTouchMoveHandler),o.supportPointer&&E(r,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(s,o.delay)}else s()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){d&&at(d),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;b(e,"mouseup",this._disableDelayedDrag),b(e,"touchend",this._disableDelayedDrag),b(e,"touchcancel",this._disableDelayedDrag),b(e,"mousemove",this._delayedDragTouchMoveHandler),b(e,"touchmove",this._delayedDragTouchMoveHandler),b(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?E(document,"pointermove",this._onTouchMove):t?E(document,"touchmove",this._onTouchMove):E(document,"mousemove",this._onTouchMove):(E(d,"dragend",this),E(C,"dragstart",this._onDragStart));try{document.selection?Be(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(ve=!1,C&&d){F("dragStarted",this,{evt:t}),this.nativeDraggable&&E(document,"dragover",ci);var n=this.options;!e&&j(d,n.dragClass,!1),j(d,n.ghostClass,!0),p.active=this,e&&this._appendGhost(),O({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(X){this._lastX=X.clientX,this._lastY=X.clientY,bn();for(var e=document.elementFromPoint(X.clientX,X.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(X.clientX,X.clientY),e!==t);)t=e;if(d.parentNode[M]._isOutsideThisEl(e),t)do{if(t[M]){var n=void 0;if(n=t[M]._onDragOver({clientX:X.clientX,clientY:X.clientY,target:e,rootEl:t}),n&&!this.options.dragoverBubble)break}e=t}while(t=cn(t));yn()}},_onTouchMove:function(e){if(le){var t=this.options,n=t.fallbackTolerance,i=t.fallbackOffset,a=e.touches?e.touches[0]:e,o=g&&Ee(g,!0),r=g&&o&&o.a,s=g&&o&&o.d,l=Re&&P&&_t(P),c=(a.clientX-le.clientX+i.x)/(r||1)+(l?l[0]-it[0]:0)/(r||1),h=(a.clientY-le.clientY+i.y)/(s||1)+(l?l[1]-it[1]:0)/(s||1);if(!p.active&&!ve){if(n&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(g){o?(o.e+=c-(tt||0),o.f+=h-(nt||0)):o={a:1,b:0,c:0,d:1,e:c,f:h};var u="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");f(g,"webkitTransform",u),f(g,"mozTransform",u),f(g,"msTransform",u),f(g,"transform",u),tt=c,nt=h,X=a}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!g){var e=this.options.fallbackOnBody?document.body:C,t=T(d,!0,Re,!0,e),n=this.options;if(Re){for(P=e;f(P,"position")==="static"&&f(P,"transform")==="none"&&P!==document;)P=P.parentNode;P!==document.body&&P!==document.documentElement?(P===document&&(P=$()),t.top+=P.scrollTop,t.left+=P.scrollLeft):P=$(),it=_t(P)}g=d.cloneNode(!0),j(g,n.ghostClass,!1),j(g,n.fallbackClass,!0),j(g,n.dragClass,!0),f(g,"transition",""),f(g,"transform",""),f(g,"box-sizing","border-box"),f(g,"margin",0),f(g,"top",t.top),f(g,"left",t.left),f(g,"width",t.width),f(g,"height",t.height),f(g,"opacity","0.8"),f(g,"position",Re?"absolute":"fixed"),f(g,"zIndex","100000"),f(g,"pointerEvents","none"),p.ghost=g,e.appendChild(g),f(g,"transform-origin",Lt/parseInt(g.style.width)*100+"% "+Pt/parseInt(g.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,i=e.dataTransfer,a=n.options;if(F("dragStart",this,{evt:e}),p.eventCanceled){this._onDrop();return}F("setupClone",this),p.eventCanceled||(x=fn(d),x.removeAttribute("id"),x.draggable=!1,x.style["will-change"]="",this._hideClone(),j(x,this.options.chosenClass,!1),p.clone=x),n.cloneId=Be(function(){F("clone",n),!p.eventCanceled&&(n.options.removeCloneOnHide||C.insertBefore(x,d),n._hideClone(),O({sortable:n,name:"clone"}))}),!t&&j(d,a.dragClass,!0),t?(Ge=!0,n._loopId=setInterval(n._emulateDragOver,50)):(b(document,"mouseup",n._onDrop),b(document,"touchend",n._onDrop),b(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",a.setData&&a.setData.call(n,i,d)),E(document,"drop",n),f(d,"transform","translateZ(0)")),ve=!0,n._dragStartId=Be(n._dragStarted.bind(n,t,e)),E(document,"selectstart",n),Ce=!0,Ae&&f(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,n=e.target,i,a,o,r=this.options,s=r.group,l=p.active,c=Ne===s,h=r.sort,u=_||l,y,m=this,S=!1;if(ht)return;function w(Ie,Fn){F(Ie,m,B({evt:e,isOwner:c,axis:y?"vertical":"horizontal",revert:o,dragRect:i,targetRect:a,canSort:h,fromSortable:u,target:n,completed:k,onMove:function(St,Mn){return He(C,t,d,i,St,T(St),e,Mn)},changed:U},Fn))}function W(){w("dragOverAnimationCapture"),m.captureAnimationState(),m!==u&&u.captureAnimationState()}function k(Ie){return w("dragOverCompleted",{insertion:Ie}),Ie&&(c?l._hideClone():l._showClone(m),m!==u&&(j(d,_?_.options.ghostClass:l.options.ghostClass,!1),j(d,r.ghostClass,!0)),_!==m&&m!==p.active?_=m:m===p.active&&_&&(_=null),u===m&&(m._ignoreWhileAnimating=n),m.animateAll(function(){w("dragOverAnimationComplete"),m._ignoreWhileAnimating=null}),m!==u&&(u.animateAll(),u._ignoreWhileAnimating=null)),(n===d&&!d.animated||n===t&&!n.animated)&&(ge=null),!r.dragoverBubble&&!e.rootEl&&n!==document&&(d.parentNode[M]._isOutsideThisEl(e.target),!Ie&&se(e)),!r.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),S=!0}function U(){R=H(d),ee=H(d,r.draggable),O({sortable:m,name:"change",toEl:t,newIndex:R,newDraggableIndex:ee,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=Y(n,r.draggable,t,!0),w("dragOver"),p.eventCanceled)return S;if(d.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||m._ignoreWhileAnimating===n)return k(!1);if(Ge=!1,l&&!r.disabled&&(c?h||(o=D!==C):_===this||(this.lastPutMode=Ne.checkPull(this,l,d,e))&&s.checkPut(this,l,d,e))){if(y=this._getDirection(e,n)==="vertical",i=T(d),w("dragOverValid"),p.eventCanceled)return S;if(o)return D=C,W(),this._hideClone(),w("revert"),p.eventCanceled||(de?C.insertBefore(d,de):C.appendChild(d)),k(!0);var L=wt(t,r.draggable);if(!L||fi(e,y,this)&&!L.animated){if(L===d)return k(!1);if(L&&t===e.target&&(n=L),n&&(a=T(n)),He(C,t,d,i,n,a,e,!!n)!==!1)return W(),L&&L.nextSibling?t.insertBefore(d,L.nextSibling):t.appendChild(d),D=t,U(),k(!0)}else if(L&&ui(e,y,this)){var ie=we(t,0,r,!0);if(ie===d)return k(!1);if(n=ie,a=T(n),He(C,t,d,i,n,a,e,!1)!==!1)return W(),t.insertBefore(d,ie),D=t,U(),k(!0)}else if(n.parentNode===t){a=T(n);var z=0,ae,Se=d.parentNode!==t,ue=!li(d.animated&&d.toRect||i,n.animated&&n.toRect||a,y),N=y?"top":"left",Q=Tt(n,"top","top")||Tt(d,"top","top"),Me=Q?Q.scrollTop:void 0;ge!==n&&(ae=a[N],Pe=!1,je=!ue&&r.invertSwap||Se),z=pi(e,n,a,y,ue?1:r.swapThreshold,r.invertedSwapThreshold==null?r.swapThreshold:r.invertedSwapThreshold,je,ge===n);var G;if(z!==0){var fe=H(d);do fe-=z,G=D.children[fe];while(G&&(f(G,"display")==="none"||G===g))}if(z===0||G===n)return k(!1);ge=n,Le=z;var oe=n.nextElementSibling,q=!1;q=z===1;var re=He(C,t,d,i,n,a,e,q);if(re!==!1)return(re===1||re===-1)&&(q=re===1),ht=!0,setTimeout(hi,30),W(),q&&!oe?t.appendChild(d):n.parentNode.insertBefore(d,q?oe:n),Q&&un(Q,0,Me-Q.scrollTop),D=d.parentNode,ae!==void 0&&!je&&($e=Math.abs(ae-T(n)[N])),U(),k(!0)}if(t.contains(d))return k(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){b(document,"mousemove",this._onTouchMove),b(document,"touchmove",this._onTouchMove),b(document,"pointermove",this._onTouchMove),b(document,"dragover",se),b(document,"mousemove",se),b(document,"touchmove",se)},_offUpEvents:function(){var e=this.el.ownerDocument;b(e,"mouseup",this._onDrop),b(e,"touchend",this._onDrop),b(e,"pointerup",this._onDrop),b(e,"touchcancel",this._onDrop),b(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;if(R=H(d),ee=H(d,n.draggable),F("drop",this,{evt:e}),D=d&&d.parentNode,R=H(d),ee=H(d,n.draggable),p.eventCanceled){this._nulling();return}ve=!1,je=!1,Pe=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ut(this.cloneId),ut(this._dragStartId),this.nativeDraggable&&(b(document,"drop",this),b(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Ae&&f(document.body,"user-select",""),f(d,"transform",""),e&&(Ce&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),g&&g.parentNode&&g.parentNode.removeChild(g),(C===D||_&&_.lastPutMode!=="clone")&&x&&x.parentNode&&x.parentNode.removeChild(x),d&&(this.nativeDraggable&&b(d,"dragend",this),at(d),d.style["will-change"]="",Ce&&!ve&&j(d,_?_.options.ghostClass:this.options.ghostClass,!1),j(d,this.options.chosenClass,!1),O({sortable:this,name:"unchoose",toEl:D,newIndex:null,newDraggableIndex:null,originalEvent:e}),C!==D?(R>=0&&(O({rootEl:D,name:"add",toEl:D,fromEl:C,originalEvent:e}),O({sortable:this,name:"remove",toEl:D,originalEvent:e}),O({rootEl:D,name:"sort",toEl:D,fromEl:C,originalEvent:e}),O({sortable:this,name:"sort",toEl:D,originalEvent:e})),_&&_.save()):R!==be&&R>=0&&(O({sortable:this,name:"update",toEl:D,originalEvent:e}),O({sortable:this,name:"sort",toEl:D,originalEvent:e})),p.active&&((R==null||R===-1)&&(R=be,ee=_e),O({sortable:this,name:"end",toEl:D,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){F("nulling",this),C=d=D=g=de=x=ze=te=le=X=Ce=R=ee=be=_e=ge=Le=_=Ne=p.dragged=p.ghost=p.clone=p.active=null,Ze.forEach(function(e){e.checked=!0}),Ze.length=tt=nt=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":d&&(this._onDragOver(e),di(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,n=this.el.children,i=0,a=n.length,o=this.options;i<a;i++)t=n[i],Y(t,o.draggable,this.el,!1)&&e.push(t.getAttribute(o.dataIdAttr)||mi(t));return e},sort:function(e,t){var n={},i=this.el;this.toArray().forEach(function(a,o){var r=i.children[o];Y(r,this.options.draggable,i,!1)&&(n[a]=r)},this),t&&this.captureAnimationState(),e.forEach(function(a){n[a]&&(i.removeChild(n[a]),i.appendChild(n[a]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return Y(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(t===void 0)return n[e];var i=Fe.modifyOption(this,e,t);typeof i<"u"?n[e]=i:n[e]=t,e==="group"&&vn(n)},destroy:function(){F("destroy",this);var e=this.el;e[M]=null,b(e,"mousedown",this._onTapStart),b(e,"touchstart",this._onTapStart),b(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(b(e,"dragover",this),b(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Ve.splice(Ve.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!te){if(F("hideClone",this),p.eventCanceled)return;f(x,"display","none"),this.options.removeCloneOnHide&&x.parentNode&&x.parentNode.removeChild(x),te=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(te){if(F("showClone",this),p.eventCanceled)return;d.parentNode==C&&!this.options.group.revertClone?C.insertBefore(x,d):de?C.insertBefore(x,de):C.appendChild(x),this.options.group.revertClone&&this.animate(d,x),f(x,"display",""),te=!1}}};function di(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function He(e,t,n,i,a,o,r,s){var l,c=e[M],h=c.options.onMove,u;return window.CustomEvent&&!K&&!Oe?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=t,l.from=e,l.dragged=n,l.draggedRect=i,l.related=a||t,l.relatedRect=o||T(t),l.willInsertAfter=s,l.originalEvent=r,e.dispatchEvent(l),h&&(u=h.call(c,l,r)),u}function at(e){e.draggable=!1}function hi(){ht=!1}function ui(e,t,n){var i=T(we(n.el,0,n.options,!0)),a=pn(n.el,n.options,g),o=10;return t?e.clientX<a.left-o||e.clientY<i.top&&e.clientX<i.right:e.clientY<a.top-o||e.clientY<i.bottom&&e.clientX<i.left}function fi(e,t,n){var i=T(wt(n.el,n.options.draggable)),a=pn(n.el,n.options,g),o=10;return t?e.clientX>a.right+o||e.clientY>i.bottom&&e.clientX>i.left:e.clientY>a.bottom+o||e.clientX>i.right&&e.clientY>i.top}function pi(e,t,n,i,a,o,r,s){var l=i?e.clientY:e.clientX,c=i?n.height:n.width,h=i?n.top:n.left,u=i?n.bottom:n.right,y=!1;if(!r){if(s&&$e<c*a){if(!Pe&&(Le===1?l>h+c*o/2:l<u-c*o/2)&&(Pe=!0),Pe)y=!0;else if(Le===1?l<h+$e:l>u-$e)return-Le}else if(l>h+c*(1-a)/2&&l<u-c*(1-a)/2)return gi(t)}return y=y||r,y&&(l<h+c*o/2||l>u-c*o/2)?l>h+c/2?1:-1:0}function gi(e){return H(d)<H(e)?1:-1}function mi(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,i=0;n--;)i+=t.charCodeAt(n);return i.toString(36)}function vi(e){Ze.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var i=t[n];i.checked&&Ze.push(i)}}function Be(e){return setTimeout(e,0)}function ut(e){return clearTimeout(e)}Qe&&E(document,"touchmove",function(e){(p.active||ve)&&e.cancelable&&e.preventDefault()}),p.utils={on:E,off:b,css:f,find:dn,is:function(e,t){return!!Y(e,t,e,!1)},extend:Jn,throttle:hn,closest:Y,toggleClass:j,clone:fn,index:H,nextTick:Be,cancelNextTick:ut,detectDirection:mn,getChild:we,expando:M},p.get=function(e){return e[M]},p.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(i){if(!i.prototype||!i.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(i));i.utils&&(p.utils=B(B({},p.utils),i.utils)),Fe.mount(i)})},p.create=function(e,t){return new p(e,t)},p.version=Qn;var A=[],xe,ft,pt=!1,ot,rt,Ke,De;function bi(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(t){var n=t.originalEvent;this.sortable.nativeDraggable?E(document,"dragover",this._handleAutoScroll):this.options.supportPointer?E(document,"pointermove",this._handleFallbackAutoScroll):n.touches?E(document,"touchmove",this._handleFallbackAutoScroll):E(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var n=t.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?b(document,"dragover",this._handleAutoScroll):(b(document,"pointermove",this._handleFallbackAutoScroll),b(document,"touchmove",this._handleFallbackAutoScroll),b(document,"mousemove",this._handleFallbackAutoScroll)),Ot(),We(),ei()},nulling:function(){Ke=ft=xe=pt=De=ot=rt=null,A.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,n){var i=this,a=(t.touches?t.touches[0]:t).clientX,o=(t.touches?t.touches[0]:t).clientY,r=document.elementFromPoint(a,o);if(Ke=t,n||this.options.forceAutoScrollFallback||Oe||K||Ae){lt(t,this.options,r,n);var s=ne(r,!0);pt&&(!De||a!==ot||o!==rt)&&(De&&Ot(),De=setInterval(function(){var l=ne(document.elementFromPoint(a,o),!0);l!==s&&(s=l,We()),lt(t,i.options,l,n)},10),ot=a,rt=o)}else{if(!this.options.bubbleScroll||ne(r,!0)===$()){We();return}lt(t,this.options,ne(r,!1),!1)}}},Z(e,{pluginName:"scroll",initializeByDefault:!0})}function We(){A.forEach(function(e){clearInterval(e.pid)}),A=[]}function Ot(){clearInterval(De)}var lt=hn(function(e,t,n,i){if(t.scroll){var a=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,r=t.scrollSensitivity,s=t.scrollSpeed,l=$(),c=!1,h;ft!==n&&(ft=n,We(),xe=t.scroll,h=t.scrollFn,xe===!0&&(xe=ne(n,!0)));var u=0,y=xe;do{var m=y,S=T(m),w=S.top,W=S.bottom,k=S.left,U=S.right,L=S.width,ie=S.height,z=void 0,ae=void 0,Se=m.scrollWidth,ue=m.scrollHeight,N=f(m),Q=m.scrollLeft,Me=m.scrollTop;m===l?(z=L<Se&&(N.overflowX==="auto"||N.overflowX==="scroll"||N.overflowX==="visible"),ae=ie<ue&&(N.overflowY==="auto"||N.overflowY==="scroll"||N.overflowY==="visible")):(z=L<Se&&(N.overflowX==="auto"||N.overflowX==="scroll"),ae=ie<ue&&(N.overflowY==="auto"||N.overflowY==="scroll"));var G=z&&(Math.abs(U-a)<=r&&Q+L<Se)-(Math.abs(k-a)<=r&&!!Q),fe=ae&&(Math.abs(W-o)<=r&&Me+ie<ue)-(Math.abs(w-o)<=r&&!!Me);if(!A[u])for(var oe=0;oe<=u;oe++)A[oe]||(A[oe]={});(A[u].vx!=G||A[u].vy!=fe||A[u].el!==m)&&(A[u].el=m,A[u].vx=G,A[u].vy=fe,clearInterval(A[u].pid),(G!=0||fe!=0)&&(c=!0,A[u].pid=setInterval(function(){i&&this.layer===0&&p.active._onTouchMove(Ke);var q=A[this.layer].vy?A[this.layer].vy*s:0,re=A[this.layer].vx?A[this.layer].vx*s:0;typeof h=="function"&&h.call(p.dragged.parentNode[M],re,q,e,Ke,A[this.layer].el)!=="continue"||un(A[this.layer].el,re,q)}.bind({layer:u}),24))),u++}while(t.bubbleScroll&&y!==l&&(y=ne(y,!1)));pt=c}},30),En=function(e){var t=e.originalEvent,n=e.putSortable,i=e.dragEl,a=e.activeSortable,o=e.dispatchSortableEvent,r=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var l=n||a;r();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,h=document.elementFromPoint(c.clientX,c.clientY);s(),l&&!l.el.contains(h)&&(o("spill"),this.onSpill({dragEl:i,putSortable:n}))}};function gt(){}gt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var i=we(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(t,i):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:En},Z(gt,{pluginName:"revertOnSpill"});function st(){}st.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable,i=n||this.sortable;i.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),i.animateAll()},drop:En},Z(st,{pluginName:"removeOnSpill"}),p.mount(new bi),p.mount(st,gt);const qe=new Set,yi={ghostClass:"calcite-sortable--ghost",chosenClass:"calcite-sortable--chosen",dragClass:"calcite-sortable--drag",fallbackClass:"calcite-sortable--fallback"};function Ei(e){if(Sn(e))return;wn(e),qe.add(e);const t="id",{group:n,handleSelector:i,dragSelector:a}=e;e.sortable=p.create(e.el,{dataIdAttr:t,...yi,...!!a&&{draggable:a},...!!n&&{group:{name:n,...!!e.canPull&&{pull:(o,r,s,{newIndex:l,oldIndex:c})=>e.canPull({toEl:o.el,fromEl:r.el,dragEl:s,newIndex:l,oldIndex:c})},...!!e.canPut&&{put:(o,r,s,{newIndex:l,oldIndex:c})=>e.canPut({toEl:o.el,fromEl:r.el,dragEl:s,newIndex:l,oldIndex:c})}}},handle:i,filter:`${i}[disabled]`,onStart:({from:o,item:r,to:s,newIndex:l,oldIndex:c})=>{mt.active=!0,wi(),e.onDragStart({fromEl:o,dragEl:r,toEl:s,newIndex:l,oldIndex:c})},onEnd:({from:o,item:r,to:s,newIndex:l,oldIndex:c})=>{mt.active=!1,Si(),e.onDragEnd({fromEl:o,dragEl:r,toEl:s,newIndex:l,oldIndex:c})},onSort:({from:o,item:r,to:s,newIndex:l,oldIndex:c})=>{e.onDragSort({fromEl:o,dragEl:r,toEl:s,newIndex:l,oldIndex:c})}})}function wn(e){Sn(e)||(qe.delete(e),e.sortable?.destroy(),e.sortable=null)}const mt={active:!1};function Sn(e){return e.dragEnabled&&mt.active}function wi(){Array.from(qe).forEach(e=>e.onGlobalDragStart())}function Si(){Array.from(qe).forEach(e=>e.onGlobalDragEnd())}const me={container:"container",actionsStart:"actions-start",contentStart:"content-start",content:"content",contentEnd:"content-end",actionsEnd:"actions-end"},ye={actionsStart:"actions-start",contentStart:"content-start",contentEnd:"content-end",actionsEnd:"actions-end"},Ii=":host([disabled]) .content{cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) .content *,:host([disabled]) .content ::slotted(*){pointer-events:none}:host{display:flex;flex:1 1 0%;flex-direction:column}.container{display:flex;flex:1 1 auto;align-items:stretch;font-weight:var(--calcite-font-weight-normal);color:var(--calcite-color-text-2)}.content{display:flex;flex:1 1 auto;flex-direction:column;justify-content:center;font-size:var(--calcite-font-size--2);line-height:1.375;padding-inline:var(--calcite-stack-padding-inline, 0.75rem);padding-block:var(--calcite-stack-padding-block, 0.5rem)}.content-start{justify-content:flex-start}.content-end{justify-content:flex-end}.content-start,.content-end{flex:0 1 auto}.content-start ::slotted(calcite-icon),.content-end ::slotted(calcite-icon){margin-inline:0.75rem;align-self:center}.actions-start,.actions-end,.content-start,.content-end{display:flex;align-items:center}.actions-start ::slotted(calcite-action),.actions-start ::slotted(calcite-action-menu),.actions-start ::slotted(calcite-handle),.actions-start ::slotted(calcite-dropdown),.actions-end ::slotted(calcite-action),.actions-end ::slotted(calcite-action-menu),.actions-end ::slotted(calcite-handle),.actions-end ::slotted(calcite-dropdown){align-self:stretch;color:inherit}:host([hidden]){display:none}[hidden]{display:none}",Ci=Ii,xi=vt(class extends bt{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.handleActionsStartSlotChange=e=>{this.hasActionsStart=he(e)},this.handleActionsEndSlotChange=e=>{this.hasActionsEnd=he(e)},this.handleContentStartSlotChange=e=>{this.hasContentStart=he(e)},this.handleContentEndSlotChange=e=>{this.hasContentEnd=he(e)},this.disabled=!1,this.hasActionsStart=!1,this.hasActionsEnd=!1,this.hasContentStart=!1,this.hasContentEnd=!1}renderActionsStart(){const{hasActionsStart:e}=this;return v("div",{class:me.actionsStart,hidden:!e,key:"actions-start-container"},v("slot",{name:ye.actionsStart,onSlotchange:this.handleActionsStartSlotChange}))}renderActionsEnd(){const{hasActionsEnd:e}=this;return v("div",{class:me.actionsEnd,hidden:!e,key:"actions-end-container"},v("slot",{name:ye.actionsEnd,onSlotchange:this.handleActionsEndSlotChange}))}renderContentStart(){const{hasContentStart:e}=this;return v("div",{class:me.contentStart,hidden:!e},v("slot",{name:ye.contentStart,onSlotchange:this.handleContentStartSlotChange}))}renderDefaultContent(){return v("div",{class:me.content},v("slot",null))}renderContentEnd(){const{hasContentEnd:e}=this;return v("div",{class:me.contentEnd,hidden:!e},v("slot",{name:ye.contentEnd,onSlotchange:this.handleContentEndSlotChange}))}render(){return v(Nn,{key:"97f052828720d715fd3b11a4b0e77fa085127796"},v("div",{key:"5351cc20a8a437763894fef35ecc7a7240cb7c46",class:me.container},this.renderActionsStart(),this.renderContentStart(),this.renderDefaultContent(),this.renderContentEnd(),this.renderActionsEnd()))}static get style(){return Ci}},[1,"calcite-stack",{disabled:[516],hasActionsStart:[32],hasActionsEnd:[32],hasContentStart:[32],hasContentEnd:[32]}]);function In(){typeof customElements>"u"||["calcite-stack"].forEach(e=>{switch(e){case"calcite-stack":customElements.get(e)||customElements.define(e,xi);break}})}In();function Di(e,t){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=t(e[n],n,e);return a}var Ai=Array.isArray;const Cn=Ai;var Ti=1/0,Ft=Ct?Ct.prototype:void 0,Mt=Ft?Ft.toString:void 0;function xn(e){if(typeof e=="string")return e;if(Cn(e))return Di(e,xn)+"";if(Wn(e))return Mt?Mt.call(e):"";var t=e+"";return t=="0"&&1/e==-Ti?"-0":t}function _i(e){return e}var Li="[object AsyncFunction]",Pi="[object Function]",ki="[object GeneratorFunction]",Oi="[object Proxy]";function Fi(e){if(!en(e))return!1;var t=Et(e);return t==Pi||t==ki||t==Li||t==Oi}var Mi=9007199254740991,Ni=/^(?:0|[1-9]\d*)$/;function ji(e,t){var n=typeof e;return t=t??Mi,!!t&&(n=="number"||n!="symbol"&&Ni.test(e))&&e>-1&&e%1==0&&e<t}var Ri=9007199254740991;function Dn(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Ri}function Hi(e){return e!=null&&Dn(e.length)&&!Fi(e)}var Xi=Object.prototype;function Yi(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Xi;return e===n}function zi(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}var $i="[object Arguments]";function Nt(e){return yt(e)&&Et(e)==$i}var An=Object.prototype,Bi=An.hasOwnProperty,Wi=An.propertyIsEnumerable,Ui=Nt(function(){return arguments}())?Nt:function(e){return yt(e)&&Bi.call(e,"callee")&&!Wi.call(e,"callee")};const Gi=Ui;function Vi(){return!1}var Tn=typeof exports=="object"&&exports&&!exports.nodeType&&exports,jt=Tn&&typeof module=="object"&&module&&!module.nodeType&&module,Zi=jt&&jt.exports===Tn,Rt=Zi?$n.Buffer:void 0,Ki=Rt?Rt.isBuffer:void 0,Qi=Ki||Vi;const qi=Qi;var Ji="[object Arguments]",ea="[object Array]",ta="[object Boolean]",na="[object Date]",ia="[object Error]",aa="[object Function]",oa="[object Map]",ra="[object Number]",la="[object Object]",sa="[object RegExp]",ca="[object Set]",da="[object String]",ha="[object WeakMap]",ua="[object ArrayBuffer]",fa="[object DataView]",pa="[object Float32Array]",ga="[object Float64Array]",ma="[object Int8Array]",va="[object Int16Array]",ba="[object Int32Array]",ya="[object Uint8Array]",Ea="[object Uint8ClampedArray]",wa="[object Uint16Array]",Sa="[object Uint32Array]",I={};I[pa]=I[ga]=I[ma]=I[va]=I[ba]=I[ya]=I[Ea]=I[wa]=I[Sa]=!0,I[Ji]=I[ea]=I[ua]=I[ta]=I[fa]=I[na]=I[ia]=I[aa]=I[oa]=I[ra]=I[la]=I[sa]=I[ca]=I[da]=I[ha]=!1;function Ia(e){return yt(e)&&Dn(e.length)&&!!I[Et(e)]}function Ca(e){return function(t){return e(t)}}var _n=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ke=_n&&typeof module=="object"&&module&&!module.nodeType&&module,xa=ke&&ke.exports===_n,ct=xa&&Bn.process,Da=function(){try{var e=ke&&ke.require&&ke.require("util").types;return e||ct&&ct.binding&&ct.binding("util")}catch{}}();const Ht=Da;var Xt=Ht&&Ht.isTypedArray,Aa=Xt?Ca(Xt):Ia;const Ta=Aa;function _a(e,t){var n=Cn(e),i=!n&&Gi(e),a=!n&&!i&&qi(e),o=!n&&!i&&!a&&Ta(e),r=n||i||a||o,s=r?zi(e.length,String):[],l=s.length;for(var c in e)r&&(c=="length"||a&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||ji(c,l))||s.push(c);return s}function La(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var Pa=Object.prototype,ka=Pa.hasOwnProperty;function Oa(e){if(!en(e))return La(e);var t=Yi(e),n=[];for(var i in e)i=="constructor"&&(t||!ka.call(e,i))||n.push(i);return n}function Fa(e){return Hi(e)?_a(e):Oa(e)}function Ma(e){return e==null?"":xn(e)}function Na(e){return function(t,n,i){for(var a=-1,o=Object(t),r=i(t),s=r.length;s--;){var l=r[++a];if(n(o[l],l,o)===!1)break}return t}}var ja=Na();const Ra=ja;function Ha(e){return typeof e=="function"?e:_i}var Ln=/[\\^$.*+?()[\]{}|]/g,Xa=RegExp(Ln.source);function Ya(e){return e=Ma(e),e&&Xa.test(e)?e.replace(Ln,"\\$&"):e}function za(e,t){return e==null?e:Ra(e,Ha(t),Fa)}const Yt=(e,t,n)=>{const i=Ya(t),a=new RegExp(i,"i");e.length===0&&console.warn(`No data was passed to the filter function.
    The data argument should be an array of objects`);const o=(r,s,l)=>{if(r?.constant||r?.filterDisabled)return!0;let c=!1;return za(r,(h,u)=>{typeof h=="function"||h==null||l&&!l.includes(u)||(Array.isArray(h)||typeof h=="object"&&h!==null?o(h,s)&&(c=!0):s.test(h)&&(c=!0))}),c};return e.filter(r=>o(r,a,n))},$a={container:"container",searchIcon:"search-icon"},Ba={search:"search",close:"x"},Wa=":host{box-sizing:border-box;background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:flex;inline-size:100%}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.container{display:flex;inline-size:100%;padding:0.5rem}label{position:relative;margin-inline:0.25rem;margin-block:0px;display:flex;inline-size:100%;align-items:center;overflow:hidden}input[type=text]{margin-block-end:0.25rem;inline-size:100%;border-style:none;background-color:transparent;padding-block:0.25rem;font-family:inherit;font-size:var(--calcite-font-size--2);line-height:1rem;color:var(--calcite-color-text-1);padding-inline-end:0.25rem;padding-inline-start:1.5rem;transition:padding var(--calcite-animation-timing), box-shadow var(--calcite-animation-timing)}input[type=text]::-ms-clear{display:none}calcite-input{inline-size:100%}.search-icon{position:absolute;display:flex;color:var(--calcite-color-text-2);inset-inline-start:0;transition:inset-inline-start var(--calcite-animation-timing), inset-inline-end var(--calcite-animation-timing), opacity var(--calcite-animation-timing)}input[type=text]:focus{border-color:var(--calcite-color-brand);outline:2px solid transparent;outline-offset:2px;padding-inline:0.25rem}input[type=text]:focus~.search-icon{inset-inline-start:calc(1rem * -1);opacity:0}.clear-button{display:flex;cursor:pointer;align-items:center;border-width:0px;background-color:transparent;color:var(--calcite-color-text-2)}.clear-button:hover,.clear-button:focus{color:var(--calcite-color-text-1)}:host([hidden]){display:none}[hidden]{display:none}",Ua=Wa,Ga=vt(class extends bt{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteFilterChange=ce(this,"calciteFilterChange",6),this.filterDebounced=Jt((e,t=!1,n)=>this.updateFiltered(Yt(this.items??[],e,this.filterProps),t,n),jn.filter),this.inputHandler=e=>{const t=e.target;this.value=t.value,this.filterDebounced(t.value,!0)},this.keyDownHandler=e=>{e.defaultPrevented||(e.key==="Escape"&&(this.clear(),e.preventDefault()),e.key==="Enter"&&e.preventDefault())},this.clear=()=>{this.value="",this.filterDebounced("",!0),this.setFocus()},this.items=[],this.disabled=!1,this.filteredItems=[],this.filterProps=void 0,this.placeholder=void 0,this.scale="m",this.value="",this.messages=void 0,this.messageOverrides=void 0,this.effectiveLocale=void 0,this.defaultMessages=void 0}watchItemsHandler(){this.filterDebounced(this.value)}filterPropsHandler(){this.filterDebounced(this.value)}onMessagesChange(){}valueHandler(e){this.filterDebounced(e)}effectiveLocaleChange(){Gt(this,this.effectiveLocale)}async componentWillLoad(){Bt(this),this.updateFiltered(Yt(this.items??[],this.value,this.filterProps)),await Vt(this)}connectedCallback(){Qt(this),Zt(this)}componentDidRender(){zt(this)}disconnectedCallback(){qt(this),Kt(this),this.filterDebounced.cancel()}componentDidLoad(){Wt(this)}async filter(e=this.value){return new Promise(t=>{this.value=e,this.filterDebounced(e,!1,t)})}async setFocus(){return await Ut(this),this.textInput?.setFocus()}updateFiltered(e,t=!1,n){this.filteredItems=e,t&&this.calciteFilterChange.emit(),n?.()}render(){const{disabled:e,scale:t}=this;return v($t,{key:"c4a624e52409ed90839b506f5d99ab623767260e",disabled:e},v("div",{key:"1f2ef99156489719dd2f938bc5ce8a05185866bf",class:$a.container},v("label",{key:"6fe8c6cf73f554908be38299263d23380a4ed089"},v("calcite-input",{key:"6765e00d208d6898221540769865d84aa1c64974",clearable:!0,disabled:e,icon:Ba.search,label:this.messages.label,messageOverrides:{clear:this.messages.clear},onCalciteInputInput:this.inputHandler,onKeyDown:this.keyDownHandler,placeholder:this.placeholder,ref:n=>{this.textInput=n},scale:t,type:"text",value:this.value}))))}static get delegatesFocus(){return!0}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{items:["watchItemsHandler"],filterProps:["filterPropsHandler"],messageOverrides:["onMessagesChange"],value:["valueHandler"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return Ua}},[17,"calcite-filter",{items:[16],disabled:[516],filteredItems:[1040],filterProps:[16],placeholder:[1],scale:[513],value:[1025],messages:[1040],messageOverrides:[1040],effectiveLocale:[32],defaultMessages:[32],filter:[64],setFocus:[64]},void 0,{items:["watchItemsHandler"],filterProps:["filterPropsHandler"],messageOverrides:["onMessagesChange"],value:["valueHandler"],effectiveLocale:["effectiveLocaleChange"]}]);function Pn(){typeof customElements>"u"||["calcite-filter","calcite-icon","calcite-input","calcite-input-message","calcite-progress"].forEach(e=>{switch(e){case"calcite-filter":customElements.get(e)||customElements.define(e,Ga);break;case"calcite-icon":customElements.get(e)||tn();break;case"calcite-input":customElements.get(e)||on();break;case"calcite-input-message":customElements.get(e)||an();break;case"calcite-progress":customElements.get(e)||nn();break}})}Pn();const J={container:"container",table:"table",scrim:"scrim",stack:"stack",tableContainer:"table-container",sticky:"sticky-pos",assistiveText:"assistive-text"},Va=0,dt={filterNoResults:"filter-no-results",filterActionsStart:"filter-actions-start",filterActionsEnd:"filter-actions-end"},Za=":host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:block}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.container{position:relative}.table-container{box-sizing:border-box;display:flex;inline-size:100%;flex-direction:column;background-color:transparent}.table-container *{box-sizing:border-box}.table{inline-size:100%;border-collapse:collapse}.stack{--calcite-stack-padding-inline:0;--calcite-stack-padding-block:0}.sticky-pos{position:sticky;inset-block-start:0px;z-index:var(--calcite-z-index-sticky);background-color:var(--calcite-color-foreground-1)}.sticky-pos th{padding:0px}.assistive-text{position:absolute;inline-size:1px;block-size:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}:host([hidden]){display:none}[hidden]{display:none}",Ka=Za,Xe="calcite-list-item",Qa="calcite-list-item-group, calcite-list-item",kn=vt(class extends bt{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteListChange=ce(this,"calciteListChange",6),this.calciteListDragEnd=ce(this,"calciteListDragEnd",6),this.calciteListDragStart=ce(this,"calciteListDragStart",6),this.calciteListFilter=ce(this,"calciteListFilter",6),this.calciteListOrderChange=ce(this,"calciteListOrderChange",6),this.calciteInternalListDefaultSlotChange=ce(this,"calciteInternalListDefaultSlotChange",6),this.dragSelector=Xe,this.focusableItems=[],this.handleSelector="calcite-handle",this.listItems=[],this.mutationObserver=Hn("mutation",()=>this.updateListItems({performFilter:!0})),this.visibleItems=[],this.handleDefaultSlotChange=e=>{Yn(zn(e.target)),this.parentListEl&&this.calciteInternalListDefaultSlotChange.emit()},this.handleFilterActionsStartSlotChange=e=>{this.hasFilterActionsStart=he(e)},this.handleFilterActionsEndSlotChange=e=>{this.hasFilterActionsEnd=he(e)},this.handleFilterNoResultsSlotChange=e=>{this.hasFilterNoResults=he(e)},this.setActiveListItem=()=>{const{focusableItems:e}=this;e.some(t=>t.active)||e[0]&&(e[0].active=!0)},this.updateSelectedItems=(e=!1)=>{this.selectedItems=this.visibleItems.filter(t=>t.selected),e&&this.calciteListChange.emit()},this.borderItems=()=>{const e=this.visibleItems.filter(t=>!t.filterHidden&&this.allParentListItemsOpen(t));e.forEach(t=>t.bordered=t!==e[e.length-1])},this.updateFilteredItems=(e=!1)=>{const{visibleItems:t,filteredData:n,filterText:i}=this,a=n.map(l=>l.value),o=t?.filter(l=>t.every(c=>c===l||!l.contains(c))),r=t.filter(l=>!i||a.includes(l.value))||[],s=new WeakSet;o.forEach(l=>this.filterElements({el:l,filteredItems:r,visibleParents:s})),this.filteredItems=r,e&&this.calciteListFilter.emit()},this.setFilterEl=e=>{this.filterEl=e,this.performFilter()},this.handleFilterChange=e=>{e.stopPropagation();const{value:t}=e.currentTarget;this.filterText=t,this.updateFilteredData(!0)},this.getItemData=()=>this.listItems.map(e=>({label:e.label,description:e.description,metadata:e.metadata,value:e.value})),this.updateListItems=Jt(e=>{const t=e?.emitFilterChange??!1,n=e?.performFilter??!1,{selectionAppearance:i,selectionMode:a,dragEnabled:o,el:r,filterEl:s,filterEnabled:l}=this,c=Array.from(this.el.querySelectorAll(Xe));if(c.forEach(h=>{h.selectionAppearance=i,h.selectionMode=a,h.closest("calcite-list")===r&&(h.dragHandle=o)}),this.parentListEl){this.setUpSorting();return}this.listItems=c,l&&n&&(this.dataForFilter=this.getItemData(),s&&(s.items=this.dataForFilter,this.filterAndUpdateData())),this.visibleItems=this.listItems.filter(h=>!h.closed&&!h.hidden),this.updateFilteredItems(t),this.borderItems(),this.focusableItems=this.filteredItems.filter(h=>!h.disabled),this.setActiveListItem(),this.updateSelectedItems(),this.setUpSorting()},Va),this.focusRow=e=>{const{focusableItems:t}=this;e&&(t.forEach(n=>n.active=n===e),e.setFocus())},this.isNavigable=e=>{const t=e.parentElement?.closest(Xe);return t?t.open&&this.isNavigable(t):!0},this.handleListKeydown=e=>{if(e.defaultPrevented||this.parentListEl)return;const{key:t}=e,n=this.focusableItems.filter(a=>this.isNavigable(a)),i=n.findIndex(a=>a.active);if(t==="ArrowDown"){e.preventDefault();const a=e.target===this.filterEl?0:i+1;n[a]&&this.focusRow(n[a])}else if(t==="ArrowUp"){if(e.preventDefault(),i===0&&this.filterEnabled){this.filterEl?.setFocus();return}const a=i-1;n[a]&&this.focusRow(n[a])}else if(t==="Home"){e.preventDefault();const a=n[0];a&&this.focusRow(a)}else if(t==="End"){e.preventDefault();const a=n[n.length-1];a&&this.focusRow(a)}},this.disabled=!1,this.canPull=void 0,this.canPut=void 0,this.dragEnabled=!1,this.group=void 0,this.filterEnabled=!1,this.filteredItems=[],this.filteredData=[],this.filterPlaceholder=void 0,this.filterText=void 0,this.label=void 0,this.loading=!1,this.filterProps=void 0,this.messageOverrides=void 0,this.messages=void 0,this.numberingSystem=void 0,this.openable=!1,this.selectedItems=[],this.selectionMode="none",this.selectionAppearance="icon",this.effectiveLocale="",this.defaultMessages=void 0,this.assistiveText=void 0,this.dataForFilter=[],this.hasFilterActionsEnd=!1,this.hasFilterActionsStart=!1,this.hasFilterNoResults=!1}async handleFilterTextChange(){this.performFilter()}async handleFilterPropsChange(){this.performFilter()}onMessagesChange(){}handleListItemChange(){this.updateListItems({performFilter:!0})}handleCalciteListItemToggle(e){this.parentListEl||(e.stopPropagation(),this.borderItems())}handleCalciteInternalFocusPreviousItem(e){if(this.parentListEl)return;e.stopPropagation();const{focusableItems:t}=this,n=t.findIndex(i=>i.active)-1;t[n]&&this.focusRow(t[n])}handleCalciteInternalListItemActive(e){if(this.parentListEl)return;e.stopPropagation();const t=e.target,{listItems:n}=this;n.forEach(i=>{i.active=i===t})}handleCalciteListItemSelect(){this.parentListEl||this.updateSelectedItems(!0)}handleCalciteInternalAssistiveTextChange(e){this.assistiveText=e.detail.message,e.stopPropagation()}handleCalciteHandleNudge(e){this.parentListEl||this.handleNudgeEvent(e)}handleCalciteInternalListItemSelect(e){if(this.parentListEl)return;e.stopPropagation();const t=e.target,{listItems:n,selectionMode:i}=this;t.selected&&(i==="single"||i==="single-persist")&&n.forEach(a=>a.selected=a===t),this.updateSelectedItems()}handleCalciteInternalListItemSelectMultiple(e){if(this.parentListEl)return;e.stopPropagation();const{target:t,detail:n}=e,{focusableItems:i,lastSelectedInfo:a}=this,o=t;if(n.selectMultiple&&a){const r=i.indexOf(o),s=i.indexOf(a.selectedItem),l=Math.min(s,r),c=Math.max(s,r);i.slice(l,c+1).forEach(h=>h.selected=a.selected)}else this.lastSelectedInfo={selectedItem:o,selected:o.selected}}handleCalciteInternalListItemChange(e){this.parentListEl||(e.stopPropagation(),this.updateListItems())}handleCalciteInternalListItemGroupDefaultSlotChange(e){e.stopPropagation()}connectedCallback(){Qt(this),Zt(this),this.connectObserver(),this.updateListItems({performFilter:!0}),this.setUpSorting(),this.setParentList()}async componentWillLoad(){Bt(this),await Vt(this)}componentDidRender(){zt(this)}componentDidLoad(){Wt(this)}disconnectedCallback(){this.disconnectObserver(),wn(this),qt(this),Kt(this)}effectiveLocaleChange(){Gt(this,this.effectiveLocale)}async setFocus(){return await Ut(this),this.filterEnabled?this.filterEl?.setFocus():this.focusableItems.find(e=>e.active)?.setFocus()}render(){const{loading:e,label:t,disabled:n,dataForFilter:i,filterEnabled:a,filterPlaceholder:o,filterText:r,filteredItems:s,hasFilterActionsStart:l,hasFilterActionsEnd:c,hasFilterNoResults:h,filterProps:u}=this;return v($t,{key:"c3139afe4fe7c7462578a51a4578971c97473167",disabled:this.disabled},v("div",{key:"5e99dc8b479c35609c5f0318723b3da84ec23ef4",class:J.container},this.dragEnabled?v("span",{"aria-live":"assertive",class:J.assistiveText},this.assistiveText):null,this.renderItemAriaLive(),e?v("calcite-scrim",{class:J.scrim,loading:e}):null,v("table",{key:"a31ba050d3141351e491141365e8244ed3ca5303","aria-busy":Rn(e),"aria-label":t||"",class:J.table,onKeyDown:this.handleListKeydown,role:"treegrid"},a||l||c?v("thead",{class:J.sticky},v("tr",null,v("th",{colSpan:Xn},v("calcite-stack",{class:J.stack},v("slot",{name:dt.filterActionsStart,onSlotchange:this.handleFilterActionsStartSlotChange,slot:ye.actionsStart}),v("calcite-filter",{"aria-label":o,disabled:n,filterProps:u,items:i,onCalciteFilterChange:this.handleFilterChange,placeholder:o,ref:this.setFilterEl,value:r}),v("slot",{name:dt.filterActionsEnd,onSlotchange:this.handleFilterActionsEndSlotChange,slot:ye.actionsEnd}))))):null,v("tbody",{key:"3ed1b8d9a4387c3ea0f4ff38e5388be35b32d89b",class:J.tableContainer},v("slot",{key:"712562533b4609749cbff0968bd0a9e77d99758e",onSlotchange:this.handleDefaultSlotChange}))),v("div",{key:"3ff977013e0ca0d58229e1305dca702000d91a99","aria-live":"polite","data-test-id":"no-results-container",hidden:!(h&&a&&r&&!s.length)},v("slot",{key:"7c2bf6389c8b5f4b6f617950e4068baf6b1dc358",name:dt.filterNoResults,onSlotchange:this.handleFilterNoResultsSlotChange}))))}renderItemAriaLive(){const{messages:e,filteredItems:t,parentListEl:n,effectiveLocale:i,numberingSystem:a,filterEnabled:o,filterText:r,filteredData:s}=this;return It.numberFormatOptions={locale:i,numberingSystem:a},n?null:v("div",{"aria-live":"polite",class:J.assistiveText},o&&r&&s?.length?v("div",{key:"aria-filter-enabled"},e.filterEnabled):null,v("div",{key:"aria-item-count"},e.total.replace("{count}",It.localize(t.length.toString()))),t.length?v("ol",{key:"aria-item-list"},t.map(l=>v("li",null,l.label))):null)}connectObserver(){this.mutationObserver?.observe(this.el,{childList:!0,subtree:!0})}disconnectObserver(){this.mutationObserver?.disconnect()}setUpSorting(){const{dragEnabled:e}=this;e&&Ei(this)}onGlobalDragStart(){this.disconnectObserver()}onGlobalDragEnd(){this.connectObserver()}onDragEnd(e){this.calciteListDragEnd.emit(e)}onDragStart(e){this.calciteListDragStart.emit(e)}onDragSort(e){this.setParentList(),this.updateListItems(),this.calciteListOrderChange.emit(e)}setParentList(){this.parentListEl=this.el.parentElement?.closest("calcite-list")}filterElements({el:e,filteredItems:t,visibleParents:n}){const i=!n.has(e)&&!t.includes(e);e.filterHidden=i;const a=e.parentElement.closest(Qa);a&&(i||n.add(a),this.filterElements({el:a,filteredItems:t,visibleParents:n}))}allParentListItemsOpen(e){const t=e.parentElement?.closest(Xe);if(t){if(!t.open)return!1}else return!0;return this.allParentListItemsOpen(t)}updateFilteredData(e=!1){const{filterEl:t}=this;t&&(t.filteredItems&&(this.filteredData=t.filteredItems),this.updateListItems({emitFilterChange:e}))}async filterAndUpdateData(){await this.filterEl?.filter(this.filterText),this.updateFilteredData()}performFilter(){const{filterEl:e,filterText:t,filterProps:n}=this;e&&(e.value=t,e.filterProps=n,this.filterAndUpdateData())}handleNudgeEvent(e){const{handleSelector:t,dragSelector:n}=this,{direction:i}=e.detail,a=e.composedPath(),o=a.find(S=>S?.tagName&&S.matches(t)),r=a.find(S=>S?.tagName&&S.matches(n)),s=r?.parentElement;if(!s)return;const{filteredItems:l}=this,c=l.filter(S=>S.parentElement===s),h=c.length-1,u=c.indexOf(r);let y;i==="up"?y=u===0?h:u-1:y=u===h?0:u+1,this.disconnectObserver(),o.blurUnselectDisabled=!0;const m=i==="up"&&y!==h||i==="down"&&y===0?c[y]:c[y].nextSibling;s.insertBefore(r,m),this.updateListItems(),this.connectObserver(),this.calciteListOrderChange.emit({dragEl:r,fromEl:s,toEl:s,newIndex:y,oldIndex:u}),o.setFocus().then(()=>o.blurUnselectDisabled=!1)}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{filterText:["handleFilterTextChange"],filterProps:["handleFilterPropsChange"],messageOverrides:["onMessagesChange"],filterEnabled:["handleListItemChange"],group:["handleListItemChange"],dragEnabled:["handleListItemChange"],selectionMode:["handleListItemChange"],selectionAppearance:["handleListItemChange"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return Ka}},[1,"calcite-list",{disabled:[516],canPull:[16],canPut:[16],dragEnabled:[516,"drag-enabled"],group:[513],filterEnabled:[516,"filter-enabled"],filteredItems:[1040],filteredData:[1040],filterPlaceholder:[513,"filter-placeholder"],filterText:[1537,"filter-text"],label:[1],loading:[516],filterProps:[16],messageOverrides:[1040],messages:[1040],numberingSystem:[1,"numbering-system"],openable:[4],selectedItems:[1040],selectionMode:[513,"selection-mode"],selectionAppearance:[513,"selection-appearance"],effectiveLocale:[32],defaultMessages:[32],assistiveText:[32],dataForFilter:[32],hasFilterActionsEnd:[32],hasFilterActionsStart:[32],hasFilterNoResults:[32],setFocus:[64]},[[0,"calciteInternalListItemToggle","handleCalciteListItemToggle"],[0,"calciteInternalFocusPreviousItem","handleCalciteInternalFocusPreviousItem"],[0,"calciteInternalListItemActive","handleCalciteInternalListItemActive"],[0,"calciteListItemSelect","handleCalciteListItemSelect"],[0,"calciteInternalAssistiveTextChange","handleCalciteInternalAssistiveTextChange"],[0,"calciteHandleNudge","handleCalciteHandleNudge"],[0,"calciteInternalListItemSelect","handleCalciteInternalListItemSelect"],[0,"calciteInternalListItemSelectMultiple","handleCalciteInternalListItemSelectMultiple"],[0,"calciteInternalListItemChange","handleCalciteInternalListItemChange"],[0,"calciteInternalListItemGroupDefaultSlotChange","handleCalciteInternalListItemGroupDefaultSlotChange"]],{filterText:["handleFilterTextChange"],filterProps:["handleFilterPropsChange"],messageOverrides:["onMessagesChange"],filterEnabled:["handleListItemChange"],group:["handleListItemChange"],dragEnabled:["handleListItemChange"],selectionMode:["handleListItemChange"],selectionAppearance:["handleListItemChange"],effectiveLocale:["effectiveLocaleChange"]}]);function On(){typeof customElements>"u"||["calcite-list","calcite-filter","calcite-icon","calcite-input","calcite-input-message","calcite-loader","calcite-progress","calcite-scrim","calcite-stack"].forEach(e=>{switch(e){case"calcite-list":customElements.get(e)||customElements.define(e,kn);break;case"calcite-filter":customElements.get(e)||Pn();break;case"calcite-icon":customElements.get(e)||tn();break;case"calcite-input":customElements.get(e)||on();break;case"calcite-input-message":customElements.get(e)||an();break;case"calcite-loader":customElements.get(e)||Un();break;case"calcite-progress":customElements.get(e)||nn();break;case"calcite-scrim":customElements.get(e)||Gn();break;case"calcite-stack":customElements.get(e)||In();break}})}On();const Eo=kn,wo=On;export{Eo as CalciteList,wo as defineCustomElement};
