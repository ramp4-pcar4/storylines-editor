const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./geometryEngineBase-DueYg7ux-CCeespPx.js","./_commonjsHelpers-BITg13Vk-KnjfkSck.js","./hydrated-Bae3cp-4-BTtKkc0m.js","./main-D7vwjMDX.js","./main-CUxMDcRh.css"])))=>i.map(i=>d[i]);
import{cq as A,cr as an,cs as b,ba as Jn,ct as Qn,cu as Yn,aS as yn,cv as Xn,_ as dn,H as ne,cw as ee,cx as te,cy as ae,cz as Rn,T as En,ci as K,cf as L,c as se,cA as _n,cB as Sn,cC as Nn,c5 as Ln,E as ie,s as re,Q as le,L as ue,r as oe,cD as G,cE as kn,bc as ce,cF as fe,cG as Ce,cH as Ee,cI as Re,cJ as _e,cK as Se,cL as Pe,cM as he,cN as Gn,aR as Ae,cO as pe}from"./main-D7vwjMDX.js";const st=Math.PI/180,it=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i,N=A.radius,P=A.eccentricitySquared,Oe={a1:N*P,a2:N*P*N*P,a3:N*P*P/2,a4:N*P*N*P*2.5,a5:N*P+N*P*P/2,a6:1-P},rt={4267:{a:63782064e-1,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:A.radius,f:A.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:an.radius,f:an.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:b.radius,f:b.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:b.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}};var s;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",e[e.WGS84=2]="WGS84",e[e.WEB_MERCATOR=3]="WEB_MERCATOR",e[e.WGS84_ECEF=4]="WGS84_ECEF",e[e.CGCS2000=5]="CGCS2000",e[e.SPHERICAL_MARS_PCPF=6]="SPHERICAL_MARS_PCPF",e[e.GCSMARS2000=7]="GCSMARS2000",e[e.SPHERICAL_MOON_PCPF=8]="SPHERICAL_MOON_PCPF",e[e.GCSMOON2000=9]="GCSMOON2000",e[e.LON_LAT=10]="LON_LAT",e[e.PLATE_CARREE=11]="PLATE_CARREE"})(s||(s={}));const Me={[s.WGS84]:{[s.CGCS2000]:C,[s.GCSMARS2000]:null,[s.GCSMOON2000]:null,[s.LON_LAT]:C,[s.SPHERICAL_ECEF]:D,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:T,[s.PLATE_CARREE]:H,[s.WGS84]:C,[s.WGS84_ECEF]:j},[s.CGCS2000]:{[s.CGCS2000]:C,[s.GCSMARS2000]:null,[s.GCSMOON2000]:null,[s.LON_LAT]:C,[s.SPHERICAL_ECEF]:D,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:T,[s.PLATE_CARREE]:H,[s.WGS84]:C,[s.WGS84_ECEF]:j},[s.GCSMARS2000]:{[s.CGCS2000]:null,[s.GCSMARS2000]:C,[s.GCSMOON2000]:null,[s.LON_LAT]:C,[s.SPHERICAL_ECEF]:null,[s.SPHERICAL_MARS_PCPF]:Wn,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:null,[s.PLATE_CARREE]:null,[s.WGS84]:null,[s.WGS84_ECEF]:null},[s.GCSMOON2000]:{[s.CGCS2000]:null,[s.GCSMARS2000]:null,[s.GCSMOON2000]:C,[s.LON_LAT]:C,[s.SPHERICAL_ECEF]:null,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:mn,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:null,[s.PLATE_CARREE]:null,[s.WGS84]:null,[s.WGS84_ECEF]:null},[s.WEB_MERCATOR]:{[s.CGCS2000]:Z,[s.GCSMARS2000]:null,[s.GCSMOON2000]:null,[s.LON_LAT]:Z,[s.SPHERICAL_ECEF]:Ne,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:C,[s.PLATE_CARREE]:Ie,[s.WGS84]:Z,[s.WGS84_ECEF]:Le},[s.WGS84_ECEF]:{[s.CGCS2000]:v,[s.GCSMARS2000]:null,[s.GCSMOON2000]:null,[s.LON_LAT]:v,[s.SPHERICAL_ECEF]:ke,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:je,[s.PLATE_CARREE]:me,[s.WGS84]:v,[s.WGS84_ECEF]:C},[s.SPHERICAL_ECEF]:{[s.CGCS2000]:k,[s.GCSMARS2000]:null,[s.GCSMOON2000]:null,[s.LON_LAT]:k,[s.SPHERICAL_ECEF]:C,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:Te,[s.PLATE_CARREE]:We,[s.WGS84]:k,[s.WGS84_ECEF]:He},[s.SPHERICAL_MARS_PCPF]:{[s.CGCS2000]:null,[s.GCSMARS2000]:wn,[s.GCSMOON2000]:null,[s.LON_LAT]:wn,[s.SPHERICAL_ECEF]:null,[s.SPHERICAL_MARS_PCPF]:C,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:null,[s.PLATE_CARREE]:null,[s.WGS84]:null,[s.WGS84_ECEF]:null},[s.SPHERICAL_MOON_PCPF]:{[s.CGCS2000]:null,[s.GCSMARS2000]:null,[s.GCSMOON2000]:gn,[s.LON_LAT]:gn,[s.SPHERICAL_ECEF]:null,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:C,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:null,[s.PLATE_CARREE]:null,[s.WGS84]:null,[s.WGS84_ECEF]:null},[s.UNKNOWN]:{[s.CGCS2000]:null,[s.GCSMARS2000]:null,[s.GCSMOON2000]:null,[s.LON_LAT]:null,[s.SPHERICAL_ECEF]:null,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:C,[s.WEB_MERCATOR]:null,[s.PLATE_CARREE]:null,[s.WGS84]:null,[s.WGS84_ECEF]:null},[s.LON_LAT]:{[s.CGCS2000]:C,[s.GCSMARS2000]:C,[s.GCSMOON2000]:C,[s.LON_LAT]:C,[s.SPHERICAL_ECEF]:D,[s.SPHERICAL_MARS_PCPF]:Wn,[s.SPHERICAL_MOON_PCPF]:mn,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:T,[s.PLATE_CARREE]:H,[s.WGS84]:C,[s.WGS84_ECEF]:j},[s.PLATE_CARREE]:{[s.CGCS2000]:y,[s.GCSMARS2000]:null,[s.GCSMOON2000]:null,[s.LON_LAT]:y,[s.SPHERICAL_ECEF]:ge,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:we,[s.PLATE_CARREE]:C,[s.WGS84]:y,[s.WGS84_ECEF]:Fe}};function jn(e,t){return de(e,t)?.projector}function de(e,t){if(e==null||t==null)return null;if(M.source.spatialReference===e&&M.dest.spatialReference===t)return M;const n=In(e,M.source),a=In(t,M.dest);return n===s.UNKNOWN&&a===s.UNKNOWN?K(e,t)?M.projector=C:M.projector=null:M.projector=Me[n][a],M}function In(e,t){return e?t.spatialReference===e?t.spatialReferenceId:(t.spatialReference=e,"metersPerUnit"in t&&(t.metersPerUnit=ce(e,1)),Rn(e)?t.spatialReferenceId=s.SPHERICAL_ECEF:_n(e)?t.spatialReferenceId=s.WGS84:Sn(e)?t.spatialReferenceId=s.WEB_MERCATOR:fe(e)?t.spatialReferenceId=s.PLATE_CARREE:e.wkt===Ce.wkt?t.spatialReferenceId=s.WGS84_ECEF:e.wkid===Ee.CGCS2000?t.spatialReferenceId=s.CGCS2000:e.wkt===Re.wkt?t.spatialReferenceId=s.SPHERICAL_MARS_PCPF:e.wkt===_e.wkt?t.spatialReferenceId=s.SPHERICAL_MOON_PCPF:Se(e)?t.spatialReferenceId=s.GCSMARS2000:Pe(e)?t.spatialReferenceId=s.GCSMOON2000:t.spatialReferenceId=s.UNKNOWN):s.UNKNOWN}function C(e,t,n,a){e!==n&&(n[a++]=e[t++],n[a++]=e[t++],n[a]=e[t])}function Z(e,t,n,a){n[a]=B*(e[t]/m),n[a+1]=B*(vn-2*Math.atan(Math.exp(-e[t+1]/m))),n[a+2]=e[t+2]}function Ne(e,t,n,a){const i=e[t]/m,r=vn-2*Math.atan(Math.exp(-e[t+1]/m)),u=m+e[t+2],l=Math.cos(r)*u;n[a]=Math.cos(i)*l,n[a+1]=Math.sin(i)*l,n[a+2]=Math.sin(r)*u}function Le(e,t,n,a){Z(e,t,n,a),j(n,a,n,a)}function Ge(e,t,n,a,i){const r=.4999999*Math.PI,u=Qn(U*e[t+1],-r,r),l=Math.sin(u);n[a++]=U*e[t]*i.radius,n[a++]=i.halfSemiMajorAxis*Math.log((1+l)/(1-l)),n[a]=e[t+2]}function T(e,t,n,a){Ge(e,t,n,a,A)}function H(e,t,n,a){n[a]=e[t]*Fn,n[a+1]=e[t+1]*Fn,n[a+2]=e[t+2]}function y(e,t,n,a){n[a]=e[t]*Tn,n[a+1]=e[t+1]*Tn,n[a+2]=e[t+2]}function Ie(e,t,n,a){Z(e,t,n,a),H(n,a,n,a)}function me(e,t,n,a){v(e,t,n,a),H(n,a,n,a)}function We(e,t,n,a){k(e,t,n,a),H(n,a,n,a)}function ge(e,t,n,a){y(e,t,n,a),D(n,a,n,a)}function we(e,t,n,a){y(e,t,n,a),T(n,a,n,a)}function Fe(e,t,n,a){y(e,t,n,a),j(n,a,n,a)}function hn(e,t,n,a,i){const r=i+e[t+2],u=U*e[t+1],l=U*e[t],o=Math.cos(u)*r;n[a]=Math.cos(l)*o,n[a+1]=Math.sin(l)*o,n[a+2]=Math.sin(u)*r}function mn(e,t,n,a){hn(e,t,n,a,an.radius)}function Wn(e,t,n,a){hn(e,t,n,a,b.radius)}function D(e,t,n,a){hn(e,t,n,a,A.radius)}function An(e,t,n,a,i){const r=e[t],u=e[t+1],l=e[t+2],o=Math.sqrt(r*r+u*u+l*l),f=he(l/(o===0?1:o)),c=Math.atan2(u,r);n[a++]=B*c,n[a++]=B*f,n[a]=o-i}function gn(e,t,n,a){An(e,t,n,a,an.radius)}function wn(e,t,n,a){An(e,t,n,a,b.radius)}function k(e,t,n,a){An(e,t,n,a,A.radius)}function Te(e,t,n,a){k(e,t,n,a),T(n,a,n,a)}function He(e,t,n,a){k(e,t,n,a),j(n,a,n,a)}function ye(e,t,n,a,i){const r=U*e[t],u=U*e[t+1],l=e[t+2],o=Math.sin(u),f=Math.cos(u),c=i.radius/Math.sqrt(1-i.eccentricitySquared*o*o);n[a++]=(c+l)*f*Math.cos(r),n[a++]=(c+l)*f*Math.sin(r),n[a++]=(c*(1-i.eccentricitySquared)+l)*o}function j(e,t,n,a){ye(e,t,n,a,A)}function v(e,t,n,a){const i=Oe,r=e[t],u=e[t+1],l=e[t+2];let o,f,c,R,E,p,O,S,d,z,ln,un,on,g,w,cn,fn,Cn,F,On,Mn;o=Math.abs(l),f=r*r+u*u,c=Math.sqrt(f),R=f+l*l,E=Math.sqrt(R),On=Math.atan2(u,r),p=l*l/R,O=f/R,g=i.a2/E,w=i.a3-i.a4/E,O>.3?(S=o/E*(1+O*(i.a1+g+p*w)/E),F=Math.asin(S),z=S*S,d=Math.sqrt(1-z)):(d=c/E*(1-p*(i.a5-g-O*w)/E),F=Math.acos(d),z=1-d*d,S=Math.sqrt(z)),ln=1-A.eccentricitySquared*z,un=A.radius/Math.sqrt(ln),on=i.a6*un,g=c-un*d,w=o-on*S,fn=d*g+S*w,cn=d*w-S*g,Cn=cn/(on/ln+fn),F+=Cn,Mn=fn+cn*Cn/2,l<0&&(F=-F),n[a++]=B*On,n[a++]=B*F,n[a]=Mn}function ke(e,t,n,a){v(e,t,n,a),D(n,a,n,a)}function je(e,t,n,a){v(e,t,n,a),T(n,a,n,a)}const M={source:{spatialReference:null,spatialReferenceId:s.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:s.UNKNOWN,metersPerUnit:1},projector:C},U=Yn(1),B=Jn(1),vn=.5*Math.PI,m=A.radius,Fn=m*Math.PI/180,Tn=180/(m*Math.PI);function Q(e,t,n,a,i,r,u=Math.floor(e.length/3)){const l=jn(t,i);if(l==null)return!1;if(l===C){if(e===a&&n===r)return!0;const f=n+3*u;for(let c=n,R=r;c<f;c++,R++)a[R]=e[c];return!0}const o=n+3*u;for(let f=n,c=r;f<o;f+=3,c+=3)l(e,f,a,c);return!0}const lt=Object.freeze(Object.defineProperty({__proto__:null,projectBuffer:Q},Symbol.toStringTag,{value:"Module"}));function Hn(e,t,n,a,i,r){return X[0]=e,X[1]=t,X[2]=n,Q(X,a,0,i,r,0)}const X=kn();let nn=0;class x{static fromGE(t){const n=new x;return n._wkt=t.wkt,n._wkid=t.wkid,n._isInverse=t.isInverse,n}constructor(t){this.uid=nn++,t?(this._wkt=t.wkt!=null?t.wkt:null,this._wkid=t.wkid!=null?t.wkid:-1,this._isInverse=t.isInverse!=null&&t.isInverse===!0):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(t){this._wkt=t,this.uid=nn++}get wkid(){return this._wkid}set wkid(t){this._wkid=t,this.uid=nn++}get isInverse(){return this._isInverse}set isInverse(t){this._isInverse=t,this.uid=nn++}getInverse(){const t=new x;return t._wkt=this.wkt,t._wkid=this._wkid,t._isInverse=!this.isInverse,t}}let sn=class q{static cacheKey(t,n){return[t.wkid?.toString()??"-1",t.wkt?.toString()??"",t.wkt2?.toString()??"",n.wkid?.toString()??"-1",n.wkt?.toString()??"",n.wkt2?.toString()??""].join()}static fromGE(t){const n=new q;let a="";for(const i of t.steps){const r=x.fromGE(i);n.steps.push(r),a+=r.uid.toString()+","}return n._cachedProjection={},n._gtlistentry=null,n._chain=a,n}constructor(t){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,t?.steps)for(const n of t.steps)n instanceof x?this.steps.push(n):this.steps.push(new x({wkid:n.wkid,wkt:n.wkt,isInverse:n.isInverse}))}getInverse(){const t=new q;t.steps=[];for(let n=this.steps.length-1;n>=0;n--){const a=this.steps[n];t.steps.push(a.getInverse())}return t}getGTListEntry(){let t="";for(const n of this.steps)t+=n.uid.toString()+",";return t!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=t),this._gtlistentry}assignCachedGe(t,n,a){this._cachedProjection[q.cacheKey(t,n)]=a}getCachedGeTransformation(t,n){let a="";for(const r of this.steps)a+=r.uid.toString()+",";a!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=a);const i=this._cachedProjection[q.cacheKey(t,n)];return i===void 0?null:i}};function ve(e,t,n){if(t==null||n==null||n.vcsWkid||K(t,n)||G(t)||G(n))return null;const a=Gn(t)/Gn(n);if(a===1)return null;switch(e){case"point":case"esriGeometryPoint":return i=>xe(i,a);case"polyline":case"esriGeometryPolyline":return i=>Ue(i,a);case"polygon":case"esriGeometryPolygon":return i=>Ke(i,a);case"multipoint":case"esriGeometryMultipoint":return i=>Be(i,a);case"extent":case"esriGeometryEnvelope":return i=>ze(i,a);default:return null}}function xe(e,t){e?.z!=null&&(e.z*=t)}function Ke(e,t){if(e)for(const n of e.rings)for(const a of n)a.length>2&&(a[2]*=t)}function Ue(e,t){if(e)for(const n of e.paths)for(const a of n)a.length>2&&(a[2]*=t)}function Be(e,t){if(e)for(const n of e.points)n.length>2&&(n[2]*=t)}function ze(e,t){e&&e.zmin!=null&&e.zmax!=null&&(e.zmin*=t,e.zmax*=t)}let h=null,I=null,V=null,en={};const pn=new Ae;function Y(){return!!h&&pe()}function xn(){return!!Y()||(yn(pn),$(),!1)}function qe(e,t){return!e||!t||W(e,t)||xn()}function be(e,t){return!W(e,t)&&!Y()}function $(e){return V==null&&(V=Promise.all([Xn(),dn(()=>import("./geometryEngineBase-DueYg7ux-CCeespPx.js"),__vite__mapDeps([0,1]),import.meta.url).then(t=>t.g),dn(()=>import("./hydrated-Bae3cp-4-BTtKkc0m.js"),__vite__mapDeps([2,3,4]),import.meta.url)])),V.then(([,t,{hydratedAdapter:n}])=>{ne(e),I=n,h=t.default,h._enableProjection(ee),pn.notify()})}function Kn(e,t,n=null,a=null){return Array.isArray(e)?e.length===0?[]:(te(e),Pn(I,e,e[0].spatialReference,t,n,a)):(ae(e),Pn(I,[e],e.spatialReference,t,n,a)[0])}function Pn(e,t,n,a,i=null,r=null){if(n==null||a==null)return t;if(W(n,a,i))return t.map(u=>tn(u,n,a));if(i==null&&Rn(n))return t.map(u=>tn(u,n,En.WGS84)).map(u=>J(u,a));if(i==null&&Rn(a))return t.map(u=>J(u,En.WGS84)).map(u=>tn(u,En.WGS84,a));if(i==null){const u=sn.cacheKey(n,a);en[u]!==void 0?i=en[u]:((i=Bn(n,a,void 0))==null&&(i=new sn),en[u]=i)}if(h==null||e==null)throw new rn;return r!=null?h._project(e,t,n,a,i,r):h._project(e,t,n,a,i)}function Ze(e,t){const n=Un([e],t);return n.pending!=null?{pending:n.pending,geometry:null}:n.geometries!=null?{pending:null,geometry:n.geometries[0]}:{pending:null,geometry:null}}function Un(e,t){if(!Y()){for(const n of e)if(n!=null&&!K(n.spatialReference,t)&&L(n.spatialReference)&&L(t)&&!W(n.spatialReference,t))return yn(pn),{pending:$(),geometries:null}}return{pending:null,geometries:e.map(n=>n==null?null:K(n.spatialReference,t)?n:L(n.spatialReference)&&L(t)?J(n,t):null)}}function Bn(e,t,n=null){if(e==null||t==null)return null;if(h==null||I==null)throw new rn;const a=h._getTransformation(I,e,t,n,n?.spatialReference);return a!==null?sn.fromGE(a):null}function De(e,t,n=null){if(h==null||I==null)throw new rn;const a=h._getTransformationBySuitability(I,e,t,n,n?.spatialReference);if(a!==null){const i=[];for(const r of a)i.push(sn.fromGE(r));return i}return[]}class rn extends se{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}function Ve(){h=null,I=null,V=null,en={}}const $e={get loadPromise(){return V}};function J(e,t){try{const n=Kn(e,t);return n==null?null:("xmin"in e&&"xmin"in n&&(n.zmin=e.zmin,n.zmax=e.zmax),ve(n.type,e.spatialReference,t)?.(n),n)}catch(n){if(!(n instanceof rn))throw n;return null}}async function Je(e,t,n){const a=e.spatialReference;return a!=null&&t!=null&&await zn(a,t,null,n),J(e,t)}function W(e,t,n){return!n&&(!!K(e,t)||L(e)&&L(t)&&!!jn(e,t))}function Qe(e,t){if(K(e,t))return!0;if(!L(e)||!L(t))return!1;const n=_n(e)||Sn(e)||Nn(e),a=_n(t)||Sn(t)||Nn(t);return n&&a}async function zn(e,t,n,a){if(Y())return Ln(a);if(Array.isArray(e)){for(const{source:i,dest:r,geographicTransformation:u}of e)if(i&&r&&!W(i,r,u))return $(a)}else if(e&&t&&!W(e,t,n))return $(a);return Ln(a)}function tn(e,t,n){return e?"x"in e?qn(e,t,new ie,n,0):"xmin"in e?Vn(e,t,new re,n,0):"rings"in e?Dn(e,t,new le,n,0):"paths"in e?Zn(e,t,new ue,n,0):"points"in e?bn(e,t,new oe,n,0):null:null}function Ye(e,t,n=t.spatialReference,a=0){return n!=null&&e.spatialReference!=null&&qn(e,e.spatialReference,t,n,a)!=null}function qn(e,t,n,a,i){_[0]=e.x,_[1]=e.y;const r=e.z;return _[2]=r!==void 0?r:i,Q(_,t,0,_,a,0)?(n.x=_[0],n.y=_[1],n.spatialReference=a,r!==void 0||G(a)?(n.z=_[2],n.hasZ=!0):(n.z=void 0,n.hasZ=!1),e.m===void 0?(n.m=void 0,n.hasM=!1):(n.m=e.m,n.hasM=!0),n):null}function Xe(e,t,n=t.spatialReference,a=0){return e.spatialReference!=null&&n!=null&&bn(e,e.spatialReference,t,n,a)!=null}function bn(e,t,n,a,i){const{points:r,hasZ:u,hasM:l}=e,o=[],f=r.length,c=[];for(const E of r)c.push(E[0],E[1],u?E[2]:i);if(!Q(c,t,0,c,a,0,f))return null;const R=u||G(a);for(let E=0;E<f;++E){const p=3*E,O=c[p],S=c[p+1];R&&l?o.push([O,S,c[p+2],r[E][3]]):R?o.push([O,S,c[p+2]]):l?o.push([O,S,r[E][2]]):o.push([O,S])}return n.points=o,n.spatialReference=a,n.hasZ=u,n.hasM=l,n}function nt(e,t,n=t.spatialReference,a=0){return e.spatialReference!=null&&n!=null&&Zn(e,e.spatialReference,t,n,a)!=null}function Zn(e,t,n,a,i){const{paths:r,hasZ:u,hasM:l}=e,o=[];if(!$n(r,u??!1,l??!1,t,o,a,i))return null;const f=u||G(a);return n.paths=o,n.spatialReference=a,n.hasZ=f,n.hasM=l,n}function et(e,t,n=t.spatialReference,a=0){return e.spatialReference!=null&&n!=null&&Dn(e,e.spatialReference,t,n,a)!=null}function Dn(e,t,n,a,i){const{rings:r,hasZ:u,hasM:l}=e,o=[];if(!$n(r,u??!1,l??!1,t,o,a,i))return null;const f=u||G(a);return n.rings=o,n.spatialReference=a,n.hasZ=f,n.hasM=l,n}function tt(e,t,n=t.spatialReference,a=0){return e.spatialReference!=null&&n!=null&&Vn(e,e.spatialReference,t,n,a)!=null}function Vn(e,t,n,a,i){const{xmin:r,ymin:u,xmax:l,ymax:o,hasZ:f,hasM:c}=e,R=f?e.zmin:i;if(!Hn(r,u,R,t,_,a))return null;const E=f||G(a);n.xmin=_[0],n.ymin=_[1],E&&(n.zmin=_[2]);const p=f?e.zmax:i;return Hn(l,o,p,t,_,a)?(n.xmax=_[0],n.ymax=_[1],E&&(n.zmax=_[2]),c&&(n.mmin=e.mmin,n.mmax=e.mmax),n.spatialReference=a,n):null}function $n(e,t,n,a,i,r,u=0){const l=new Array;for(const c of e)for(const R of c)l.push(R[0],R[1],t?R[2]:u);if(!Q(l,a,0,l,r,0))return!1;let o=0;i.length=0;const f=t||G(r);for(const c of e){const R=new Array;for(const E of c)f&&n?R.push([l[o++],l[o++],l[o++],E[3]]):f?R.push([l[o++],l[o++],l[o++]]):n?(R.push([l[o++],l[o++],E[2]]),o++):(R.push([l[o++],l[o++]]),o++);i.push(R)}return!0}const _=kn(),ut=Object.freeze(Object.defineProperty({__proto__:null,canProjectWithoutEngine:W,getTransformation:Bn,getTransformations:De,initializeProjection:zn,isEqualBaseGCS:Qe,isLoaded:Y,isLoadedOrLoad:xn,isLoadedOrLoadFor:qe,load:$,project:Kn,projectExtent:tt,projectMany:Pn,projectMultipoint:Xe,projectOrLoad:Ze,projectOrLoadMany:Un,projectPoint:Ye,projectPolygon:et,projectPolyline:nt,projectWithZConversion:Je,projectWithoutEngine:tn,requiresLoad:be,test:$e,tryProjectWithZConversion:J,unload:Ve},Symbol.toStringTag,{value:"Module"}));export{tn as $,de as F,jn as G,J as I,$ as K,W as L,s as N,Kn as O,zn as Q,qe as U,Pn as V,Ze as X,Un as Y,ve as a,Me as b,Qe as c,rt as d,et as e,Hn as f,ut as g,Ge as h,st as i,Y as k,Ye as n,Q as o,lt as p,Bn as q,sn as s,it as t,An as v};
