import{at as Lt,b as Tt}from"./main-D7vwjMDX.js";let _;const h=new Array(128).fill(void 0);function w(n){return h[n]}h.push(void 0,null,!0,!1);let B=h.length;function Dt(n){n<132||(h[n]=B,B=n)}function l(n){const t=w(n);return Dt(n),t}function g(n){B===h.length&&h.push(h.length+1);const t=B;return B=h[t],h[t]=n,t}const Mt=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&Mt.decode();let T=null;function F(){return T!==null&&T.byteLength!==0||(T=new Uint8Array(_.memory.buffer)),T}function p(n,t){return n>>>=0,Mt.decode(F().subarray(n,n+t))}function J(n,t){return n>>>=0,F().subarray(n/1,n/1+t)}const at=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>{_.__wbindgen_export_1.get(n.dtor)(n.a,n.b)});function Ut(n,t,e,r){const i={a:n,b:t,cnt:1,dtor:e},o=(...s)=>{i.cnt++;const d=i.a;i.a=0;try{return r(d,i.b,...s)}finally{--i.cnt==0?(_.__wbindgen_export_1.get(i.dtor)(d,i.b),at.unregister(i)):i.a=d}};return o.original=i,at.register(o,i,i),o}function Vt(n,t,e){_._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h6f3c6e2a403d1e3d(n,t,g(e))}function Nt(){_.enable_tracing()}let c=0;const $=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},Xt=typeof $.encodeInto=="function"?function(n,t){return $.encodeInto(n,t)}:function(n,t){const e=$.encode(n);return t.set(e),{read:n.length,written:e.length}};function y(n,t,e){if(e===void 0){const d=$.encode(n),u=t(d.length,1)>>>0;return F().subarray(u,u+d.length).set(d),c=d.length,u}let r=n.length,i=t(r,1)>>>0;const o=F();let s=0;for(;s<r;s++){const d=n.charCodeAt(s);if(d>127)break;o[i+s]=d}if(s!==r){s!==0&&(n=n.slice(s)),i=e(i,r,r=s+3*n.length,1)>>>0;const d=F().subarray(i+s,i+r);s+=Xt(n,d).written,i=e(i,r,s,1)>>>0}return c=s,i}let I=null;function a(){return(I===null||I.buffer.detached===!0||I.buffer.detached===void 0&&I.buffer!==_.memory.buffer)&&(I=new DataView(_.memory.buffer)),I}function m(n,t){try{return n.apply(this,t)}catch(e){_.__wbindgen_exn_store(g(e))}}function Yt(n,t,e,r){_.wasm_bindgen__convert__closures__invoke2_mut__h367b7e3d952c2b06(n,t,g(e),g(r))}let M=null;function Ot(){return M!==null&&M.byteLength!==0||(M=new Float64Array(_.memory.buffer)),M}function $t(n,t){return n>>>=0,Ot().subarray(n/8,n/8+t)}let O=null;function qt(){return O!==null&&O.byteLength!==0||(O=new Uint32Array(_.memory.buffer)),O}function Jt(n,t){return n>>>=0,qt().subarray(n/4,n/4+t)}function R(n,t){n>>>=0;const e=a(),r=[];for(let i=n;i<n+4*t;i+=4)r.push(l(e.getUint32(i,!0)));return r}let q=null;function Kt(){return q!==null&&q.byteLength!==0||(q=new Uint16Array(_.memory.buffer)),q}function N(n,t){const e=t(2*n.length,2)>>>0;return Kt().set(n,e/2),c=n.length,e}function Ht(n,t){const e=t(4*n.length,4)>>>0,r=a();for(let i=0;i<n.length;i++)r.setUint32(e+4*i,g(n[i]),!0);return c=n.length,e}function f(n,t){if(!(n instanceof t))throw new Error(`expected instance of ${t.name}`);return n.ptr}function X(n,t){const e=t(8*n.length,8)>>>0;return Ot().set(n,e/8),c=n.length,e}function Y(n,t){const e=t(4*n.length,4)>>>0;return qt().set(n,e/4),c=n.length,e}function b(n){return n==null}function ot(n,t){const e=t(1*n.length,1)>>>0;return F().set(n,e/1),c=n.length,e}function jt(n,t,e){const r=y(n,_.__wbindgen_malloc,_.__wbindgen_realloc),i=c;return l(_.readMetadata(r,i,g(t),g(e)))}function Qt(n){const t=ot(n,_.__wbindgen_malloc),e=c;return l(_.readMetadataFromFile(t,e))}function Zt(n,t,e,r,i){const o=y(n,_.__wbindgen_malloc,_.__wbindgen_realloc),s=c;f(r,z);var d=r.__destroy_into_raw();let u=0;return b(i)||(f(i,k),u=i.__destroy_into_raw()),l(_.readFile(o,s,g(t),g(e),d,u))}function te(n,t){let e=0;b(n)||(f(n,k),e=n.__destroy_into_raw());const r=ot(t,_.__wbindgen_malloc),i=c;return l(_.readFileFromBinary(e,r,i))}const ee=Object.freeze({None:0,0:"None",Snappy:1,1:"Snappy"}),j=Object.freeze({Point:0,0:"Point",Polygon:1,1:"Polygon",Polyline:2,2:"Polyline",Multipoint:3,3:"Multipoint"}),_e=["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeBigInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeLong","esriFieldTypeString","esriFieldTypeDate","esriFieldTypeOID","esriFieldTypeGeometry","esriFieldTypeBlob","esriFieldTypeRaster","esriFieldTypeGUID","esriFieldTypeGlobalID","esriFieldTypeXML","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"],st=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_columndescriptor_free(n>>>0,1));class H{static __wrap(t){t>>>=0;const e=Object.create(H.prototype);return e.__wbg_ptr=t,st.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,st.unregister(this),t}free(){const t=this.__destroy_into_raw();_.__wbg_columndescriptor_free(t,0)}name(){let t,e;try{const o=_.__wbindgen_add_to_stack_pointer(-16);_.columndescriptor_name(o,this.__wbg_ptr);var r=a().getInt32(o+0,!0),i=a().getInt32(o+4,!0);return t=r,e=i,p(r,i)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(t,e,1)}}physicalType(){let t,e;try{const o=_.__wbindgen_add_to_stack_pointer(-16);_.columndescriptor_physicalType(o,this.__wbg_ptr);var r=a().getInt32(o+0,!0),i=a().getInt32(o+4,!0);return t=r,e=i,p(r,i)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(t,e,1)}}logicalType(){try{const r=_.__wbindgen_add_to_stack_pointer(-16);_.columndescriptor_logicalType(r,this.__wbg_ptr);var t=a().getInt32(r+0,!0),e=a().getInt32(r+4,!0);let i;return t!==0&&(i=p(t,e).slice(),_.__wbindgen_free(t,1*e,1)),i}finally{_.__wbindgen_add_to_stack_pointer(16)}}encodings(){try{const i=_.__wbindgen_add_to_stack_pointer(-16);_.columndescriptor_encodings(i,this.__wbg_ptr);var t=a().getInt32(i+0,!0),e=a().getInt32(i+4,!0),r=R(t,e).slice();return _.__wbindgen_free(t,4*e,4),r}finally{_.__wbindgen_add_to_stack_pointer(16)}}pageEncodings(){try{const r=_.__wbindgen_add_to_stack_pointer(-16);_.columndescriptor_pageEncodings(r,this.__wbg_ptr);var t=a().getInt32(r+0,!0),e=a().getInt32(r+4,!0);let i;return t!==0&&(i=R(t,e).slice(),_.__wbindgen_free(t,4*e,4)),i}finally{_.__wbindgen_add_to_stack_pointer(16)}}numValues(){return _.columndescriptor_numValues(this.__wbg_ptr)}compression(){let t,e;try{const o=_.__wbindgen_add_to_stack_pointer(-16);_.columndescriptor_compression(o,this.__wbg_ptr);var r=a().getInt32(o+0,!0),i=a().getInt32(o+4,!0);return t=r,e=i,p(r,i)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(t,e,1)}}compressedSize(){return _.columndescriptor_compressedSize(this.__wbg_ptr)}uncompressedSize(){return _.columndescriptor_uncompressedSize(this.__wbg_ptr)}nullCount(){try{const r=_.__wbindgen_add_to_stack_pointer(-16);_.columndescriptor_nullCount(r,this.__wbg_ptr);var t=a().getInt32(r+0,!0),e=a().getBigInt64(r+8,!0);return t===0?void 0:e}finally{_.__wbindgen_add_to_stack_pointer(16)}}distinctCount(){try{const r=_.__wbindgen_add_to_stack_pointer(-16);_.columndescriptor_distinctCount(r,this.__wbg_ptr);var t=a().getInt32(r+0,!0),e=a().getBigInt64(r+8,!0);return t===0?void 0:e}finally{_.__wbindgen_add_to_stack_pointer(16)}}minValue(){try{const r=_.__wbindgen_add_to_stack_pointer(-16);_.columndescriptor_minValue(r,this.__wbg_ptr);var t=a().getInt32(r+0,!0),e=a().getInt32(r+4,!0);let i;return t!==0&&(i=J(t,e).slice(),_.__wbindgen_free(t,1*e,1)),i}finally{_.__wbindgen_add_to_stack_pointer(16)}}maxValue(){try{const r=_.__wbindgen_add_to_stack_pointer(-16);_.columndescriptor_maxValue(r,this.__wbg_ptr);var t=a().getInt32(r+0,!0),e=a().getInt32(r+4,!0);let i;return t!==0&&(i=J(t,e).slice(),_.__wbindgen_free(t,1*e,1)),i}finally{_.__wbindgen_add_to_stack_pointer(16)}}}const gt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_fieldmetadata_free(n>>>0,1));class V{static __wrap(t){t>>>=0;const e=Object.create(V.prototype);return e.__wbg_ptr=t,gt.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,gt.unregister(this),t}free(){const t=this.__destroy_into_raw();_.__wbg_fieldmetadata_free(t,0)}get name(){let t,e;try{const o=_.__wbindgen_add_to_stack_pointer(-16);_.fieldmetadata_name(o,this.__wbg_ptr);var r=a().getInt32(o+0,!0),i=a().getInt32(o+4,!0);return t=r,e=i,p(r,i)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(t,e,1)}}get index(){return _.fieldmetadata_index(this.__wbg_ptr)}get type(){const t=_.fieldmetadata_esri_type(this.__wbg_ptr);return _e[t]}get physicalType(){try{const r=_.__wbindgen_add_to_stack_pointer(-16);_.fieldmetadata_physical_type(r,this.__wbg_ptr);var t=a().getInt32(r+0,!0),e=a().getInt32(r+4,!0);let i;return t!==0&&(i=p(t,e).slice(),_.__wbindgen_free(t,1*e,1)),i}finally{_.__wbindgen_add_to_stack_pointer(16)}}get logicalType(){try{const r=_.__wbindgen_add_to_stack_pointer(-16);_.fieldmetadata_logical_type(r,this.__wbg_ptr);var t=a().getInt32(r+0,!0),e=a().getInt32(r+4,!0);let i;return t!==0&&(i=p(t,e).slice(),_.__wbindgen_free(t,1*e,1)),i}finally{_.__wbindgen_add_to_stack_pointer(16)}}}const dt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_filemetadata_free(n>>>0,1));class z{static __wrap(t){t>>>=0;const e=Object.create(z.prototype);return e.__wbg_ptr=t,dt.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,dt.unregister(this),t}free(){const t=this.__destroy_into_raw();_.__wbg_filemetadata_free(t,0)}version(){return _.filemetadata_version(this.__wbg_ptr)}numRows(){return _.filemetadata_numRows(this.__wbg_ptr)>>>0}numFields(){return _.filemetadata_numFields(this.__wbg_ptr)>>>0}numColumns(){return _.filemetadata_numColumns(this.__wbg_ptr)>>>0}createdBy(){try{const r=_.__wbindgen_add_to_stack_pointer(-16);_.filemetadata_createdBy(r,this.__wbg_ptr);var t=a().getInt32(r+0,!0),e=a().getInt32(r+4,!0);let i;return t!==0&&(i=p(t,e).slice(),_.__wbindgen_free(t,1*e,1)),i}finally{_.__wbindgen_add_to_stack_pointer(16)}}keyValueMetadata(t){try{const i=_.__wbindgen_add_to_stack_pointer(-16),o=y(t,_.__wbindgen_malloc,_.__wbindgen_realloc),s=c;_.filemetadata_keyValueMetadata(i,this.__wbg_ptr,o,s);var e=a().getInt32(i+0,!0),r=a().getInt32(i+4,!0);let d;return e!==0&&(d=p(e,r).slice(),_.__wbindgen_free(e,1*r,1)),d}finally{_.__wbindgen_add_to_stack_pointer(16)}}keys(){try{const r=_.__wbindgen_add_to_stack_pointer(-16);_.filemetadata_keys(r,this.__wbg_ptr);var t=a().getInt32(r+0,!0),e=a().getInt32(r+4,!0);let i;return t!==0&&(i=R(t,e).slice(),_.__wbindgen_free(t,4*e,4)),i}finally{_.__wbindgen_add_to_stack_pointer(16)}}getFieldIndex(t){const e=y(t,_.__wbindgen_malloc,_.__wbindgen_realloc),r=c,i=_.filemetadata_getFieldIndex(this.__wbg_ptr,e,r);return i===16777215?void 0:i}getFieldByIndex(t){const e=_.filemetadata_getFieldByIndex(this.__wbg_ptr,t);return e===0?void 0:V.__wrap(e)}getFields(){try{const i=_.__wbindgen_add_to_stack_pointer(-16);_.filemetadata_getFields(i,this.__wbg_ptr);var t=a().getInt32(i+0,!0),e=a().getInt32(i+4,!0),r=R(t,e).slice();return _.__wbindgen_free(t,4*e,4),r}finally{_.__wbindgen_add_to_stack_pointer(16)}}}const ct=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_filewriter_free(n>>>0,1));class K{static __wrap(t){t>>>=0;const e=Object.create(K.prototype);return e.__wbg_ptr=t,ct.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,ct.unregister(this),t}free(){const t=this.__destroy_into_raw();_.__wbg_filewriter_free(t,0)}static new(t,e){const r=Ht(t,_.__wbindgen_malloc),i=c,o=_.filewriter_new(r,i,e);return K.__wrap(o)}writeKeyValue(t,e){const r=y(t,_.__wbindgen_malloc,_.__wbindgen_realloc),i=c,o=y(e,_.__wbindgen_malloc,_.__wbindgen_realloc),s=c;_.filewriter_writeKeyValue(this.__wbg_ptr,r,i,o,s)}writeI32Page(t,e){try{const o=_.__wbindgen_add_to_stack_pointer(-16);f(e,E);var r=e.__destroy_into_raw();_.filewriter_writeI32Page(o,this.__wbg_ptr,t,r);var i=a().getInt32(o+0,!0);if(a().getInt32(o+4,!0))throw l(i)}finally{_.__wbindgen_add_to_stack_pointer(16)}}writeI64Page(t,e){try{const o=_.__wbindgen_add_to_stack_pointer(-16);f(e,L);var r=e.__destroy_into_raw();_.filewriter_writeI64Page(o,this.__wbg_ptr,t,r);var i=a().getInt32(o+0,!0);if(a().getInt32(o+4,!0))throw l(i)}finally{_.__wbindgen_add_to_stack_pointer(16)}}writeF32Page(t,e){try{const o=_.__wbindgen_add_to_stack_pointer(-16);f(e,W);var r=e.__destroy_into_raw();_.filewriter_writeF32Page(o,this.__wbg_ptr,t,r);var i=a().getInt32(o+0,!0);if(a().getInt32(o+4,!0))throw l(i)}finally{_.__wbindgen_add_to_stack_pointer(16)}}writeF64Page(t,e){try{const o=_.__wbindgen_add_to_stack_pointer(-16);f(e,A);var r=e.__destroy_into_raw();_.filewriter_writeF64Page(o,this.__wbg_ptr,t,r);var i=a().getInt32(o+0,!0);if(a().getInt32(o+4,!0))throw l(i)}finally{_.__wbindgen_add_to_stack_pointer(16)}}writeGeometryPage(t,e){try{const o=_.__wbindgen_add_to_stack_pointer(-16);f(e,G);var r=e.__destroy_into_raw();_.filewriter_writeBytesPage(o,this.__wbg_ptr,t,r);var i=a().getInt32(o+0,!0);if(a().getInt32(o+4,!0))throw l(i)}finally{_.__wbindgen_add_to_stack_pointer(16)}}writeStringPage(t,e){try{const o=_.__wbindgen_add_to_stack_pointer(-16);f(e,D);var r=e.__destroy_into_raw();_.filewriter_writeBytesPage(o,this.__wbg_ptr,t,r);var i=a().getInt32(o+0,!0);if(a().getInt32(o+4,!0))throw l(i)}finally{_.__wbindgen_add_to_stack_pointer(16)}}writeBytesPage(t,e){try{const o=_.__wbindgen_add_to_stack_pointer(-16);f(e,S);var r=e.__destroy_into_raw();_.filewriter_writeBytesPage(o,this.__wbg_ptr,t,r);var i=a().getInt32(o+0,!0);if(a().getInt32(o+4,!0))throw l(i)}finally{_.__wbindgen_add_to_stack_pointer(16)}}finish(){try{const o=this.__destroy_into_raw(),s=_.__wbindgen_add_to_stack_pointer(-16);_.filewriter_finish(s,o);var t=a().getInt32(s+0,!0),e=a().getInt32(s+4,!0),r=a().getInt32(s+8,!0);if(a().getInt32(s+12,!0))throw l(r);var i=J(t,e).slice();return _.__wbindgen_free(t,1*e,1),i}finally{_.__wbindgen_add_to_stack_pointer(16)}}}const wt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_geometryinfodescriptor_free(n>>>0,1));class k{static __wrap(t){t>>>=0;const e=Object.create(k.prototype);return e.__wbg_ptr=t,wt.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,wt.unregister(this),t}free(){const t=this.__destroy_into_raw();_.__wbg_geometryinfodescriptor_free(t,0)}get geometryType(){const t=_.__wbg_get_geometryinfodescriptor_geometryType(this.__wbg_ptr);return t===4?void 0:t}set geometryType(t){_.__wbg_set_geometryinfodescriptor_geometryType(this.__wbg_ptr,b(t)?4:t)}get wkbIndex(){const t=_.__wbg_get_geometryinfodescriptor_wkbIndex(this.__wbg_ptr);return t===16777215?void 0:t}set wkbIndex(t){_.__wbg_set_geometryinfodescriptor_wkbIndex(this.__wbg_ptr,b(t)?16777215:t)}get lngIndex(){const t=_.__wbg_get_geometryinfodescriptor_lngIndex(this.__wbg_ptr);return t===16777215?void 0:t}set lngIndex(t){_.__wbg_set_geometryinfodescriptor_lngIndex(this.__wbg_ptr,b(t)?16777215:t)}get latIndex(){const t=_.__wbg_get_geometryinfodescriptor_latIndex(this.__wbg_ptr);return t===16777215?void 0:t}set latIndex(t){_.__wbg_set_geometryinfodescriptor_latIndex(this.__wbg_ptr,b(t)?16777215:t)}get xIndex(){const t=_.__wbg_get_geometryinfodescriptor_xIndex(this.__wbg_ptr);return t===16777215?void 0:t}set xIndex(t){_.__wbg_set_geometryinfodescriptor_xIndex(this.__wbg_ptr,b(t)?16777215:t)}get inWkid(){try{const r=_.__wbindgen_add_to_stack_pointer(-16);_.__wbg_get_geometryinfodescriptor_inWkid(r,this.__wbg_ptr);var t=a().getInt32(r+0,!0),e=a().getInt32(r+4,!0);return t===0?void 0:e>>>0}finally{_.__wbindgen_add_to_stack_pointer(16)}}set inWkid(t){_.__wbg_set_geometryinfodescriptor_inWkid(this.__wbg_ptr,!b(t),b(t)?0:t)}get outWkid(){try{const r=_.__wbindgen_add_to_stack_pointer(-16);_.__wbg_get_geometryinfodescriptor_outWkid(r,this.__wbg_ptr);var t=a().getInt32(r+0,!0),e=a().getInt32(r+4,!0);return t===0?void 0:e>>>0}finally{_.__wbindgen_add_to_stack_pointer(16)}}set outWkid(t){_.__wbg_set_geometryinfodescriptor_outWkid(this.__wbg_ptr,!b(t),b(t)?0:t)}static new(){const t=_.geometryinfodescriptor_new();return k.__wrap(t)}setMultiscaleInfo(t){f(t,x);var e=t.__destroy_into_raw();_.geometryinfodescriptor_setMultiscaleInfo(this.__wbg_ptr,e)}}const lt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_multiscaleinfo_free(n>>>0,1));class x{static __wrap(t){t>>>=0;const e=Object.create(x.prototype);return e.__wbg_ptr=t,lt.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,lt.unregister(this),t}free(){const t=this.__destroy_into_raw();_.__wbg_multiscaleinfo_free(t,0)}static new(){const t=_.multiscaleinfo_new();return x.__wrap(t)}push(t,e,r,i,o){_.multiscaleinfo_push(this.__wbg_ptr,t,e,r,i,o)}}const ut=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_pagebuilderbytes_free(n>>>0,1));class S{static __wrap(t){t>>>=0;const e=Object.create(S.prototype);return e.__wbg_ptr=t,ut.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,ut.unregister(this),t}free(){const t=this.__destroy_into_raw();_.__wbg_pagebuilderbytes_free(t,0)}static new(){const t=_.pagebuilderbytes_new();return S.__wrap(t)}push(t){var e=b(t)?0:ot(t,_.__wbindgen_malloc),r=c;_.pagebuilderbytes_push(this.__wbg_ptr,e,r)}}const bt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_pagebuilderf32_free(n>>>0,1));class W{static __wrap(t){t>>>=0;const e=Object.create(W.prototype);return e.__wbg_ptr=t,bt.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,bt.unregister(this),t}free(){const t=this.__destroy_into_raw();_.__wbg_pagebuilderf32_free(t,0)}static new(){const t=_.pagebuilderbytes_new();return W.__wrap(t)}push(t){_.pagebuilderf32_push(this.__wbg_ptr,!b(t),b(t)?0:t)}}const pt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_pagebuilderf64_free(n>>>0,1));class A{static __wrap(t){t>>>=0;const e=Object.create(A.prototype);return e.__wbg_ptr=t,pt.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,pt.unregister(this),t}free(){const t=this.__destroy_into_raw();_.__wbg_pagebuilderf64_free(t,0)}static new(){const t=_.multiscaleinfo_new();return A.__wrap(t)}push(t){_.pagebuilderf64_push(this.__wbg_ptr,!b(t),b(t)?0:t)}}const ft=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_pagebuildergeometry_free(n>>>0,1));class G{static __wrap(t){t>>>=0;const e=Object.create(G.prototype);return e.__wbg_ptr=t,ft.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,ft.unregister(this),t}free(){const t=this.__destroy_into_raw();_.__wbg_pagebuildergeometry_free(t,0)}static new(){const t=_.pagebuilderbytes_new();return G.__wrap(t)}writeXY(t,e){try{const i=_.__wbindgen_add_to_stack_pointer(-16);_.pagebuildergeometry_writeXY(i,this.__wbg_ptr,t,e);var r=a().getInt32(i+0,!0);if(a().getInt32(i+4,!0))throw l(r)}finally{_.__wbindgen_add_to_stack_pointer(16)}}writePBF(t,e,r,i){try{const s=_.__wbindgen_add_to_stack_pointer(-16),d=X(t,_.__wbindgen_malloc),u=c,P=Y(e,_.__wbindgen_malloc),_t=c;_.pagebuildergeometry_writePBF(s,this.__wbg_ptr,d,u,P,_t,r,i);var o=a().getInt32(s+0,!0);if(a().getInt32(s+4,!0))throw l(o)}finally{_.__wbindgen_add_to_stack_pointer(16)}}writePolygon(t,e){try{const i=_.__wbindgen_add_to_stack_pointer(-16),o=X(t,_.__wbindgen_malloc),s=c,d=Y(e,_.__wbindgen_malloc),u=c;_.pagebuildergeometry_writePolygon(i,this.__wbg_ptr,o,s,d,u);var r=a().getInt32(i+0,!0);if(a().getInt32(i+4,!0))throw l(r)}finally{_.__wbindgen_add_to_stack_pointer(16)}}writePolyline(t,e){try{const i=_.__wbindgen_add_to_stack_pointer(-16),o=X(t,_.__wbindgen_malloc),s=c,d=Y(e,_.__wbindgen_malloc),u=c;_.pagebuildergeometry_writePolyline(i,this.__wbg_ptr,o,s,d,u);var r=a().getInt32(i+0,!0);if(a().getInt32(i+4,!0))throw l(r)}finally{_.__wbindgen_add_to_stack_pointer(16)}}writeMultipoint(t,e){try{const i=_.__wbindgen_add_to_stack_pointer(-16),o=X(t,_.__wbindgen_malloc),s=c,d=Y(e,_.__wbindgen_malloc),u=c;_.pagebuildergeometry_writeMultipoint(i,this.__wbg_ptr,o,s,d,u);var r=a().getInt32(i+0,!0);if(a().getInt32(i+4,!0))throw l(r)}finally{_.__wbindgen_add_to_stack_pointer(16)}}writeNone(){_.pagebuildergeometry_writeNone(this.__wbg_ptr)}}const yt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_pagebuilderi32_free(n>>>0,1));class E{static __wrap(t){t>>>=0;const e=Object.create(E.prototype);return e.__wbg_ptr=t,yt.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,yt.unregister(this),t}free(){const t=this.__destroy_into_raw();_.__wbg_pagebuilderi32_free(t,0)}static new(){const t=_.pagebuilderbytes_new();return E.__wrap(t)}push(t){_.pagebuilderi32_push(this.__wbg_ptr,!b(t),b(t)?0:t)}}const ht=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_pagebuilderi64_free(n>>>0,1));class L{static __wrap(t){t>>>=0;const e=Object.create(L.prototype);return e.__wbg_ptr=t,ht.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,ht.unregister(this),t}free(){const t=this.__destroy_into_raw();_.__wbg_pagebuilderi64_free(t,0)}static new(){const t=_.multiscaleinfo_new();return L.__wrap(t)}push(t){_.pagebuilderi64_push(this.__wbg_ptr,!b(t),b(t)?0:t)}}const mt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_pagebuilderstring_free(n>>>0,1));class D{static __wrap(t){t>>>=0;const e=Object.create(D.prototype);return e.__wbg_ptr=t,mt.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,mt.unregister(this),t}free(){const t=this.__destroy_into_raw();_.__wbg_pagebuilderstring_free(t,0)}static new(){const t=_.pagebuilderbytes_new();return D.__wrap(t)}push(t){var e=b(t)?0:y(t,_.__wbindgen_malloc,_.__wbindgen_realloc),r=c;_.pagebuilderstring_push(this.__wbg_ptr,e,r)}}const It=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_pageencodingdescriptor_free(n>>>0,1));class Q{static __wrap(t){t>>>=0;const e=Object.create(Q.prototype);return e.__wbg_ptr=t,It.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,It.unregister(this),t}free(){const t=this.__destroy_into_raw();_.__wbg_pageencodingdescriptor_free(t,0)}pageType(){let t,e;try{const o=_.__wbindgen_add_to_stack_pointer(-16);_.pageencodingdescriptor_pageType(o,this.__wbg_ptr);var r=a().getInt32(o+0,!0),i=a().getInt32(o+4,!0);return t=r,e=i,p(r,i)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(t,e,1)}}encoding(){let t,e;try{const o=_.__wbindgen_add_to_stack_pointer(-16);_.pageencodingdescriptor_encoding(o,this.__wbg_ptr);var r=a().getInt32(o+0,!0),i=a().getInt32(o+4,!0);return t=r,e=i,p(r,i)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(t,e,1)}}count(){return _.pageencodingdescriptor_count(this.__wbg_ptr)}}const kt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_parquetchunk_free(n>>>0,1));class Z{static __wrap(t){t>>>=0;const e=Object.create(Z.prototype);return e.__wbg_ptr=t,kt.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,kt.unregister(this),t}free(){const t=this.__destroy_into_raw();_.__wbg_parquetchunk_free(t,0)}size(){return _.parquetchunk_size(this.__wbg_ptr)>>>0}hasField(t){return _.parquetchunk_hasField(this.__wbg_ptr,t)!==0}readX(t){return _.parquetchunk_readX(this.__wbg_ptr,t)}readY(t){return _.parquetchunk_readY(this.__wbg_ptr,t)}readCoords(t){try{const i=_.__wbindgen_add_to_stack_pointer(-16);_.parquetchunk_readCoords(i,this.__wbg_ptr,t);var e=a().getInt32(i+0,!0),r=a().getInt32(i+4,!0);let o;return e!==0&&(o=$t(e,r).slice(),_.__wbindgen_free(e,8*r,8)),o}finally{_.__wbindgen_add_to_stack_pointer(16)}}readLengths(t){try{const i=_.__wbindgen_add_to_stack_pointer(-16);_.parquetchunk_readLengths(i,this.__wbg_ptr,t);var e=a().getInt32(i+0,!0),r=a().getInt32(i+4,!0);let o;return e!==0&&(o=Jt(e,r).slice(),_.__wbindgen_free(e,4*r,4)),o}finally{_.__wbindgen_add_to_stack_pointer(16)}}readGeometryTransformed(t,e,r,i,o){const s=_.parquetchunk_readGeometryTransformed(this.__wbg_ptr,t,e,r,i,o);return s===0?void 0:tt.__wrap(s)}boundsXMin(t){return _.parquetchunk_boundsXMin(this.__wbg_ptr,t)}boundsYMin(t){return _.parquetchunk_boundsYMin(this.__wbg_ptr,t)}boundsXMax(t){return _.parquetchunk_boundsXMax(this.__wbg_ptr,t)}boundsYMax(t){return _.parquetchunk_boundsYMax(this.__wbg_ptr,t)}readAttribute(t,e){return l(_.parquetchunk_readAttribute(this.__wbg_ptr,t,e))}}const Ft=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_parquetfile_free(n>>>0,1));let Bt=class Ct{static __wrap(t){t>>>=0;const e=Object.create(Ct.prototype);return e.__wbg_ptr=t,Ft.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,Ft.unregister(this),t}free(){const t=this.__destroy_into_raw();_.__wbg_parquetfile_free(t,0)}metadata(){const t=_.parquetfile_metadata(this.__wbg_ptr);return z.__wrap(t)}rowGroups(){try{const i=_.__wbindgen_add_to_stack_pointer(-16);_.parquetfile_rowGroups(i,this.__wbg_ptr);var t=a().getInt32(i+0,!0),e=a().getInt32(i+4,!0),r=R(t,e).slice();return _.__wbindgen_free(t,4*e,4),r}finally{_.__wbindgen_add_to_stack_pointer(16)}}readChunksWithCallback(t,e){const r=N(t,_.__wbindgen_malloc),i=c;return l(_.parquetfile_readChunksWithCallback(this.__wbg_ptr,r,i,g(e)))}readFirstChunk(t){const e=N(t,_.__wbindgen_malloc),r=c;return l(_.parquetfile_readFirstChunk(this.__wbg_ptr,e,r))}readAllChunks(t){const e=N(t,_.__wbindgen_malloc),r=c;return l(_.parquetfile_readAllChunks(this.__wbg_ptr,e,r))}updateChunks(t){const e=N(t,_.__wbindgen_malloc),r=c;return l(_.parquetfile_updateChunks(this.__wbg_ptr,e,r))}};const vt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_quantizedgeometry_free(n>>>0,1));class tt{static __wrap(t){t>>>=0;const e=Object.create(tt.prototype);return e.__wbg_ptr=t,vt.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,vt.unregister(this),t}free(){const t=this.__destroy_into_raw();_.__wbg_quantizedgeometry_free(t,0)}readCoordsUnsafe(){return l(_.quantizedgeometry_readCoordsUnsafe(this.__wbg_ptr))}readLengthsUnsafe(){return l(_.quantizedgeometry_readLengthsUnsafe(this.__wbg_ptr))}}const Rt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_rangeproviderjs_free(n>>>0,1));class C{static __wrap(t){t>>>=0;const e=Object.create(C.prototype);return e.__wbg_ptr=t,Rt.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,Rt.unregister(this),t}free(){const t=this.__destroy_into_raw();_.__wbg_rangeproviderjs_free(t,0)}static new(t,e){const r=_.rangeproviderjs_new(g(t),g(e));return C.__wrap(r)}static withFetch(){const t=_.rangeproviderjs_withFetch();return C.__wrap(t)}}const xt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_rowgroup_free(n>>>0,1));class et{static __wrap(t){t>>>=0;const e=Object.create(et.prototype);return e.__wbg_ptr=t,xt.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,xt.unregister(this),t}free(){const t=this.__destroy_into_raw();_.__wbg_rowgroup_free(t,0)}columns(){try{const i=_.__wbindgen_add_to_stack_pointer(-16);_.rowgroup_columns(i,this.__wbg_ptr);var t=a().getInt32(i+0,!0),e=a().getInt32(i+4,!0),r=R(t,e).slice();return _.__wbindgen_free(t,4*e,4),r}finally{_.__wbindgen_add_to_stack_pointer(16)}}}const zt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_schemafield_free(n>>>0,1));class v{static __wrap(t){t>>>=0;const e=Object.create(v.prototype);return e.__wbg_ptr=t,zt.register(e,e.__wbg_ptr,e),e}static __unwrap(t){return t instanceof v?t.__destroy_into_raw():0}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,zt.unregister(this),t}free(){const t=this.__destroy_into_raw();_.__wbg_schemafield_free(t,0)}static tryNew(t,e){try{const o=_.__wbindgen_add_to_stack_pointer(-16),s=y(t,_.__wbindgen_malloc,_.__wbindgen_realloc),d=c,u=y(e,_.__wbindgen_malloc,_.__wbindgen_realloc),P=c;_.schemafield_tryNew(o,s,d,u,P);var r=a().getInt32(o+0,!0),i=a().getInt32(o+4,!0);if(a().getInt32(o+8,!0))throw l(i);return v.__wrap(r)}finally{_.__wbindgen_add_to_stack_pointer(16)}}name(){let t,e;try{const o=_.__wbindgen_add_to_stack_pointer(-16);_.schemafield_name(o,this.__wbg_ptr);var r=a().getInt32(o+0,!0),i=a().getInt32(o+4,!0);return t=r,e=i,p(r,i)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(t,e,1)}}}async function ne(n,t){if(typeof Response=="function"&&n instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(n,t)}catch(r){if(n.headers.get("Content-Type")=="application/wasm")throw r;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r)}const e=await n.arrayBuffer();return await WebAssembly.instantiate(e,t)}{const e=await WebAssembly.instantiate(n,t);return e instanceof WebAssembly.Instance?{instance:e,module:n}:e}}function St(){const n={wbg:{}};return n.wbg.__wbg_new_abda76e883ba8a5f=function(){return g(new Error)},n.wbg.__wbg_stack_658279fe44541cf6=function(t,e){const r=y(w(e).stack,_.__wbindgen_malloc,_.__wbindgen_realloc),i=c;a().setInt32(t+4,i,!0),a().setInt32(t+0,r,!0)},n.wbg.__wbg_error_f851667af71bcfc6=function(t,e){let r,i;try{r=t,i=e,console.error(p(t,e))}finally{_.__wbindgen_free(r,i,1)}},n.wbg.__wbindgen_object_drop_ref=function(t){l(t)},n.wbg.__wbindgen_is_function=function(t){return typeof w(t)=="function"},n.wbg.__wbg_self_3093d5d1f7bcb682=function(){return m(function(){return g(self.self)},arguments)},n.wbg.__wbg_window_3bcfc4d31bc012f8=function(){return m(function(){return g(window.window)},arguments)},n.wbg.__wbg_globalThis_86b222e13bdf32ed=function(){return m(function(){return g(globalThis.globalThis)},arguments)},n.wbg.__wbg_global_e5a3fe56f8be9485=function(){return m(function(){return g(global.global)},arguments)},n.wbg.__wbindgen_is_undefined=function(t){return w(t)===void 0},n.wbg.__wbg_newnoargs_76313bd6ff35d0f2=function(t,e){return g(new Function(p(t,e)))},n.wbg.__wbindgen_object_clone_ref=function(t){return g(w(t))},n.wbg.__wbindgen_number_new=function(t){return g(t)},n.wbg.__wbindgen_string_new=function(t,e){return g(p(t,e))},n.wbg.__wbg_call_1084a111329e68ce=function(){return m(function(t,e){return g(w(t).call(w(e)))},arguments)},n.wbg.__wbg_call_89af060b4e1523f2=function(){return m(function(t,e,r){return g(w(t).call(w(e),w(r)))},arguments)},n.wbg.__wbg_call_7de908392845a9a5=function(){return m(function(t,e,r,i,o){return g(w(t).call(w(e),w(r),w(i),w(o)))},arguments)},n.wbg.__wbg_valueOf_563b3487b1b116aa=function(t){return w(t).valueOf()},n.wbg.__wbg_buffer_b7b08af79b0b0974=function(t){return g(w(t).buffer)},n.wbg.__wbg_new_b85e72ed1bfd57f9=function(t,e){try{var r={a:t,b:e},i=(o,s)=>{const d=r.a;r.a=0;try{return Yt(d,r.b,o,s)}finally{r.a=d}};return g(new Promise(i))}finally{r.a=r.b=0}},n.wbg.__wbg_resolve_570458cb99d56a43=function(t){return g(Promise.resolve(w(t)))},n.wbg.__wbg_then_95e6edc0f89b73b1=function(t,e){return g(w(t).then(w(e)))},n.wbg.__wbg_then_876bb3c633745cc6=function(t,e,r){return g(w(t).then(w(e),w(r)))},n.wbg.__wbg_newwithbyteoffsetandlength_b5293b0eedbac651=function(t,e,r){return g(new Int16Array(w(t),e>>>0,r>>>0))},n.wbg.__wbg_new_ea1883e1e5e86686=function(t){return g(new Uint8Array(w(t)))},n.wbg.__wbg_newwithbyteoffsetandlength_874df3e29cb555f9=function(t,e,r){return g(new Uint32Array(w(t),e>>>0,r>>>0))},n.wbg.__wbg_length_8339fcf5d8ecd12e=function(t){return w(t).length},n.wbg.__wbg_set_d1e79e2388520f18=function(t,e,r){w(t).set(w(e),r>>>0)},n.wbg.__wbindgen_throw=function(t,e){throw new Error(p(t,e))},n.wbg.__wbindgen_memory=function(){return g(_.memory)},n.wbg.__wbindgen_array_new=function(){return g([])},n.wbg.__wbindgen_array_push=function(t,e){w(t).push(l(e))},n.wbg.__wbindgen_uint8_array_new=function(t,e){var r=J(t,e).slice();return _.__wbindgen_free(t,1*e,1),g(r)},n.wbg.__wbg_queueMicrotask_48421b3cc9052b68=function(t){return g(w(t).queueMicrotask)},n.wbg.__wbindgen_cb_drop=function(t){const e=l(t).original;return e.cnt--==1?(e.a=0,!0):!1},n.wbg.__wbg_queueMicrotask_12a30234db4045d3=function(t){queueMicrotask(w(t))},n.wbg.__wbg_parquetchunk_new=function(t){return g(Z.__wrap(t))},n.wbg.__wbg_parquetfile_new=function(t){return g(Bt.__wrap(t))},n.wbg.__wbg_filemetadata_new=function(t){return g(z.__wrap(t))},n.wbg.__wbg_fieldmetadata_new=function(t){return g(V.__wrap(t))},n.wbg.__wbg_rowgroup_new=function(t){return g(et.__wrap(t))},n.wbg.__wbg_schemafield_unwrap=function(t){return v.__unwrap(l(t))},n.wbg.__wbg_columndescriptor_new=function(t){return g(H.__wrap(t))},n.wbg.__wbg_pageencodingdescriptor_new=function(t){return g(Q.__wrap(t))},n.wbg.__wbindgen_closure_wrapper1827=function(t,e,r){return g(Ut(t,e,163,Vt))},n}function Wt(n,t){return _=n.exports,At.__wbindgen_wasm_module=t,I=null,M=null,q=null,O=null,T=null,_.__wbindgen_start(),_}function re(n){if(_!==void 0)return _;n!==void 0&&(Object.getPrototypeOf(n)===Object.prototype?{module:n}=n:console.warn("using deprecated parameters for `initSync()`; pass a single object instead"));const t=St();return n instanceof WebAssembly.Module||(n=new WebAssembly.Module(n)),Wt(new WebAssembly.Instance(n,t),n)}async function At(n){if(_!==void 0)return _;n!==void 0&&(Object.getPrototypeOf(n)===Object.prototype?{module_or_path:n}=n:console.warn("using deprecated parameters for the initialization function; pass a single object instead"));const t=St();(typeof n=="string"||typeof Request=="function"&&n instanceof Request||typeof URL=="function"&&n instanceof URL)&&(n=fetch(n));const{instance:e,module:r}=await ne(await n,t);return Wt(e,r)}const ie=Object.freeze(Object.defineProperty({__proto__:null,ColumnDescriptor:H,CompressMode:ee,FieldMetadata:V,FileMetadata:z,FileWriter:K,GeometryInfoDescriptor:k,GeometryType:j,MultiScaleInfo:x,PageBuilderBytes:S,PageBuilderF32:W,PageBuilderF64:A,PageBuilderGeometry:G,PageBuilderI32:E,PageBuilderI64:L,PageBuilderString:D,PageEncodingDescriptor:Q,ParquetChunk:Z,ParquetFile:Bt,QuantizedGeometry:tt,RangeProviderJs:C,RowGroup:et,SchemaField:v,default:At,enable_tracing:Nt,initSync:re,readFile:Zt,readFileFromBinary:te,readMetadata:jt,readMetadataFromFile:Qt},Symbol.toStringTag,{value:"Module"}));let nt=null;async function rt(){return nt||(nt=oe()),nt}async function oe(){const n=await Promise.resolve().then(()=>ie);return await n.default({module_or_path:Lt("esri/libs/parquet/pkg/arcgis_parquet_bg.wasm")}),n}const Gt=n=>async function(t,e,r){const i=n(),{data:o}=await Tt(t,{responseType:"array-buffer",query:i,headers:{range:`bytes=${e}-${r}`}});return o},Et=n=>async function(t){const e=n(),{data:r}=await Tt(t,{responseType:"native",method:"head",query:e}),i=r.headers.get("Content-Length");if(i==null)throw new Error("Unable to parse content length");return parseInt(i,10)};class U{static async create(t,e){const r=await rt(),i=await r.readMetadata(t,Gt(e),Et(e));return U.fromFileMetadata(i)}static fromFileMetadata(t){const e=[];for(let r=0;r<t.numFields();r++){const i=t.getFieldByIndex(r);e.push({name:i.name,type:i.type,alias:i.name,index:i.index}),i.free()}return new U(t,e)}constructor(t,e){this._inner=t,this.fields=e}destroy(){this._inner.free()}[Symbol.dispose](){this.destroy()}get size(){return this._inner.numRows()}getFieldIndex(t){return this._inner.getFieldIndex(t)}tryReadGeoMetadata(){const t=this._inner.keyValueMetadata("geo");return t==null?null:JSON.parse(t)}tryReadEsriMetadata(){const t=this._inner.keyValueMetadata("esri");return t==null?null:JSON.parse(t)}}function ae(n){switch(n){case"esriGeometryPoint":return j.Point;case"esriGeometryPolygon":return j.Polygon;case"esriGeometryPolyline":return j.Polyline;case"esriGeometryMultipoint":return j.Multipoint;default:throw new Error(`InternalError: Found unexpected GeometryType: ${n}`)}}function Pt(n,t,e){const r=k.new();if(r.geometryType=ae(n.geometryType),n.type==="location")r.latIndex=t.getFieldIndex(n.latitudeFieldName),r.lngIndex=t.getFieldIndex(n.longitudeFieldName);else{if(n.primaryFieldName==null)throw new Error("InternalError: A primary field name or set of location fields must be defined");if(r.wkbIndex=t.getFieldIndex(n.primaryFieldName),n.multiscale){const i=x.new();for(const o of n.multiscale.levels){const[s,d]=o.transform.translate,[u,P]=o.transform.scale,_t=t.getFieldIndex(o.column);i.push(_t,s,d,u,P)}r.setMultiscaleInfo(i)}}return r.inWkid=n.spatialReference.wkid,e&&(r.outWkid=e.wkid),r}class it{static async create(t,e){const r=await rt(),i=Gt(e.getCustomParameters),o=Et(e.getCustomParameters),s=await jt(t,i,o),d=Pt(e.geometryInfo,s,e.outSpatialReference),u=await r.readFile(t,i,o,s,d);return new it(u,U.fromFileMetadata(u.metadata()))}static async fromFile(t,e,r){const i=await rt(),o=await i.readMetadataFromFile(t),s=e?Pt(e,o,r):void 0,d=await i.readFileFromBinary(s,t);return new it(d,U.fromFileMetadata(d.metadata()))}constructor(t,e){this.inner=t,this.metadata=e}destroy(){this.inner.free(),this.metadata.destroy()}[Symbol.dispose](){this.destroy()}}export{it as _};
