import{T as Z,ao as z,z as c,b5 as g,gL as R,gM as b}from"./main-DK5A1thH.js";import{s as W}from"./projectVectorToVector-D0K_S4MR-BN7ztR9y.js";function v(n){return"declaredClass"in n}function m(n){return"declaredClass"in n}function C(n){return"declaredClass"in n}function j(n,s){return n?C(n)?n:new z({layer:s,sourceLayer:s,visible:n.visible,symbol:c(n.symbol),attributes:c(n.attributes),geometry:L(n.geometry)}):null}function L(n){return n==null?null:v(n)?n:g(A(n))}function A(n){const{wkid:s,wkt:t,wkt2:o,latestWkid:l}=n.spatialReference,e={wkid:s,wkt:t,wkt2:o,latestWkid:l};switch(n.type){case"point":{const{x:a,y:r,z:i,m:u}=n;return{x:a,y:r,z:i,m:u,spatialReference:e}}case"polygon":{const{rings:a,hasZ:r,hasM:i}=n;return{rings:f(a),hasZ:r,hasM:i,spatialReference:e}}case"polyline":{const{paths:a,hasZ:r,hasM:i}=n;return{paths:f(a),hasZ:r,hasM:i,spatialReference:e}}case"extent":{const{xmin:a,xmax:r,ymin:i,ymax:u,zmin:y,zmax:x,mmin:d,mmax:k,hasZ:w,hasM:M}=n;return{xmin:a,xmax:r,ymin:i,ymax:u,zmin:y,zmax:x,mmin:d,mmax:k,hasZ:w,hasM:M,spatialReference:e}}case"multipoint":{const{points:a,hasZ:r,hasM:i}=n;return{points:p(a)?h(a):a,hasZ:r,hasM:i,spatialReference:e}}default:return}}function f(n){return J(n)?n.map(s=>h(s)):n}function h(n){return n.map(s=>Array.from(s))}function J(n){for(const s of n)if(s.length!==0)return p(s);return!1}function p(n){return n.length>0&&(R(n[0])||b(n[0]))}function B(n,s){if(!n)return null;let t;if(m(n)){if(s==null)return n.clone();if(m(s))return s.copy(n)}return s!=null?(t=s,t.x=n.x,t.y=n.y,t.spatialReference=n.spatialReference,n.hasZ?(t.z=n.z,t.hasZ=n.hasZ):(t.z=void 0,t.hasZ=!1),n.hasM?(t.m=n.m,t.hasM=!0):(t.m=void 0,t.hasM=!1)):(t=W(n.x,n.y,n.z,n.spatialReference),n.hasM&&(t.m=n.m,t.hasM=!0)),t}function N(n){const{wkid:s,wkt:t,wkt2:o,latestWkid:l}=n,e={wkid:s,wkt:t,wkt2:o,latestWkid:l};return Z.fromJSON(e)}export{j as A,B as Q,N as S,L as h,v as m};
