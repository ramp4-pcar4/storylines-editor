import{O as l}from"./main-DK5A1thH.js";function c(o,n,i){return n.flatten(({sublayers:r})=>r).length!==o.length?!0:!!o.some(r=>r.originIdOf("minScale")>i||r.originIdOf("maxScale")>i||r.originIdOf("renderer")>i||r.originIdOf("labelingInfo")>i||r.originIdOf("opacity")>i||r.originIdOf("labelsVisible")>i||r.originIdOf("source")>i)||!a(o,n)}function d(o,n,i){return!!o.some(r=>{const e=r.source,t=!e||e.type==="map-layer"&&e.mapLayerId===r.id&&(e.gdbVersion==null||e.gdbVersion===i);r.commitProperty("renderer"),r.commitProperty("labelingInfo"),r.commitProperty("opacity"),r.commitProperty("labelsVisible"),r.commitProperty("orderBy");const f=r.layer?.capabilities?.exportMap?.supportsSublayerOrderBy??!1;return!t||r.originIdOf("renderer")>l.SERVICE||r.originIdOf("labelingInfo")>l.SERVICE||r.originIdOf("opacity")>l.SERVICE||r.originIdOf("labelsVisible")>l.SERVICE||f&&r.originIdOf("orderBy")>l.SERVICE})||!a(o,n)}function a(o,n){if(!o?.length||n==null)return!0;const i=n.slice().reverse().flatten(({sublayers:t})=>t&&t.toArray().reverse()).map(t=>t.id).toArray();if(o.length>i.length)return!1;let r=0;const e=i.length;for(const{id:t}of o){for(;r<e&&i[r]!==t;)r++;if(r>=e)return!1}return!0}function g(o){return!!o&&o.some(n=>n.minScale!=null||n.layerDefinition?.minScale!=null)}export{d as c,g as d,c as f};
