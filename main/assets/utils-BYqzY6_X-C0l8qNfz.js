const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./geometryEngineJSON-CGn_tfx8-D3N6SheD.js","./geometryEngineBase-DueYg7ux-CCeespPx.js","./_commonjsHelpers-BITg13Vk-KnjfkSck.js","./json-BI97KiBB-Ce5cWfI2.js"])))=>i.map(i=>d[i]);
import{_}from"./main-DK5A1thH.js";import{n as L,i as R}from"./defaultCIMValues-gWpu7WSC-cjxb95kj.js";function q(t){return typeof t=="function"}function Z(t,e,r,o){return q(t)?t(e,r,o):t}function tt(t){return[t.r,t.g,t.b,t.a]}const B=` /-,
`;function x(t){let e=t.length;for(;e--;)if(!B.includes(t.charAt(e)))return!1;return!0}function et(t,e){const r=[];let o=0,a=-1;do if(a=t.indexOf("[",o),a>=o){if(a>o){const n=t.slice(o,a);r.push([n,null,x(n)])}if(o=a+1,a=t.indexOf("]",o),a>=o){if(a>o){const n=e[t.slice(o,a)];n&&r.push([null,n,!1])}o=a+1}}while(a!==-1);if(o<t.length){const n=t.slice(o);r.push([n,null,x(n)])}return r}function rt(t,e,r,o){let a="",n=null;for(const M of e){const[i,u,f]=M;if(i)f?n=i:(n&&(a+=n,n=null),a+=i);else{let m=u;r!=null&&(m=W(u,r));const s=t.attributes[m];s&&(n&&(a+=n,n=null),a+=s)}}return j(a,o)}function j(t,e){switch(typeof t!="string"&&(t=String(t)),e){case"LowerCase":return t.toLowerCase();case"Allcaps":return t.toUpperCase();default:return t}}function nt(t,e,r,o,a,n,M=!0){const i=e/a,u=r/n,f=Math.ceil(i/2),m=Math.ceil(u/2);for(let s=0;s<n;s++)for(let l=0;l<a;l++){const p=4*(l+(M?n-s-1:s)*a);let c=0,I=0,b=0,d=0,P=0,S=0,k=0;const w=(s+.5)*u;for(let h=Math.floor(s*u);h<(s+1)*u;h++){const T=Math.abs(w-(h+.5))/m,O=(l+.5)*i,D=T*T;for(let g=Math.floor(l*i);g<(l+1)*i;g++){let y=Math.abs(O-(g+.5))/f;const C=Math.sqrt(D+y*y);C>=-1&&C<=1&&(c=2*C*C*C-3*C*C+1,c>0&&(y=4*(g+h*e),k+=c*t[y+3],b+=c,t[y+3]<255&&(c=c*t[y+3]/250),d+=c*t[y],P+=c*t[y+1],S+=c*t[y+2],I+=c))}}o[p]=d/I,o[p+1]=P/I,o[p+2]=S/I,o[p+3]=k/b}}function H(t){return t?[t[0],t[1],t[2],t[3]/255]:[0,0,0,0]}function ot(t){return t.data?.symbol??null}function at(t){return t.type==="CIMVectorMarker"||t.type==="CIMPictureMarker"||t.type==="CIMBarChartMarker"||t.type==="CIMCharacterMarker"||t.type==="CIMPieChartMarker"||t.type==="CIMStackedBarChartMarker"}function it(t){return t.type==="CIMGradientStroke"||t.type==="CIMPictureStroke"||t.type==="CIMSolidStroke"}function st(t){return t!=null&&(t.type==="CIMGradientFill"||t.type==="CIMHatchFill"||t.type==="CIMPictureFill"||t.type==="CIMSolidFill"||t.type==="CIMWaterFill")}function U(t){return t!=null&&(t.type==="CIMMarkerPlacementAlongLineRandomSize"||t.type==="CIMMarkerPlacementAlongLineSameSize"||t.type==="CIMMarkerPlacementAlongLineVariableSize"||t.type==="CIMMarkerPlacementAtExtremities"||t.type==="CIMMarkerPlacementAtMeasuredUnits"||t.type==="CIMMarkerPlacementAtRatioPositions"||t.type==="CIMMarkerPlacementOnLine"||t.type==="CIMMarkerPlacementOnVertices")}const lt=(t,e=0)=>t==null||isNaN(t)?e:t,ct=(t,e)=>t??e,ut=(t,e)=>t??e,ft=t=>t.tintColor?H(t.tintColor):[255,255,255,1],Mt=t=>{if(!t)return!1;for(const e of t)switch(e.type){case"CIMGeometricEffectBuffer":case"CIMGeometricEffectOffset":case"CIMGeometricEffectDonut":return!0}return!1};function yt(){return _(()=>import("./geometryEngineJSON-CGn_tfx8-D3N6SheD.js"),__vite__mapDeps([0,1,2,3]),import.meta.url).then(t=>t.g)}function mt(t){if(!t)return"normal";switch(t.toLowerCase()){case"italic":return"italic";case"oblique":return"oblique";default:return"normal"}}function Ct(t){if(!t)return"normal";switch(t.toLowerCase()){case"bold":return"bold";case"bolder":return"bolder";case"lighter":return"lighter";default:return"normal"}}function pt(t){let e="normal",r="normal";if(t){const o=t.toLowerCase();o.includes("italic")?e="italic":o.includes("oblique")&&(e="oblique"),o.includes("bold")?r="bold":o.includes("light")&&(r="lighter")}return{style:e,weight:r}}function It(t){return t.underline?"underline":t.strikethrough?"line-through":"none"}function N(t){if(!t)return null;switch(t.type){case"CIMPolygonSymbol":if(t.symbolLayers)for(const e of t.symbolLayers){const r=N(e);if(r!=null)return r}break;case"CIMTextSymbol":return N(t.symbol);case"CIMSolidFill":return t.color}return null}function v(t){if(t)switch(t.type){case"CIMPolygonSymbol":case"CIMLineSymbol":{const e=t.symbolLayers;if(e)for(const r of e){const o=v(r);if(o!=null)return o}break}case"CIMTextSymbol":return v(t.symbol);case"CIMSolidStroke":return t.color}}function F(t){if(t)switch(t.type){case"CIMPolygonSymbol":case"CIMLineSymbol":if(t.symbolLayers)for(const e of t.symbolLayers){const r=F(e);if(r!==void 0)return r}break;case"CIMTextSymbol":return F(t.symbol);case"CIMSolidStroke":case"CIMGradientStroke":case"CIMPictureStroke":return t.width}}function ht(t){switch(t){case"Left":default:return"left";case"Right":return"right";case"Center":case"Justify":return"center"}}function bt(t){switch(t){case"Top":default:return"top";case"Center":return"middle";case"Baseline":return"baseline";case"Bottom":return"bottom"}}function dt(t){return(t?Object.keys(t):[]).map(e=>({name:e,alias:e,type:typeof t[e]=="string"?"esriFieldTypeString":"esriFieldTypeDouble"}))}const kt=t=>t.includes("data:image/svg+xml");function Pt(t){if(!t)return null;switch(t.type){case"CIMPointSymbol":case"CIMTextSymbol":return"esriGeometryPoint";case"CIMLineSymbol":return"esriGeometryPolyline";case"CIMPolygonSymbol":return"esriGeometryPolygon";default:return null}}function A(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function St(t,e,r,o,a,n,M=!0){const{infos:i}=n;let u=1,f=0,m=0,s=0,l=1;for(const{absoluteAnchorPoint:I,offsetX:b,offsetY:d,rotation:P,size:S,frameHeight:k,rotateClockWise:w,scaleSymbolsProportionally:h}of i)l=I?1:u,m=E(b,d,f,l,m),s=V(b,d,f,l,s),k&&(h||M)&&(u*=S/k),f=z(P,w,f);const p=E(o,a,f,l,m),c=V(o,a,f,l,s);return{size:t*u,rotation:z(e,r,f),offsetX:p,offsetY:c}}function X(t){if(t==null)return!1;if(Array.isArray(t))return t.every(e=>X(e));switch(typeof t){case"string":return!!t;case"number":return!isNaN(t)}}function Y(t,e){if(e==="color"||e==="outlinecolor"||e==="backgroundcolor"||e==="borderlinecolor"||e==="tintcolor")return[...R[e]];const r=L[t];if(!r)throw new Error(`InternalError: default value for type ${t}.`);return r[e]}function $(t){return t.split(" ").map(e=>Number(e))}function J(t){return typeof t=="string"?$(t):t}function gt(t){return t?.dashTemplate&&(t.dashTemplate=J(t.dashTemplate)),t}function G(t){if(t==null)return"Normal";switch(t.type){case"CIMTextSymbol":return t.textCase??"Normal";case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":{const e=t.symbolLayers;if(!e)return"Normal";for(const r of e)if(r.type==="CIMVectorMarker")return G(r)}break;case"CIMVectorMarker":{const e=t.markerGraphics;if(!e)return"Normal";for(const r of e)if(r.symbol)return G(r.symbol)}}return"Normal"}function wt(t){if(t)switch(t.type){case"CIMTextSymbol":return t.height;case"CIMPointSymbol":{let e=0;if(t.symbolLayers){for(const r of t.symbolLayers)if(r)switch(r.type){case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":{const o=r.size??L.CIMVectorMarker.size;o>e&&(e=o);break}}}return e}case"CIMLineSymbol":case"CIMPolygonSymbol":{let e=0;if(t.symbolLayers){for(const r of t.symbolLayers)if(r)switch(r.type){case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":{const o=r.width;o!=null&&o>e&&(e=o);break}case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":if(r.markerPlacement&&U(r.markerPlacement)){const o=r.size??L.CIMVectorMarker.size;o>e&&(e=o)}break;case"CIMPictureFill":{const o=r.height;o!=null&&o>e&&(e=o)}}}return e}}}function W(t,e){if(e!==null){const r=e.get(t);return r?r.name:t}return t}function Lt(t){return t.map(e=>({...e,propertyName:A(e.propertyName)}))}function At(t){const e={};for(const r in t){const o=t[r];e[A(r)]=o}return e}function V(t,e,r,o,a){const n=r*Math.PI/180;if(n){const M=Math.cos(n);return(Math.sin(n)*t+M*e)*o+a}return e*o+a}function E(t,e,r,o,a){const n=r*Math.PI/180;return n?(Math.cos(n)*t-Math.sin(n)*e)*o+a:t*o+a}function z(t,e,r){return e?r-t:r+t}function Tt(t,e,r){const o=r==="Color"||r==="TintColor"||r==="ToColor",a=r==="Rotation"||r==="Angle"||r==="ToRotation";let n=e[A(r)];if(n!=null&&(o?n=[n[0]/255,n[1]/255,n[2]/255,n[3]/255]:a&&(n*=Math.PI/180)),n==null&&(n=Y(e.type,r.toLowerCase()),n!=null&&(o?n=[n[0]/255,n[1]/255,n[2]/255,n[3]]:a&&(n*=Math.PI/180))),e.primitiveName!=null){const M=t[e.primitiveName];if(M!=null){const i=M[r];i==null||(typeof i=="string"||typeof i=="number"||Array.isArray(i)?(n=i,n!=null&&(o?n=[n[0]/255,n[1]/255,n[2]/255,n[3]/255]:a&&(n*=Math.PI/180))):(n={valueExpressionInfo:i,defaultValue:n},n!=null&&(o?n={type:"Process",op:"ArcadeColor",value:n}:a&&(n={type:"Process",op:"Divide",left:n,right:180/Math.PI}))))}}if(n==null)throw new Error(`Failed to derive a value or an expression for "${r}".`);return n}function xt(t,e){return Math.max(Math.min((t??e)/100,1),0)}export{tt as $,N as A,bt as C,J as D,X as E,G as F,Pt as I,rt as K,xt as L,pt as M,F as N,Y as O,Lt as P,et as Q,wt as S,H as V,Z as Y,nt as _,Tt as a,St as b,yt as c,ct as d,ot as e,Ct as f,At as g,dt as h,Mt as i,gt as k,ft as l,ht as m,st as n,lt as o,kt as p,W as q,at as r,ut as s,it as t,mt as u,A as w,v as x,It as y,U as z};
