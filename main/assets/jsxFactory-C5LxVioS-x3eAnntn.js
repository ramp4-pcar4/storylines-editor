import{av as pt,ai as te,as as re,aw as ut,ax as ft,a as ht,ay as gt,az as mt,aA as vt,a8 as he,aB as ge,aC as me,aD as yt,aE as bt,v as b,I as w,a1 as wt,aF as ve,aG as Ne,j as xt,at as At,aH as kt,d as St,t as Lt,z as Ot,aI as _t,aJ as Ct}from"./main-D7vwjMDX.js";import{O as It}from"./intl-DLmy-Li5-l7mSy0H0.js";import{r as Tt}from"./uuid-Dj9mdEVg-BaKSCiyT.js";function jt(e){return typeof e=="string"?document.getElementById(e):e??null}function gi(e,t){for(;;){const r=e.firstChild;if(!r)break;t.appendChild(r)}}var D=function(){return D=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},D.apply(this,arguments)},ie={exports:{}},m={},oe={exports:{}},I={};function ye(){var e={};return e["align-content"]=!1,e["align-items"]=!1,e["align-self"]=!1,e["alignment-adjust"]=!1,e["alignment-baseline"]=!1,e.all=!1,e["anchor-point"]=!1,e.animation=!1,e["animation-delay"]=!1,e["animation-direction"]=!1,e["animation-duration"]=!1,e["animation-fill-mode"]=!1,e["animation-iteration-count"]=!1,e["animation-name"]=!1,e["animation-play-state"]=!1,e["animation-timing-function"]=!1,e.azimuth=!1,e["backface-visibility"]=!1,e.background=!0,e["background-attachment"]=!0,e["background-clip"]=!0,e["background-color"]=!0,e["background-image"]=!0,e["background-origin"]=!0,e["background-position"]=!0,e["background-repeat"]=!0,e["background-size"]=!0,e["baseline-shift"]=!1,e.binding=!1,e.bleed=!1,e["bookmark-label"]=!1,e["bookmark-level"]=!1,e["bookmark-state"]=!1,e.border=!0,e["border-bottom"]=!0,e["border-bottom-color"]=!0,e["border-bottom-left-radius"]=!0,e["border-bottom-right-radius"]=!0,e["border-bottom-style"]=!0,e["border-bottom-width"]=!0,e["border-collapse"]=!0,e["border-color"]=!0,e["border-image"]=!0,e["border-image-outset"]=!0,e["border-image-repeat"]=!0,e["border-image-slice"]=!0,e["border-image-source"]=!0,e["border-image-width"]=!0,e["border-left"]=!0,e["border-left-color"]=!0,e["border-left-style"]=!0,e["border-left-width"]=!0,e["border-radius"]=!0,e["border-right"]=!0,e["border-right-color"]=!0,e["border-right-style"]=!0,e["border-right-width"]=!0,e["border-spacing"]=!0,e["border-style"]=!0,e["border-top"]=!0,e["border-top-color"]=!0,e["border-top-left-radius"]=!0,e["border-top-right-radius"]=!0,e["border-top-style"]=!0,e["border-top-width"]=!0,e["border-width"]=!0,e.bottom=!1,e["box-decoration-break"]=!0,e["box-shadow"]=!0,e["box-sizing"]=!0,e["box-snap"]=!0,e["box-suppress"]=!0,e["break-after"]=!0,e["break-before"]=!0,e["break-inside"]=!0,e["caption-side"]=!1,e.chains=!1,e.clear=!0,e.clip=!1,e["clip-path"]=!1,e["clip-rule"]=!1,e.color=!0,e["color-interpolation-filters"]=!0,e["column-count"]=!1,e["column-fill"]=!1,e["column-gap"]=!1,e["column-rule"]=!1,e["column-rule-color"]=!1,e["column-rule-style"]=!1,e["column-rule-width"]=!1,e["column-span"]=!1,e["column-width"]=!1,e.columns=!1,e.contain=!1,e.content=!1,e["counter-increment"]=!1,e["counter-reset"]=!1,e["counter-set"]=!1,e.crop=!1,e.cue=!1,e["cue-after"]=!1,e["cue-before"]=!1,e.cursor=!1,e.direction=!1,e.display=!0,e["display-inside"]=!0,e["display-list"]=!0,e["display-outside"]=!0,e["dominant-baseline"]=!1,e.elevation=!1,e["empty-cells"]=!1,e.filter=!1,e.flex=!1,e["flex-basis"]=!1,e["flex-direction"]=!1,e["flex-flow"]=!1,e["flex-grow"]=!1,e["flex-shrink"]=!1,e["flex-wrap"]=!1,e.float=!1,e["float-offset"]=!1,e["flood-color"]=!1,e["flood-opacity"]=!1,e["flow-from"]=!1,e["flow-into"]=!1,e.font=!0,e["font-family"]=!0,e["font-feature-settings"]=!0,e["font-kerning"]=!0,e["font-language-override"]=!0,e["font-size"]=!0,e["font-size-adjust"]=!0,e["font-stretch"]=!0,e["font-style"]=!0,e["font-synthesis"]=!0,e["font-variant"]=!0,e["font-variant-alternates"]=!0,e["font-variant-caps"]=!0,e["font-variant-east-asian"]=!0,e["font-variant-ligatures"]=!0,e["font-variant-numeric"]=!0,e["font-variant-position"]=!0,e["font-weight"]=!0,e.grid=!1,e["grid-area"]=!1,e["grid-auto-columns"]=!1,e["grid-auto-flow"]=!1,e["grid-auto-rows"]=!1,e["grid-column"]=!1,e["grid-column-end"]=!1,e["grid-column-start"]=!1,e["grid-row"]=!1,e["grid-row-end"]=!1,e["grid-row-start"]=!1,e["grid-template"]=!1,e["grid-template-areas"]=!1,e["grid-template-columns"]=!1,e["grid-template-rows"]=!1,e["hanging-punctuation"]=!1,e.height=!0,e.hyphens=!1,e.icon=!1,e["image-orientation"]=!1,e["image-resolution"]=!1,e["ime-mode"]=!1,e["initial-letters"]=!1,e["inline-box-align"]=!1,e["justify-content"]=!1,e["justify-items"]=!1,e["justify-self"]=!1,e.left=!1,e["letter-spacing"]=!0,e["lighting-color"]=!0,e["line-box-contain"]=!1,e["line-break"]=!1,e["line-grid"]=!1,e["line-height"]=!1,e["line-snap"]=!1,e["line-stacking"]=!1,e["line-stacking-ruby"]=!1,e["line-stacking-shift"]=!1,e["line-stacking-strategy"]=!1,e["list-style"]=!0,e["list-style-image"]=!0,e["list-style-position"]=!0,e["list-style-type"]=!0,e.margin=!0,e["margin-bottom"]=!0,e["margin-left"]=!0,e["margin-right"]=!0,e["margin-top"]=!0,e["marker-offset"]=!1,e["marker-side"]=!1,e.marks=!1,e.mask=!1,e["mask-box"]=!1,e["mask-box-outset"]=!1,e["mask-box-repeat"]=!1,e["mask-box-slice"]=!1,e["mask-box-source"]=!1,e["mask-box-width"]=!1,e["mask-clip"]=!1,e["mask-image"]=!1,e["mask-origin"]=!1,e["mask-position"]=!1,e["mask-repeat"]=!1,e["mask-size"]=!1,e["mask-source-type"]=!1,e["mask-type"]=!1,e["max-height"]=!0,e["max-lines"]=!1,e["max-width"]=!0,e["min-height"]=!0,e["min-width"]=!0,e["move-to"]=!1,e["nav-down"]=!1,e["nav-index"]=!1,e["nav-left"]=!1,e["nav-right"]=!1,e["nav-up"]=!1,e["object-fit"]=!1,e["object-position"]=!1,e.opacity=!1,e.order=!1,e.orphans=!1,e.outline=!1,e["outline-color"]=!1,e["outline-offset"]=!1,e["outline-style"]=!1,e["outline-width"]=!1,e.overflow=!1,e["overflow-wrap"]=!1,e["overflow-x"]=!1,e["overflow-y"]=!1,e.padding=!0,e["padding-bottom"]=!0,e["padding-left"]=!0,e["padding-right"]=!0,e["padding-top"]=!0,e.page=!1,e["page-break-after"]=!1,e["page-break-before"]=!1,e["page-break-inside"]=!1,e["page-policy"]=!1,e.pause=!1,e["pause-after"]=!1,e["pause-before"]=!1,e.perspective=!1,e["perspective-origin"]=!1,e.pitch=!1,e["pitch-range"]=!1,e["play-during"]=!1,e.position=!1,e["presentation-level"]=!1,e.quotes=!1,e["region-fragment"]=!1,e.resize=!1,e.rest=!1,e["rest-after"]=!1,e["rest-before"]=!1,e.richness=!1,e.right=!1,e.rotation=!1,e["rotation-point"]=!1,e["ruby-align"]=!1,e["ruby-merge"]=!1,e["ruby-position"]=!1,e["shape-image-threshold"]=!1,e["shape-outside"]=!1,e["shape-margin"]=!1,e.size=!1,e.speak=!1,e["speak-as"]=!1,e["speak-header"]=!1,e["speak-numeral"]=!1,e["speak-punctuation"]=!1,e["speech-rate"]=!1,e.stress=!1,e["string-set"]=!1,e["tab-size"]=!1,e["table-layout"]=!1,e["text-align"]=!0,e["text-align-last"]=!0,e["text-combine-upright"]=!0,e["text-decoration"]=!0,e["text-decoration-color"]=!0,e["text-decoration-line"]=!0,e["text-decoration-skip"]=!0,e["text-decoration-style"]=!0,e["text-emphasis"]=!0,e["text-emphasis-color"]=!0,e["text-emphasis-position"]=!0,e["text-emphasis-style"]=!0,e["text-height"]=!0,e["text-indent"]=!0,e["text-justify"]=!0,e["text-orientation"]=!0,e["text-overflow"]=!0,e["text-shadow"]=!0,e["text-space-collapse"]=!0,e["text-transform"]=!0,e["text-underline-position"]=!0,e["text-wrap"]=!0,e.top=!1,e.transform=!1,e["transform-origin"]=!1,e["transform-style"]=!1,e.transition=!1,e["transition-delay"]=!1,e["transition-duration"]=!1,e["transition-property"]=!1,e["transition-timing-function"]=!1,e["unicode-bidi"]=!1,e["vertical-align"]=!1,e.visibility=!1,e["voice-balance"]=!1,e["voice-duration"]=!1,e["voice-family"]=!1,e["voice-pitch"]=!1,e["voice-range"]=!1,e["voice-rate"]=!1,e["voice-stress"]=!1,e["voice-volume"]=!1,e.volume=!1,e["white-space"]=!1,e.widows=!1,e.width=!0,e["will-change"]=!1,e["word-break"]=!0,e["word-spacing"]=!0,e["word-wrap"]=!0,e["wrap-flow"]=!1,e["wrap-through"]=!1,e["writing-mode"]=!1,e["z-index"]=!1,e}function Nt(e,t,r){}function Et(e,t,r){}var Pt=/javascript\s*\:/img;function Rt(e,t){return Pt.test(t)?"":t}I.whiteList=ye(),I.getDefaultWhiteList=ye,I.onAttr=Nt,I.onIgnoreAttr=Et,I.safeAttrValue=Rt;var Ft={indexOf:function(e,t){var r,i;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var i,o;if(Array.prototype.forEach)return e.forEach(t,r);for(i=0,o=e.length;i<o;i++)t.call(r,e[i],i,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}},F=Ft;function zt(e,t){e=F.trimRight(e),e[e.length-1]!==";"&&(e+=";");var r=e.length,i=!1,o=0,s=0,l="";function a(){if(!i){var p=F.trim(e.slice(o,s)),c=p.indexOf(":");if(c!==-1){var u=F.trim(p.slice(0,c)),f=F.trim(p.slice(c+1));if(u){var h=t(o,l.length,u,f,p);h&&(l+=h+"; ")}}}o=s+1}for(;s<r;s++){var n=e[s];if(n==="/"&&e[s+1]==="*"){var d=e.indexOf("*/",s+2);if(d===-1)break;s=d+1,o=s+1,i=!1}else n==="("?i=!0:n===")"?i=!1:n===";"?i||a():n===`
`&&a()}return F.trim(l)}var Ht=zt,$=I,$t=Ht;function be(e){return e==null}function Bt(e){var t={};for(var r in e)t[r]=e[r];return t}function Ee(e){e=Bt(e||{}),e.whiteList=e.whiteList||$.whiteList,e.onAttr=e.onAttr||$.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||$.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||$.safeAttrValue,this.options=e}Ee.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,r=t.options,i=r.whiteList,o=r.onAttr,s=r.onIgnoreAttr,l=r.safeAttrValue,a=$t(e,function(n,d,p,c,u){var f=i[p],h=!1;if(f===!0?h=f:typeof f=="function"?h=f(c):f instanceof RegExp&&(h=f.test(c)),h!==!0&&(h=!1),c=l(p,c),!!c){var g={position:d,sourcePosition:n,source:u,isWhite:h};if(h){var v=o(p,c,g);return be(v)?p+":"+c:v}else{var v=s(p,c,g);if(!be(v))return v}}});return a};var Vt=Ee;(function(e,t){var r=I,i=Vt;function o(l,a){var n=new i(a);return n.process(l)}t=e.exports=o,t.FilterCSS=i;for(var s in r)t[s]=r[s]})(oe,oe.exports);var ce=oe.exports,de={indexOf:function(e,t){var r,i;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var i,o;if(Array.prototype.forEach)return e.forEach(t,r);for(i=0,o=e.length;i<o;i++)t.call(r,e[i],i,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/,r=t.exec(e);return r?r.index:-1}},Mt=ce.FilterCSS,Dt=ce.getDefaultWhiteList,W=de;function we(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var Pe=new Mt;function Wt(e,t,r){}function qt(e,t,r){}function Ut(e,t,r){}function Gt(e,t,r){}function Re(e){return e.replace(Xt,"&lt;").replace(Zt,"&gt;")}function Qt(e,t,r,i){if(r=Ve(r),t==="href"||t==="src"){if(r=W.trim(r),r==="#")return"#";if(!(r.substr(0,7)==="http://"||r.substr(0,8)==="https://"||r.substr(0,7)==="mailto:"||r.substr(0,4)==="tel:"||r.substr(0,11)==="data:image/"||r.substr(0,6)==="ftp://"||r.substr(0,2)==="./"||r.substr(0,3)==="../"||r[0]==="#"||r[0]==="/"))return""}else if(t==="background"){if(B.lastIndex=0,B.test(r))return""}else if(t==="style"){if(xe.lastIndex=0,xe.test(r)||(Ae.lastIndex=0,Ae.test(r)&&(B.lastIndex=0,B.test(r))))return"";i!==!1&&(i=i||Pe,r=i.process(r))}return r=Me(r),r}var Xt=/</g,Zt=/>/g,Jt=/"/g,Yt=/&quot;/g,Kt=/&#([a-zA-Z0-9]*);?/gim,er=/&colon;?/gim,tr=/&newline;?/gim,B=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,xe=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,Ae=/u\s*r\s*l\s*\(.*/gi;function Fe(e){return e.replace(Jt,"&quot;")}function ze(e){return e.replace(Yt,'"')}function He(e){return e.replace(Kt,function(t,r){return r[0]==="x"||r[0]==="X"?String.fromCharCode(parseInt(r.substr(1),16)):String.fromCharCode(parseInt(r,10))})}function $e(e){return e.replace(er,":").replace(tr," ")}function Be(e){for(var t="",r=0,i=e.length;r<i;r++)t+=e.charCodeAt(r)<32?" ":e.charAt(r);return W.trim(t)}function Ve(e){return e=ze(e),e=He(e),e=$e(e),e=Be(e),e}function Me(e){return e=Fe(e),e=Re(e),e}function rr(){return""}function ir(e,t){typeof t!="function"&&(t=function(){});var r=!Array.isArray(e);function i(l){return r?!0:W.indexOf(e,l)!==-1}var o=[],s=!1;return{onIgnoreTag:function(l,a,n){if(i(l))if(n.isClosing){var d="[/removed]",p=n.position+d.length;return o.push([s!==!1?s:n.position,p]),s=!1,d}else return s||(s=n.position),"[removed]";else return t(l,a,n)},remove:function(l){var a="",n=0;return W.forEach(o,function(d){a+=l.slice(n,d[0]),n=d[1]}),a+=l.slice(n),a}}}function or(e){for(var t="",r=0;r<e.length;){var i=e.indexOf("<!--",r);if(i===-1){t+=e.slice(r);break}t+=e.slice(r,i);var o=e.indexOf("-->",i);if(o===-1)break;r=o+3}return t}function nr(e){var t=e.split("");return t=t.filter(function(r){var i=r.charCodeAt(0);return i===127?!1:i<=31?i===10||i===13:!0}),t.join("")}m.whiteList=we(),m.getDefaultWhiteList=we,m.onTag=Wt,m.onIgnoreTag=qt,m.onTagAttr=Ut,m.onIgnoreTagAttr=Gt,m.safeAttrValue=Qt,m.escapeHtml=Re,m.escapeQuote=Fe,m.unescapeQuote=ze,m.escapeHtmlEntities=He,m.escapeDangerHtml5Entities=$e,m.clearNonPrintableCharacter=Be,m.friendlyAttrValue=Ve,m.escapeAttrValue=Me,m.onIgnoreTagStripAll=rr,m.StripTagBody=ir,m.stripCommentTag=or,m.stripBlankChar=nr,m.cssFilter=Pe,m.getDefaultCSSWhiteList=Dt;var q={},O=de;function sr(e){var t=O.spaceIndex(e),r;return t===-1?r=e.slice(1,-1):r=e.slice(1,t+1),r=O.trim(r).toLowerCase(),r.slice(0,1)==="/"&&(r=r.slice(1)),r.slice(-1)==="/"&&(r=r.slice(0,-1)),r}function ar(e){return e.slice(0,2)==="</"}function lr(e,t,r){var i="",o=0,s=!1,l=!1,a=0,n=e.length,d="",p="";e:for(a=0;a<n;a++){var c=e.charAt(a);if(s===!1){if(c==="<"){s=a;continue}}else if(l===!1){if(c==="<"){i+=r(e.slice(o,a)),s=a,o=a;continue}if(c===">"){i+=r(e.slice(o,s)),p=e.slice(s,a+1),d=sr(p),i+=t(s,i.length,d,p,ar(p)),o=a+1,s=!1;continue}if(c==='"'||c==="'")for(var u=1,f=e.charAt(a-u);f.trim()===""||f==="=";){if(f==="="){l=c;continue e}f=e.charAt(a-++u)}}else if(c===l){l=!1;continue}}return o<e.length&&(i+=r(e.substr(o))),i}var cr=/[^a-zA-Z0-9\\_:.-]/gim;function dr(e,t){var r=0,i=0,o=[],s=!1,l=e.length;function a(u,f){if(u=O.trim(u),u=u.replace(cr,"").toLowerCase(),!(u.length<1)){var h=t(u,f||"");h&&o.push(h)}}for(var n=0;n<l;n++){var d=e.charAt(n),p,c;if(s===!1&&d==="="){s=e.slice(r,n),r=n+1,i=e.charAt(r)==='"'||e.charAt(r)==="'"?r:ur(e,n+1);continue}if(s!==!1&&n===i){if(c=e.indexOf(d,n+1),c===-1)break;p=O.trim(e.slice(i+1,c)),a(s,p),s=!1,n=c,r=n+1;continue}if(/\s|\n|\t/.test(d))if(e=e.replace(/\s|\n|\t/g," "),s===!1)if(c=pr(e,n),c===-1){p=O.trim(e.slice(r,n)),a(p),s=!1,r=n+1;continue}else{n=c-1;continue}else if(c=fr(e,n-1),c===-1){p=O.trim(e.slice(r,n)),p=ke(p),a(s,p),s=!1,r=n+1;continue}else continue}return r<e.length&&(s===!1?a(e.slice(r)):a(s,ke(O.trim(e.slice(r))))),O.trim(o.join(" "))}function pr(e,t){for(;t<e.length;t++){var r=e[t];if(r!==" ")return r==="="?t:-1}}function ur(e,t){for(;t<e.length;t++){var r=e[t];if(r!==" ")return r==="'"||r==='"'?t:-1}}function fr(e,t){for(;t>0;t--){var r=e[t];if(r!==" ")return r==="="?t:-1}}function hr(e){return e[0]==='"'&&e[e.length-1]==='"'||e[0]==="'"&&e[e.length-1]==="'"}function ke(e){return hr(e)?e.substr(1,e.length-2):e}q.parseTag=lr,q.parseAttr=dr;var gr=ce.FilterCSS,A=m,De=q,mr=De.parseTag,vr=De.parseAttr,M=de;function V(e){return e==null}function yr(e){var t=M.spaceIndex(e);if(t===-1)return{html:"",closing:e[e.length-2]==="/"};e=M.trim(e.slice(t+1,-1));var r=e[e.length-1]==="/";return r&&(e=M.trim(e.slice(0,-1))),{html:e,closing:r}}function br(e){var t={};for(var r in e)t[r]=e[r];return t}function wr(e){var t={};for(var r in e)Array.isArray(e[r])?t[r.toLowerCase()]=e[r].map(function(i){return i.toLowerCase()}):t[r.toLowerCase()]=e[r];return t}function We(e){e=br(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=A.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=wr(e.whiteList||e.allowList):e.whiteList=A.whiteList,e.onTag=e.onTag||A.onTag,e.onTagAttr=e.onTagAttr||A.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||A.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||A.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||A.safeAttrValue,e.escapeHtml=e.escapeHtml||A.escapeHtml,this.options=e,e.css===!1?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new gr(e.css))}We.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,r=t.options,i=r.whiteList,o=r.onTag,s=r.onIgnoreTag,l=r.onTagAttr,a=r.onIgnoreTagAttr,n=r.safeAttrValue,d=r.escapeHtml,p=t.cssFilter;r.stripBlankChar&&(e=A.stripBlankChar(e)),r.allowCommentTag||(e=A.stripCommentTag(e));var c=!1;r.stripIgnoreTagBody&&(c=A.StripTagBody(r.stripIgnoreTagBody,s),s=c.onIgnoreTag);var u=mr(e,function(f,h,g,v,fe){var R={sourcePosition:f,position:h,isClosing:fe,isWhite:Object.prototype.hasOwnProperty.call(i,g)},T=o(g,v,R);if(!V(T))return T;if(R.isWhite){if(R.isClosing)return"</"+g+">";var J=yr(v),S=i[g],C=vr(J.html,function(k,L){var j=M.indexOf(S,k)!==-1,x=l(g,k,L,j);return V(x)?j?(L=n(g,k,L,p),L?k+'="'+L+'"':k):(x=a(g,k,L,j),V(x)?void 0:x):x});return v="<"+g,C&&(v+=" "+C),J.closing&&(v+=" /"),v+=">",v}else return T=s(g,v,R),V(T)?d(v):T},d);return c&&(u=c.remove(u)),u};var xr=We;(function(e,t){var r=m,i=q,o=xr;function s(a,n){var d=new o(n);return d.process(a)}t=e.exports=s,t.filterXSS=s,t.FilterXSS=o,function(){for(var a in r)t[a]=r[a];for(var n in i)t[n]=i[n]}();function l(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}l()&&(self.filterXSS=e.exports)})(ie,ie.exports);var N=ie.exports,Ar=function(e){if(typeof e!="object"||e===null||Object.prototype.toString.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},kr=function(){function e(t,r){var i=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],article:["style"],aside:["style"],audio:["autoplay","controls","loop","muted","preload"],b:[],blockquote:["style"],br:[],code:["style"],dd:["style"],del:["style"],details:["open","style"],div:["align","aria-hidden","aria-label","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],footer:["style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],header:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],main:["style"],mark:["style"],nav:["style"],ol:[],p:["style"],pre:["style"],section:["style"],source:["media","src","type"],span:["aria-hidden","aria-label","style"],strong:[],sub:["style"],summary:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],time:["style"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.arcgisCSSWhiteList=D(D({},N.getDefaultCSSWhiteList()),{"align-items":!0,"align-self":!0,flex:!0,"flex-basis":!0,"flex-direction":!0,"flex-flow":!0,"flex-grow":!0,"flex-shrink":!0,"flex-wrap":!0,float:!0,gap:!0,grid:!0,"grid-area":!0,"grid-auto-columns":!0,"grid-auto-flow":!0,"grid-auto-rows":!0,"grid-column":!0,"grid-column-end":!0,"grid-column-start":!0,"grid-row":!0,"grid-row-end":!0,"grid-row-start":!0,"grid-template":!0,"grid-template-areas":!0,"grid-template-columns":!0,"grid-template-rows":!0,"justify-content":!0,"justify-items":!0,"justify-self":!0,"line-height":!0,overflow:!0}),this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(s,l,a,n){return s==="a"&&l==="href"||(s==="img"||s==="source")&&l==="src"?i.sanitizeUrl(a):N.safeAttrValue(s,l,a,n)}},this._entityMap={"&":"&#x38;","<":"&#x3C;",">":"&#x3E;",'"':"&#x22;","'":"&#x27;","/":"&#x2F;"};var o;t&&!r?o=t:t&&r?(o=Object.create(this.arcgisFilterOptions),o.css={whiteList:this.arcgisCSSWhiteList},Object.keys(t).forEach(function(s){if(s==="whiteList")o.whiteList=i._extendObjectOfArrays([i.arcgisWhiteList,t.whiteList||{}]);else if(s==="css"){var l=t.css.whiteList;l!=null&&t.css instanceof Object&&Object.keys(l).forEach(function(a){return o.css.whiteList[a]=l[a]})}else o[s]=t[s]})):(o=Object.create(this.arcgisFilterOptions),o.whiteList=this.arcgisWhiteList,o.css={whiteList:this.arcgisCSSWhiteList}),this.xssFilterOptions=o,this._xssFilter=new N.FilterXSS(o)}return e.prototype.sanitize=function(t,r){switch(r===void 0&&(r={}),typeof t){case"number":return isNaN(t)||!isFinite(t)?null:t;case"boolean":return t;case"string":return this._xssFilter.process(t);case"object":return this._iterateOverObject(t,r);default:return r.allowUndefined&&typeof t>"u"?void 0:null}},e.prototype.sanitizeUrl=function(t,r){var i=(r??{}).isProtocolRequired,o=i===void 0?!0:i,s=this._trim(t.substring(0,t.indexOf(":"))),l=t==="/",a=/^#/.test(t),n=s&&this.allowedProtocols.indexOf(s.toLowerCase())>-1;return l||a||n?N.escapeAttrValue(t):!s&&!o?N.escapeAttrValue("https://".concat(t)):""},e.prototype.sanitizeHTMLAttribute=function(t,r,i,o){return typeof this.xssFilterOptions.safeAttrValue=="function"?this.xssFilterOptions.safeAttrValue(t,r,i,o):N.safeAttrValue(t,r,i,o)},e.prototype.validate=function(t,r){r===void 0&&(r={});var i=this.sanitize(t,r);return{isValid:t===i,sanitized:i}},e.prototype.encodeHTML=function(t){var r=this;return String(t).replace(/[&<>"'\/]/g,function(i){return r._entityMap[i]})},e.prototype.encodeAttrValue=function(t){var r=/^[a-zA-Z0-9]$/;return String(t).replace(/[\x00-\xFF]/g,function(i,o){return r.test(i)?i:"&#x".concat(Number(t.charCodeAt(o)).toString(16),";")})},e.prototype._extendObjectOfArrays=function(t){var r={};return t.forEach(function(i){Object.keys(i).forEach(function(o){Array.isArray(i[o])&&Array.isArray(r[o])?r[o]=r[o].concat(i[o]):r[o]=i[o]})}),r},e.prototype._iterateOverObject=function(t,r){var i=this;r===void 0&&(r={});try{var o=!1,s=void 0;if(Array.isArray(t))s=t.reduce(function(a,n){var d=i.validate(n,r);return d.isValid?a.concat([n]):(o=!0,a.concat([d.sanitized]))},[]);else if(Ar(t)){var l=Object.keys(t);s=l.reduce(function(a,n){var d=t[n],p=i.validate(d,r);return p.isValid?a[n]=d:(o=!0,a[n]=p.sanitized),a},{})}else return r.allowUndefined&&typeof t>"u"?void 0:null;return o?s:t}catch{return null}},e.prototype._trim=function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},e}();const X=new Map;function qe(){X.clear()}function Sr(e){return X.get(e)}function Lr(e,t){X.set(e,t)}function Y(e){X.delete(e)}function Or(...e){const t=ve.acquire();for(let i=0;i<e.length;i++){const o=e[i],s=typeof o;if(s==="string")t.push(o);else if(Array.isArray(o))t.push.apply(t,o);else if(s==="object")for(const l in o)o[l]&&t.push(l)}const r=t.join(" ");return ve.release(t),r}const mi=(()=>{const e=new Map,t=new ResizeObserver(i=>{qe();for(const o of i)e.get(o.target)?.(o)}),r=(i,o,s)=>(e.set(i,o),t.observe(i,s),re(()=>{t.unobserve(i),e.delete(i)}));return(i,o,s)=>{let l=null;return pt([te(()=>typeof i=="function"?i():i,a=>{l?.remove(),a&&(l=r(a,o,s))},Ne),re(()=>l?.remove())])}})();function vi(e){const t=e?.closest("[dir]");return t!==null&&t instanceof HTMLElement&&t.dir==="rtl"||document.dir==="rtl"}function yi(e){const t="data-node-ref";this[e.getAttribute(t)]=null}function bi(e){const t="data-node-ref";this[e.getAttribute(t)]=e}const _r=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"],Cr=_r.reduce((e,t)=>(e[t]=[],e),{}),Ir=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],Ue=new kr({whiteList:Cr,onTagAttr:(e,t,r)=>{const i=`${t}="${r}"`;if(Ir.includes(t))return i},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function wi(e){return e==="Enter"||e===" "}async function xi(e,t){await _t(Ct(t));const r=typeof e=="function"?e():e;r&&("setFocus"in r&&typeof r.setFocus=="function"?await r.setFocus():r instanceof HTMLElement&&r.focus())}const Ge="http://www.w3.org/",Z=`${Ge}2000/svg`,Qe=`${Ge}1999/xlink`;let Se=[],pe=(e,t)=>{let r={};return Object.keys(e).forEach(i=>{r[i]=e[i]}),t&&Object.keys(t).forEach(i=>{r[i]=t[i]}),r},ue=(e,t)=>e.vnodeSelector===t.vnodeSelector&&(e.properties&&t.properties?e.properties.key===t.properties.key&&e.properties.bind===t.properties.bind:!e.properties&&!t.properties),Xe=e=>{if(typeof e!="string")throw new Error("Style values must be strings")},Tr=(e,t,r)=>{if(t.vnodeSelector!==""){for(let i=r;i<e.length;i++)if(ue(e[i],t))return i}return-1},K=(e,t,r,i)=>{let o=e[t];if(o.vnodeSelector==="")return;let s=o.properties;if(!(s&&(s.key===void 0?s.bind:s.key))){for(let l=0;l<e.length;l++)if(l!==t){let a=e[l];if(ue(a,o))throw new Error(`${r.vnodeSelector} had a ${o.vnodeSelector} child ${i==="added"?i:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}}},jr=e=>{if(e.properties){let t=e.properties.enterAnimation;t&&t(e.domNode,e.properties)}},ne=[],se=!1,Ze=e=>{(e.children||[]).forEach(Ze),e.properties&&e.properties.afterRemoved&&e.properties.afterRemoved.apply(e.properties.bind||e.properties,[e.domNode])},Le=()=>{se=!1,ne.forEach(Ze),ne.length=0},Oe=e=>{ne.push(e),se||(se=!0,typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(Le,{timeout:16}):setTimeout(Le,16))},_e=e=>{let t=e.domNode;if(e.properties){let r=e.properties.exitAnimation;if(r)return t.style.pointerEvents="none",void r(t,()=>{t.parentNode&&(t.parentNode.removeChild(t),Oe(e))},e.properties)}t.parentNode&&(t.parentNode.removeChild(t),Oe(e))},Nr=(e,t,r)=>{if(!t)return;let i=r.eventHandlerInterceptor,o=Object.keys(t),s=o.length;for(let l=0;l<s;l++){let a=o[l],n=t[a];if(a==="className")throw new Error('Property "className" is not supported, use "class".');if(a==="class")le(e,n,!0);else if(a==="classes"){let d=Object.keys(n),p=d.length;for(let c=0;c<p;c++){let u=d[c];n[u]&&e.classList.add(u)}}else if(a==="styles"){let d=Object.keys(n),p=d.length;for(let c=0;c<p;c++){let u=d[c],f=n[u];f&&(Xe(f),r.styleApplyer(e,u,f))}}else if(a!=="key"&&n!=null){let d=typeof n;d==="function"?(a.lastIndexOf("on",0)===0&&(i&&(n=i(a,n,e,t)),a==="oninput"&&function(){let p=n;n=function(c){p.apply(this,[c]),c.target["oninput-value"]=c.target.value}}()),e[a]=n):r.namespace===Z?a==="href"?e.setAttributeNS(Qe,a,n):e.setAttribute(a,n):d==="string"&&a!=="value"?a==="innerHTML"?e[a]=Ue.sanitize(n):ae(e)&&a in e?e[a]=n:e.setAttribute(a,n):e[a]=n}}};function ae(e){if(!(e instanceof Element&&e.tagName.includes("-")))return!1;const t=window.customElements.get(e.tagName.toLowerCase());return!!t&&e instanceof t}let U,Er=(e,t,r)=>{if(t)for(let i of t)P(i,e,void 0,r)},Je=(e,t,r)=>{Er(e,t.children,r),t.text&&(e.textContent=t.text),Nr(e,t.properties,r),t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[e,r,t.vnodeSelector,t.properties,t.children])},P=(e,t,r,i)=>{let o,s=0,l=e.vnodeSelector,a=t.ownerDocument;if(l==="")o=e.domNode=a.createTextNode(e.text),r!==void 0?t.insertBefore(o,r):t.appendChild(o);else{for(let n=0;n<=l.length;++n){let d=l.charAt(n);if(n===l.length||d==="."||d==="#"){let p=l.charAt(s-1),c=l.slice(s,n);p==="."?o.classList.add(c):p==="#"?o.id=c:(c==="svg"&&(i=pe(i,{namespace:Z})),i.namespace!==void 0?o=e.domNode=a.createElementNS(i.namespace,c):(o=e.domNode=e.domNode||a.createElement(c),c==="input"&&e.properties&&e.properties.type!==void 0&&o.setAttribute("type",e.properties.type)),r!==void 0?t.insertBefore(o,r):o.parentNode!==t&&t.appendChild(o)),s=n+1}}Je(o,e,i)}},le=(e,t,r)=>{t&&t.split(" ").forEach(i=>{i&&e.classList.toggle(i,r)})},Pr=(e,t,r,i)=>{if(!r)return;let o=!1,s=Object.keys(r),l=s.length;for(let a=0;a<l;a++){let n=s[a],d=r[n],p=t[n];if(n==="class")p!==d&&(le(e,p,!1),le(e,d,!0));else if(n==="classes"){let c=e.classList,u=Object.keys(d),f=u.length;for(let h=0;h<f;h++){let g=u[h],v=!!d[g];v!==!!p[g]&&(o=!0,v?c.add(g):c.remove(g))}}else if(n==="styles"){let c=Object.keys(d),u=c.length;for(let f=0;f<u;f++){let h=c[f],g=d[h];g!==p[h]&&(o=!0,g?(Xe(g),i.styleApplyer(e,h,g)):i.styleApplyer(e,h,""))}}else if(d||typeof p!="string"||(d=""),n!=="value"||ae(e)){if(d!==p){let c=typeof d;c==="function"&&i.eventHandlerInterceptor||(i.namespace===Z?n==="href"?e.setAttributeNS(Qe,n,d):e.setAttribute(n,d):c==="string"?n==="innerHTML"?e[n]=Ue.sanitize(d):n==="role"&&d===""?e.removeAttribute(n):ae(e)&&n in e?e[n]=d:e.setAttribute(n,d):e[n]!==d&&(e[n]=d),o=!0)}}else{let c=e[n];c!==d&&(e["oninput-value"]?c===e["oninput-value"]:d!==p)&&(e[n]=d,e["oninput-value"]=void 0),d!==p&&(o=!0)}}return o},Rr=(e,t,r,i,o)=>{if(r===i)return!1;i=i||Se;let s,l=(r=r||Se).length,a=i.length,n=0,d=0,p=!1;for(;d<a;){let c=n<l?r[n]:void 0,u=i[d];if(c!==void 0&&ue(c,u))p=U(c,u,o)||p,n++;else{let f=Tr(r,u,n+1);if(f>=0){for(s=n;s<f;s++)_e(r[s]),K(r,s,e,"removed");p=U(r[f],u,o)||p,n=f+1}else P(u,t,n<l?r[n].domNode:void 0,o),jr(u),K(i,d,e,"added")}d++}if(l>n)for(s=n;s<l;s++)_e(r[s]),K(r,s,e,"removed");return p};U=(e,t,r)=>{let i=e.domNode,o=!1;if(e===t)return!1;let s=!1;if(t.vnodeSelector===""){if(t.text!==e.text){let l=i.ownerDocument.createTextNode(t.text);return i.parentNode.replaceChild(l,i),t.domNode=l,o=!0,o}t.domNode=i}else t.vnodeSelector.lastIndexOf("svg",0)===0&&(r=pe(r,{namespace:Z})),e.text!==t.text&&(s=!0,t.text===void 0?i.removeChild(i.firstChild):i.textContent=t.text),t.domNode=i,s=Rr(t,i,e.children,t.children,r)||s,s=Pr(i,e.properties,t.properties,r)||s,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,[i,r,t.vnodeSelector,t.properties,t.children]);return s&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(i,t.properties,e.properties),o};let z=(e,t)=>({getLastRender:()=>e,update:r=>{if(e.vnodeSelector!==r.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let i=e;e=r,U(i,r,t)},domNode:e.domNode});const Fr={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,r)=>{t.charAt(0)==="-"?e.style.setProperty(t,r):e.style[t]=r}};let E=e=>pe(Fr,e),_={create:(e,t)=>(t=E(t),P(e,document.createElement("div"),void 0,t),z(e,t)),append:(e,t,r)=>(r=E(r),P(t,e,void 0,r),z(t,r)),insertBefore:(e,t,r)=>(r=E(r),P(t,e.parentNode,e,r),z(t,r)),merge:(e,t,r)=>(r=E(r),t.domNode=e,Je(e,t,r),z(t,r)),replace:(e,t,r)=>(r=E(r),P(t,e.parentNode,e,r),e.parentNode.removeChild(e),z(t,r))},Ye,zr=(e,t)=>{let r=[];for(;e&&e!==t;)r.push(e),e=e.parentNode;return r};Ye=Array.prototype.find?(e,t)=>e.find(t):(e,t)=>e.filter(t)[0];let Hr=(e,t)=>{let r=e;return t.forEach(i=>{r=r&&r.children?Ye(r.children,o=>o.domNode===i):void 0}),r},$r=(e,t,r)=>{let i=function(o){r("domEvent",o);let s=t(),l=zr(o.currentTarget,s.domNode);l.reverse();let a,n=Hr(s.getLastRender(),l);return e.scheduleRender(),n&&(a=n.properties[`on${o.type}`].apply(n.properties.bind||this,arguments)),r("domEventProcessed",o),a};return(o,s,l,a)=>i},Ai=e=>{let t,r,i=E(e),o=i.performanceLogger,s=!0,l=!1,a=[],n=[],d=(c,u,f)=>{let h,g=()=>h;i.eventHandlerInterceptor=$r(t,g,o),h=c(u,f(),i),a.push(h),n.push(f)},p=()=>{if(r=void 0,s){s=!1,o("renderStart",void 0);for(let c=0;c<a.length;c++){let u=n[c]();o("rendered",void 0),a[c].update(u),o("patched",void 0)}o("renderDone",void 0),s=!0}};return t={renderNow:p,scheduleRender:()=>{r||l||(r=requestAnimationFrame(p))},stop:()=>{r&&(cancelAnimationFrame(r),r=void 0),l=!0},resume:()=>{l=!1,s=!0,t.scheduleRender()},append:(c,u)=>{d(_.append,c,u)},insertBefore:(c,u)=>{d(_.insertBefore,c,u)},merge:(c,u)=>{d(_.merge,c,u)},replace:(c,u)=>{d(_.replace,c,u)},detach:c=>{for(let u=0;u<n.length;u++)if(n[u]===c)return n.splice(u,1),a.splice(u,1)[0];throw new Error("renderFunction was not found")}},t};const Br={handleInterceptedEvent:(e,t,r,i)=>(e.scheduleRender(),t.properties[`on${i.type}`].apply(t.properties.bind||r,[i]))},Vr={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,r)=>{t.charAt(0)==="-"?e.style.setProperty(t,r):e.style[t]=r}},Mr=e=>({...Vr,...e}),Dr=(e,t)=>{const r=[];for(;e&&e!==t;)r.push(e),e=e.parentNode;return r},Wr=(e,t)=>e.find(t),Ce=(e,t,r=!1)=>{let i=e;return t.forEach((o,s)=>{const l=i?.children?Wr(i.children,a=>a.domNode===o):void 0;r&&!l&&s!==t.length-1||(i=l)}),i},qr=e=>{let t;const r={...Br,...e},i=Mr(r),o=i.performanceLogger;let s,l=!0,a=!1;const n=[],d=[],p=(u,f,h)=>{let g;i.eventHandlerInterceptor=(fe,R,T,J)=>function(S){let C;o("domEvent",S);const k=Dr(S.currentTarget,g.domNode),L=k.some(x=>customElements.get(x?.tagName?.toLowerCase()));if(S.eventPhase===Event.CAPTURING_PHASE||!L)k.reverse(),C=Ce(g.getLastRender(),k);else{const x=S.composedPath(),dt=x.slice(x.indexOf(S.currentTarget),x.indexOf(g.domNode)).reverse();C=Ce(g.getLastRender(),dt,!0)}let j;return C&&(j=r.handleInterceptedEvent(t,C,this,S)),o("domEventProcessed",S),j},r.postProcessProjectionOptions?.(i);const v=h();g=u(f,v,i),i.eventHandlerInterceptor=void 0,n.push(g),d.push(h),r.afterFirstVNodeRendered&&r.afterFirstVNodeRendered(g,v)};let c=()=>{if(s=void 0,l){l=!1,o("renderStart",void 0);for(let u=0;u<n.length;u++){const f=d[u]();o("rendered",void 0);try{n[u].update(f)}catch(h){console.error(h)}o("patched",void 0)}o("renderDone",void 0),l=!0}};return r.modifyDoRenderImplementation&&(c=r.modifyDoRenderImplementation(c,n,d)),t={renderNow:c,scheduleRender:()=>{s||a||(s=requestAnimationFrame(c))},stop:()=>{s&&(cancelAnimationFrame(s),s=void 0),a=!0},resume:()=>{a=!1,l=!0,t.scheduleRender()},append:(u,f)=>{p(_.append,u,f)},insertBefore:(u,f)=>{p(_.insertBefore,u,f)},merge:(u,f)=>{p(_.merge,u,f)},replace:(u,f)=>{p(_.replace,u,f)},detach:u=>{for(let f=0;f<d.length;f++)if(d[f]===u)return d.splice(f,1),n.splice(f,1)[0];throw new Error("renderFunction was not found")}},t},Ke="calcite-mode-auto",et="calcite-mode-dark",Ur="calcite-mode-light",ki={autoMode:Ke,darkMode:et,lightMode:Ur,rtl:"calcite--rtl",calciteAnimate:"calcite-animate",calciteAnimateInUp:"calcite-animate__in-up",calciteAnimateInDown:"calcite-animate__in-down",calciteAnimateInRight:"calcite-animate__in-right",calciteAnimateInLeft:"calcite-animate__in-left"},Si={filter:250,nextTick:0,resize:150,reposition:100};function Ie(){const{classList:e}=document.body,t=window.matchMedia("(prefers-color-scheme: dark)").matches,r=()=>e.contains(et)||e.contains(Ke)&&t?"dark":"light",i=l=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:l}})),o=l=>{s!==l&&i(l),s=l};let s=r();i(s),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",l=>o(l.matches?"dark":"light")),new MutationObserver(()=>o(r())).observe(document.body,{attributes:!0,attributeFilter:["class"]})}const H=globalThis.calciteConfig,Li=H?.focusTrapStack||[],Oi=H?.logLevel||"info",Te="3.0.3",Gr="2025-02-19",Qr="0b0b89f59";function Xr(){if(H&&H.version)return;console.info(`Using Calcite Components ${Te} [Date: ${Gr}, Revision: ${Qr}]`);const e=H||globalThis.calciteConfig||{};Object.defineProperty(e,"version",{value:Te,writable:!1}),globalThis.calciteConfig=e}const Zr=()=>typeof navigator<"u"&&typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;function Jr(){Zr()&&(document.readyState==="interactive"?Ie():document.addEventListener("DOMContentLoaded",()=>Ie(),{once:!0})),Xr()}Jr();const Yr=ut({defaultAssetPath:"https://js.arcgis.com/calcite-components/3.0.3/",hydratedAttribute:"calcite-hydrated"}),{customElement:_i,getAssetPath:Ci,setAssetPath:Kr}=Yr;let tt=!1;const ei=e=>{tt=!0,Kr(e)};let rt;function ti(){tt||ei(xt(At(rt)))}function Ii(e){const t=[];for(const r of Object.keys(e))customElements.get(`calcite-${r}`)||t.push(e[r]?.());return t.length>0?Promise.all(t):null}rt="components/assets";const it=Symbol("widget"),ot=Symbol("widget-test-data"),ri=[],ii={},G=new WeakMap;function nt(e,t){let r=t.children;if(r?.length)for(let o=0;o<r.length;++o)r[o]=nt(e,r[o]);else r=ri;const i=t.vnodeSelector;if(Q(i)){const o=t.properties||ii,s=o.key||i,l={key:s,afterCreate:oi,afterUpdate:ni,afterRemoved:st,parentWidget:e,widgetConstructor:i,widgetProperties:{...o,key:s,children:r}};return{vnodeSelector:i.vnodeSelector,properties:l,children:void 0,text:void 0,domNode:null}}return t}function oi(e,t,r,{parentWidget:i,widgetConstructor:o,widgetProperties:s}){const l=new o(s);l.container=e,G.set(e,l),l.afterCreate?.(l,e),i.addHandles(re(()=>st(e))),queueMicrotask(()=>{l[ot].projector.renderNow()})}function ni(e,t,r,{widgetProperties:i}){const o=G.get(e);o&&(o.set(i),o.afterUpdate?.(o,e))}function st(e){const t=G.get(e);t&&(t.afterRemoved?.(t,e),t.destroy(),G.delete(e))}function Q(e){return typeof e=="function"&&e[it]}const je=new Set;function si(e){je.add(e),e.finally(()=>je.delete(e))}var at;const ai="esri.widgets.Widget";let li=0;function lt(e,t){const r=Object.prototype.hasOwnProperty;for(const i in t)r.call(t,i)&&r.call(e,i)&&(e[i]!=null&&t[i]!=null&&typeof e[i]=="object"&&typeof t[i]=="object"?lt(e[i],t[i]):e[i]=t[i]);return e}const ci=qr({postProcessProjectionOptions(e){const t=e.eventHandlerInterceptor,r=/capture$/i;e.eventHandlerInterceptor=(i,o,s,l)=>{const a=t?.(i,o,s,l),n=r.test(i);if(!((i=i.replace(r,"")).toLowerCase()in s)||n){const d=i[2].toLowerCase()+i.slice(3),p=f=>a?.call(s,f);s.addEventListener(d,p,n);const c=()=>s.removeEventListener(d,p,n),u=l.afterRemoved;l.afterRemoved=f=>{u?.(f),c()}}return a}},handleInterceptedEvent(e,t,r,i){const{eventPhase:o,type:s}=i,l=o===Event.CAPTURING_PHASE;let a=`on${s}${l?"capture":""}`;const n=t.properties;(n&&a in n||(a=`on${s[0].toUpperCase()}${s.slice(1)}${l?"Capture":""}`,n&&a in n))&&(qe(),e.scheduleRender(),n[a].call(n.bind||r,i))}});let ee=!1,y=class extends ft.EsriPromiseMixin(ht.EventedAccessor){constructor(e,t){super(e,t),this._attached=!1,this._projector=ci,this._readyForTrueRender=!1,this.key=this,this.autoRenderingEnabled=!0,this._loadLocale=gt(async()=>{if(this._messageBundleProps?.length){const a=await Promise.allSettled(this._messageBundleProps.map(async({bundlePath:n,propertyName:d})=>{if(this.destroyed)return;let p=await It(n);this.uiStrings&&Object.keys(this.uiStrings)&&(p=lt(Ot(p),this.uiStrings)),this[d]=p}));if(this.destroyed)return;for(const n of a)n.status==="rejected"&&he.getLogger(this).error("widget-intl:locale-error",this.declaredClass,n.reason)}await this.loadLocale()}),ti();const r="esri-widget-uid-"+Tt(),i=this.render.bind(this);this._trackingTarget=new mt(()=>{this.autoRenderingEnabled&&this.scheduleRender()});const o=()=>({vnodeSelector:"div",properties:{key:`${r}-hidden`,class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0}),s=()=>{if(!this._readyForTrueRender||this.destroyed)return null;const a=i()??o(),n=a.properties??={};if(n.key??=r,Q(a.vnodeSelector)){if(!this.visible)return o()}else this.visible?n.styles||(n.styles={}):(n.class="",n.styles={display:"none"}),n.styles.display??="";let d=0;return a.children?.forEach(p=>{Q(p.vnodeSelector)||(p.properties??={},p.properties.key??=`${this.id}--${d++}`)}),nt(this,a)};this.render=()=>{if(ee)return s();let a=Sr(this)??null;if(a)return a;this._trackingTarget.clear(),ee=!0;try{a=vt(this._trackingTarget,s)}catch(n){throw he.getLogger(this).error(n),n}finally{ee=!1}return a&&Lr(this,a),a};const l=this.beforeFirstRender();l?this._resourcesFetch=l.then(()=>{this._readyForTrueRender=!0,this._postInitialize()}):(this._resourcesFetch=Promise.resolve().then(()=>{this._postInitialize()}),this._readyForTrueRender=!0),this.addResolvingPromise(this._resourcesFetch),si(this._resourcesFetch)}normalizeCtorArgs(e,t){const r={...e};return t&&(r.container=t),r}postInitialize(){}beforeFirstRender(){const e=this.loadDependencies();return this._messageBundleProps?.length||e?Promise.all([e,this._loadLocale()]).then(()=>{}).catch(ge):null}loadDependencies(){return null}loadLocale(){return null}destroy(){this.destroyed||(me(this._trackingTarget),me(this.viewModel),this._detach(this.container),this._set("container",null),this._emitter.clear(),this.render=()=>null,this._projector=null,Y(this))}set container(e){this._get("container")||this._set("container",e)}castContainer(e){return jt(e)}get domNode(){return this.container}set domNode(e){this.container=e}get icon(){return null}set icon(e){this._overrideIfSome("icon",e)}get id(){return this._get("id")||this.container?.id||Date.now().toString(16)+"-widget-"+li++}set id(e){e&&this._set("id",e)}get label(){return this.declaredClass.split(".").pop()}set label(e){this._overrideIfSome("label",e)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(e){this._set("visible",e)}get[(at=it,ot)](){return{projector:this._projector}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||(Y(this),this._projector.scheduleRender())}classes(...e){return Or.apply(this,e)}renderNow(){Y(this),this._projector.renderNow()}_postInitialize(){if(this.destroyed)return;this.scheduleRender(),this._delegatedEventNames?.length&&this.addHandles(te(()=>this.viewModel,(t,r)=>{r&&this.removeHandles("delegated-events"),t&&kt(t)&&this.addHandles(this._delegatedEventNames.map(i=>St(t,i,o=>{this.emit(i,o)})),"delegated-events")},Ne)),this.postInitialize();const e=async()=>{await this._loadLocale().catch(ge),this.scheduleRender()};this.addHandles([yt(e),te(()=>this.uiStrings,e),bt(()=>this.container,t=>{this.destroyed||this._attach(t)},{initial:!0,once:!0})])}_attach(e){e&&(this._projector.merge(e,this.render),this._attached=!0)}_detach(e){this._attached&&(this._projector.detach(this.render),this._attached=!1),e?.parentNode?.removeChild(e)}};y[at]=!0,y.vnodeSelector="div",b([w()],y.prototype,"_readyForTrueRender",void 0),b([w({value:null})],y.prototype,"container",null),b([wt("container")],y.prototype,"castContainer",null),b([w()],y.prototype,"icon",null),b([w()],y.prototype,"id",null),b([w()],y.prototype,"label",null),b([w()],y.prototype,"renderable",null),b([w()],y.prototype,"uiStrings",void 0),b([w()],y.prototype,"viewModel",void 0),b([w({value:!0})],y.prototype,"visible",null),b([w()],y.prototype,"key",void 0),b([w()],y.prototype,"children",void 0),b([w()],y.prototype,"afterCreate",void 0),b([w()],y.prototype,"afterUpdate",void 0),b([w()],y.prototype,"afterRemoved",void 0),y=b([Lt(ai)],y);const Ti=y;function ji(e){return(t,r)=>{t.hasOwnProperty("_messageBundleProps")||(t._messageBundleProps=t._messageBundleProps?t._messageBundleProps.slice():[]),t._messageBundleProps.push({bundlePath:e,propertyName:r})}}var di=function(e){return{vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}},ct=function(e,t){for(var r=0,i=e.length;r<i;r++){var o=e[r];Array.isArray(o)?ct(o,t):o!=null&&o!==!1&&(o.hasOwnProperty("vnodeSelector")||(o=di(o)),t.push(o))}},pi=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(r.length===1&&typeof r[0]=="string")return{vnodeSelector:e,properties:t||void 0,children:void 0,text:r[0],domNode:null};var o=[];return ct(r,o),{vnodeSelector:e,properties:t||void 0,children:o,text:void 0,domNode:null}};function Ni(e,t,...r){return typeof e!="function"||Q(e)?pi(e,t??null,...r):e(t,...r)}function Ei(...e){return e}export{Or as $,Ti as C,wi as F,Ai as G,yi as I,ji as L,bi as N,gi as P,Ni as T,mi as a,jt as b,Ei as c,ki as d,Si as i,vi as j,Ii as m,Oi as n,Li as o,_i as p,Zr as r,Ci as u,xi as z};
