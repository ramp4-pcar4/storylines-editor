import{cf as R,bc as h,T as m,E as x,ce as y,L as w}from"./main-DK5A1thH.js";import{G as W,c as E}from"./geodesicUtils-DV-lFWtb-DXiNEbM3.js";import{C as L}from"./normalizeUtils-b-vZURob-A8spekoP.js";const S=50,C=5;function d(t,r){return Math.log(t)/Math.log(r)}function O(t,r,o){const c=t===1?10:t;return c**(o?Math.round(d(S/r,c)):0)}function j(t){const{isGeographic:r,isWebMercator:o}=t;return!r&&!o}function P(t,r,o){const c=typeof t=="number"?null:t,e=o??c?.spatialReference;if(e==null||!R(e)||j(e))return h(e);let a=c?.x??t,s=c?.y??r;const l=1/Math.sqrt(2);let i=a+l,f=s+l;const{isWebMercator:G,isGeographic:M}=e;let u=M&&!W(e)?m.WGS84:e;if(G){let n=new x({x:a,y:s,spatialReference:e});y(n,!0,n),a=n.x,s=n.y,n=new x({x:i,y:f,spatialReference:e}),y(n,!0,n),i=n.x,f=n.y,u=m.WGS84}const b=new w({paths:[[[a,s],[i,f]]],spatialReference:u}),g=L(b,10);let p;try{[p]=E([g],"meters")}catch{return h(e)}return p}export{O as P,P as Q,C as k,j as x};
