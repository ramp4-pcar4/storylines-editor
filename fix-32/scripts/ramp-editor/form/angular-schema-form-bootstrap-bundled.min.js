/*!
 * angular-schema-form-bootstrap
 * @version 1.0.0-alpha.4
 * @date Mon, 17 Apr 2017 08:57:43 GMT
 * @link https://github.com/json-schema-form/angular-schema-form-bootstrap
 * @license MIT
 * Copyright (c) 2014-2017 JSON Schema Form
 */
!function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,t,r){Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=23)}([function(e,t,r){r(18)},function(e,t,r){(function(e,n){function o(e,t){this._id=e,this._clearFn=t}var i=r(20).nextTick,a=Function.prototype.apply,s=Array.prototype.slice,l={},c=0;t.setTimeout=function(){return new o(a.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new o(a.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},t.setImmediate="function"==typeof e?e:function(e){var r=c++,n=!(arguments.length<2)&&s.call(arguments,1);return l[r]=!0,i(function(){l[r]&&(n?e.apply(null,n):e.call(null),t.clearImmediate(r))}),r},t.clearImmediate="function"==typeof n?n:function(e){delete l[e]}}).call(t,r(1).setImmediate,r(1).clearImmediate)},function(e,t){var r="/bootstrap/actions.html",n='<div class="btn-group schema-form-actions {{::form.htmlClass + \' \' + idClass}}">\r\n  <input ng-repeat-start="item in form.items"\r\n         type="submit"\r\n         class="btn {{ item.style || \'btn-default\' }} {{::form.fieldHtmlClass}}"\r\n         value="{{item.title}}"\r\n         ng-if="item.type === \'submit\'">\r\n  <button ng-repeat-end\r\n          class="btn {{ item.style || \'btn-default\' }} {{::form.fieldHtmlClass}}"\r\n          type="button"\r\n          ng-disabled="form.readonly"\r\n          ng-if="item.type !== \'submit\'"\r\n          ng-click="buttonClick($event,item)"><span ng-if="item.icon" class="{{item.icon}}"></span>{{item.title}}</button>\r\n</div>\r\n';window.angular.module("ng").run(["$templateCache",function(e){e.put(r,n)}]),e.exports=r},function(e,t){var r="/bootstrap/array.html",n='<div  class="schema-form-array {{::form.htmlClass + \' \' + idClass}}"\r\n      sf-field-model="sf-new-array"\r\n      sf-new-array>\r\n  <label class="control-label" ng-show="showTitle()">{{ form.title }}</label>\r\n  <ol class="list-group" sf-field-model ui-sortable="form.sortOptions">\r\n    <li class="list-group-item {{::form.fieldHtmlClass}}"\r\n        sf-field-model="ng-repeat"\r\n        ng-repeat="item in $$value$$ track by $id(trackBy(item, $index))">\r\n      <button ng-hide="form.readonly || form.remove === null"\r\n              ng-click="deleteFromArray(item)"\r\n              ng-disabled="form.schema.minItems >= modelArray.length"\r\n              style="position: relative; z-index: 20;"\r\n              type="button" class="close pull-right">\r\n              <span aria-hidden="true">&times;</span><span class="sr-only">Close</span>\r\n      </button>\r\n      <div schema-form-array-items sf-key-controller sf-parent-key="[{{form.key.join(\'][\')}}]" sf-index="{{$index}}"></div>\r\n    </li>\r\n  </ol>\r\n  <div class="clearfix" style="padding: 15px;" ng-model="modelArray" schema-validate="form">\r\n    <div class="help-block"\r\n         ng-show="(hasError() && errorMessage(schemaError())) || form.description"\r\n         ng-bind-html="(hasError() && errorMessage(schemaError())) || form.description"></div>\r\n\r\n    <button ng-hide="form.readonly || form.add === null"\r\n            ng-click="appendToArray()"\r\n            ng-disabled="form.schema.maxItems <= modelArray.length"\r\n            type="button"\r\n            class="btn {{ form.style.add || \'btn-default\' }} pull-right">\r\n      <i class="glyphicon glyphicon-plus"></i>\r\n      {{ form.add || \'Add\'}}\r\n    </button>\r\n  </div>\r\n</div>\r\n';window.angular.module("ng").run(["$templateCache",function(e){e.put(r,n)}]),e.exports=r},function(e,t){var r="/bootstrap/checkbox.html",n='<div class="checkbox schema-form-checkbox {{::form.htmlClass + \' \' + idClass}}"\r\n     ng-class="{\'has-error\': form.disableErrorState !== true &&  hasError(), \'has-success\': form.disableSuccessState !== true &&  hasSuccess()}">\r\n  <label class="{{::form.labelHtmlClass}}">\r\n    <input type="checkbox"\r\n           sf-changed="form"\r\n           ng-disabled="form.readonly"\r\n           sf-field-model\r\n           schema-validate="form"\r\n           class="{{::form.fieldHtmlClass}}"\r\n           name="{{::fieldId(true, false)}}">\r\n    <span ng-bind-html="form.title"></span>\r\n  </label>\r\n  <div class="help-block" sf-message="form.description"></div>\r\n</div>\r\n';window.angular.module("ng").run(["$templateCache",function(e){e.put(r,n)}]),e.exports=r},function(e,t){var r="/bootstrap/checkboxes.html",n='<div sf-field-model="sf-new-array"\r\n     sf-new-array\r\n     class="form-group schema-form-checkboxes {{::form.htmlClass + \' \' + idClass}}"\r\n     ng-class="{\'has-error\': form.disableErrorState !== true &&  hasError(), \'has-success\': form.disableSuccessState !== true &&  hasSuccess()}">\r\n  <label class="control-label {{::form.labelHtmlClass}}"\r\n         sf-field-model\r\n         schema-validate="form"\r\n         ng-show="showTitle()">{{form.title}}</label>\r\n\r\n  <div class="checkbox" ng-repeat="val in titleMapValues track by $index" >\r\n    <label>\r\n      <input type="checkbox"\r\n             ng-disabled="form.readonly"\r\n             sf-changed="form"\r\n             class="{{::form.fieldHtmlClass}}"\r\n             ng-model="titleMapValues[$index]"\r\n             name="{{::fieldId(true, false)}}">\r\n      <span ng-bind-html="form.titleMap[$index].name"></span>\r\n    </label>\r\n\r\n  </div>\r\n  <div class="help-block" sf-message="form.description"></div>\r\n</div>\r\n';window.angular.module("ng").run(["$templateCache",function(e){e.put(r,n)}]),e.exports=r},function(e,t){var r="/bootstrap/default.html",n='<div class="form-group {{::form.htmlClass + \' schema-form-\' + form.type + \' \' + idClass}}"\r\n     ng-class="{ \'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess(), \'has-feedback\': form.feedback !== false }">\r\n  <label class="control-label {{::form.labelHtmlClass}}" ng-class="{\'sr-only\': !showTitle()}" for="{{::fieldId(true, false)}}">{{form.title}}</label>\r\n\r\n  <input ng-if="!form.fieldAddonLeft && !form.fieldAddonRight"\r\n         ng-show="::form.key"\r\n         type="{{::form.type}}"\r\n         step="any"\r\n         sf-changed="form"\r\n         placeholder="{{::form.placeholder}}"\r\n         class="form-control {{::form.fieldHtmlClass}}"\r\n         id="{{::fieldId(true, false)}}"\r\n         sf-field-model\r\n         ng-disabled="form.readonly"\r\n         schema-validate="form"\r\n         name="{{::fieldId(true, false)}}"\r\n         aria-describedby="{{::fieldId(true, true) + \'-status\'}}">\r\n\r\n  <div ng-if="form.fieldAddonLeft || form.fieldAddonRight"\r\n       ng-class="{\'input-group\': (form.fieldAddonLeft || form.fieldAddonRight)}">\r\n    <span ng-if="form.fieldAddonLeft"\r\n          class="input-group-addon"\r\n          ng-bind-html="form.fieldAddonLeft"></span>\r\n    <input ng-show="::form.key"\r\n           type="{{::form.type}}"\r\n           step="any"\r\n           sf-changed="form"\r\n           placeholder="{{::form.placeholder}}"\r\n           class="form-control {{::form.fieldHtmlClass}}"\r\n           id="{{::fieldId(true, false)}}"\r\n           sf-field-model\r\n           ng-disabled="form.readonly"\r\n           schema-validate="form"\r\n           name="{{::fieldId(true, false)}}"\r\n           aria-describedby="{{::fieldId(true, true) + \'-status\'}}">\r\n\r\n    <span ng-if="form.fieldAddonRight"\r\n          class="input-group-addon"\r\n          ng-bind-html="form.fieldAddonRight"></span>\r\n  </div>\r\n\r\n  <span ng-if="form.feedback !== false"\r\n        class="form-control-feedback"\r\n        ng-class="evalInScope(form.feedback) || {\'glyphicon\': true, \'glyphicon-ok\': form.disableSuccessState !== true && hasSuccess(), \'glyphicon-remove\': form.disableErrorState !== true && hasError() }"\r\n        aria-hidden="true"></span>\r\n\r\n  <span ng-if="hasError() || hasSuccess()"\r\n        id="{{::fieldId(true, true) + \'-status\'}}"\r\n        class="sr-only">{{ hasSuccess() ? \'(success)\' : \'(error)\' }}</span>\r\n\r\n  <div class="help-block" sf-message="form.description"></div>\r\n</div>\r\n';window.angular.module("ng").run(["$templateCache",function(e){e.put(r,n)}]),e.exports=r},function(e,t){var r="/bootstrap/fieldset.html",n='<fieldset ng-disabled="form.readonly" class="schema-form-fieldset {{::form.htmlClass + \' \' + idClass}}" sf-key-controller sf-parent-key="[{{form.key.join(\'][\')}}]" sf-index="{{$index}}">\r\n  <legend ng-class="{\'sr-only\': !showTitle() }">{{ form.title }}</legend>\r\n  <div class="help-block" ng-show="form.description" ng-bind-html="form.description"></div>\r\n</fieldset>\r\n';window.angular.module("ng").run(["$templateCache",function(e){e.put(r,n)}]),e.exports=r},function(e,t){var r="/bootstrap/help.html",n='<div class="helpvalue schema-form-helpvalue {{::form.htmlClass + \' \' + idClass}}" ng-bind-html="form.helpvalue"></div>\r\n';window.angular.module("ng").run(["$templateCache",function(e){e.put(r,n)}]),e.exports=r},function(e,t){var r="/bootstrap/radio-buttons.html",n='<div class="form-group schema-form-radiobuttons {{::form.htmlClass + \' \' + idClass}}"\r\n     ng-class="{\'has-error\': form.disableErrorState !== true &&  hasError(), \'has-success\': form.disableSuccessState !== true &&  hasSuccess()}">\r\n  <div>\r\n    <label class="control-label {{::form.labelHtmlClass}}" ng-show="showTitle()">{{form.title}}</label>\r\n  </div>\r\n  <div class="btn-group">\r\n    <label sf-field-model="replaceAll" class="btn {{ (tm.value === $$value$$) ? form.style.selected || \'btn-default\' : form.style.unselected || \'btn-default\'; }}"\r\n           ng-class="{ active: tm.value === $$value$$ }"\r\n           ng-repeat="tm in form.titleMap">\r\n      <input type="radio"\r\n             class="{{::form.fieldHtmlClass}}"\r\n             sf-changed="form"\r\n             style="display: none;"\r\n             ng-disabled="form.readonly"\r\n             sf-field-model\r\n             schema-validate="form"\r\n             ng-value="tm.value"\r\n             name="{{::fieldId(true, false)}}">\r\n      <span ng-bind-html="tm.name"></span>\r\n    </label>\r\n  </div>\r\n  <div class="help-block" sf-message="form.description"></div>\r\n</div>\r\n';window.angular.module("ng").run(["$templateCache",function(e){e.put(r,n)}]),e.exports=r},function(e,t){var r="/bootstrap/radios-inline.html",n='<div class="form-group schema-form-radios-inline {{::form.htmlClass + \' \' + idClass}}"\r\n     ng-class="{\'has-error\': form.disableErrorState !== true &&  hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}">\r\n  <label class="control-label {{::form.labelHtmlClass}}"\r\n        ng-show="showTitle()" sf-field-model\r\n        schema-validate="form" >{{form.title}}</label>\r\n  <div>\r\n      <label class="radio-inline" ng-repeat="tm in form.titleMap" >\r\n      <input type="radio"\r\n             class="{{::form.fieldHtmlClass}}"\r\n             sf-changed="form"\r\n             ng-disabled="form.readonly"\r\n             sf-field-model\r\n             ng-value="tm.value"\r\n             name="{{::fieldId(true, false)}}">\r\n      <span ng-bind-html="tm.name"></span>\r\n    </label>\r\n  </div>\r\n  <div class="help-block" sf-message="form.description"></div>\r\n</div>\r\n';window.angular.module("ng").run(["$templateCache",function(e){e.put(r,n)}]),e.exports=r},function(e,t){var r="/bootstrap/radios.html",n='<div class="form-group schema-form-radios {{::form.htmlClass + \' \' + idClass}}" ng-class="{\'has-error\': form.disableErrorState !== true &&  hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}">\r\n  <label class="control-label {{::form.labelHtmlClass}}"\r\n         sf-field-model schema-validate="form"\r\n         ng-show="showTitle()">{{form.title}}</label>\r\n  <div class="radio" ng-repeat="tm in form.titleMap">\r\n    <label>\r\n      <input type="radio"\r\n             class="{{::form.fieldHtmlClass}}"\r\n             sf-changed="form"\r\n             ng-disabled="form.readonly"\r\n             sf-field-model\r\n             ng-value="tm.value"\r\n             name="{{::fieldId(true, false)}}">\r\n      <span ng-bind-html="tm.name"></span>\r\n    </label>\r\n  </div>\r\n  <div class="help-block" sf-message="form.description"></div>\r\n</div>\r\n';window.angular.module("ng").run(["$templateCache",function(e){e.put(r,n)}]),e.exports=r},function(e,t){var r="/bootstrap/section.html",n='<div class="schema-form-section {{::form.htmlClass + \' \' + idClass}}" sf-key-controller sf-parent-key="[{{form.key.join(\'][\')}}]" sf-index="{{$index}}"></div>\r\n';window.angular.module("ng").run(["$templateCache",function(e){e.put(r,n)}]),e.exports=r},function(e,t){var r="/bootstrap/select.html",n='<div class="form-group {{::form.htmlClass + \' \' + idClass}} schema-form-select"\r\n     ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess(), \'has-feedback\': form.feedback !== false}">\r\n  <label class="control-label {{::form.labelHtmlClass}}" ng-show="showTitle()" for="{{::fieldId(true, false)}}">\r\n    {{form.title}}\r\n  </label>\r\n  <select sf-field-model\r\n          id="{{::fieldId(true, false)}}"\r\n          ng-disabled="form.readonly"\r\n          sf-changed="form"\r\n          class="form-control {{::form.fieldHtmlClass}}"\r\n          schema-validate="form"\r\n          ng-options="item.value as item.name group by item.group for item in form.titleMap"\r\n          name="{{::fieldId(true, false)}}">\r\n  </select>\r\n  <div class="help-block" sf-message="form.description"></div>\r\n</div>\r\n';window.angular.module("ng").run(["$templateCache",function(e){e.put(r,n)}]),e.exports=r},function(e,t){var r="/bootstrap/submit.html",n='<div class="form-group schema-form-submit {{::form.htmlClass + \' \' + idClass}}">\r\n  <input type="submit"\r\n         class="btn {{ form.style || \'btn-primary\' }} {{::form.fieldHtmlClass}}"\r\n         value="{{form.title}}"\r\n         ng-disabled="form.readonly"\r\n         ng-if="form.type === \'submit\'">\r\n  <button class="btn {{ form.style || \'btn-default\' }}"\r\n          type="button"\r\n          ng-click="buttonClick($event,form)"\r\n          ng-disabled="form.readonly"\r\n          ng-if="form.type !== \'submit\'">\r\n      <span ng-if="form.icon" class="{{form.icon}}"></span>\r\n      {{form.title}}\r\n  </button>\r\n</div>\r\n';window.angular.module("ng").run(["$templateCache",function(e){e.put(r,n)}]),e.exports=r},function(e,t){var r="/bootstrap/tabarray.html",n='<div ng-init="selected = { tab: 0 }"\r\n     ng-model="modelArray" schema-validate="form"\r\n     sf-field-model="sf-new-array"\r\n     sf-new-array\r\n     class="clearfix schema-form-tabarray schema-form-tabarray-{{form.tabType || \'left\'}} {{::form.htmlClass + \' \' + idClass}}">\r\n  <div ng-if="!form.tabType || form.tabType !== \'right\'"\r\n       ng-class="{\'col-xs-3\': !form.tabType || form.tabType === \'left\'}">\r\n    <ol class="nav nav-tabs"\r\n        ng-class="{ \'tabs-left\': !form.tabType || form.tabType === \'left\'}"\r\n        sf-field-model ui-sortable="form.sortOptions">\r\n      <li sf-field-model="ng-repeat"\r\n          ng-repeat="item in $$value$$ track by $index"\r\n          ng-click="$event.preventDefault() || (selected.tab = $index)"\r\n          ng-class="{active: selected.tab === $index}">\r\n          <a href="#">{{interp(form.title,{\'$index\':$index, value: item}) || $index}}</a>\r\n      </li>\r\n      <li ng-hide="form.readonly || form.add === null"\r\n          ng-disabled="form.schema.maxItems <= modelArray.length"\r\n          ng-click="$event.preventDefault() || (selected.tab = appendToArray().length - 1)">\r\n        <a href="#">\r\n          <i class="glyphicon glyphicon-plus"></i>\r\n          {{ form.add || \'Add\'}}\r\n          </a>\r\n      </li>\r\n    </ol>\r\n  </div>\r\n\r\n  <div ng-class="{\'col-xs-9\': !form.tabType || form.tabType === \'left\' || form.tabType === \'right\'}">\r\n    <div class="tab-content {{::form.fieldHtmlClass}}">\r\n      <div class="tab-pane clearfix tab{{selected.tab}} index{{$index}}"\r\n           sf-field-model="ng-repeat"\r\n           ng-repeat="item in $$value$$ track by $index"\r\n           ng-show="selected.tab === $index"\r\n           ng-class="{active: selected.tab === $index}">\r\n\r\n           <div schema-form-array-items sf-key-controller sf-parent-key="[{{form.key.join(\'][\')}}]" sf-index="{{$index}}"></div>\r\n\r\n           <button ng-hide="form.readonly || form.remove === null"\r\n                   ng-click="selected.tab = deleteFromArray($index).length - 1"\r\n                   ng-disabled="form.schema.minItems >= modelArray.length"\r\n                   type="button"\r\n                   class="btn {{ form.style.remove || \'btn-default\' }} pull-right">\r\n             <i class="glyphicon glyphicon-trash"></i>\r\n             {{ form.remove || \'Remove\'}}\r\n           </button>\r\n      </div>\r\n      <div class="help-block"\r\n           ng-show="(hasError() && errorMessage(schemaError())) || form.description"\r\n           ng-bind-html="(hasError() && errorMessage(schemaError())) || form.description"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div ng-if="form.tabType === \'right\'" class="col-xs-3">\r\n    <ul class="nav nav-tabs tabs-right">\r\n      <li  sf-field-model="ng-repeat"\r\n          ng-repeat="item in $$value$$ track by $index"\r\n          ng-click="$event.preventDefault() || (selected.tab = $index)"\r\n          ng-class="{active: selected.tab === $index}">\r\n          <a href="#">{{interp(form.title,{\'$index\':$index, value: item}) || $index}}</a>\r\n      </li>\r\n      <li ng-hide="form.readonly || form.add === null"\r\n          ng-disabled="form.schema.maxItems <= modelArray.length"\r\n          ng-click="$event.preventDefault() || (selected.tab = appendToArray().length - 1)">\r\n        <a href="#">\r\n          <i class="glyphicon glyphicon-plus"></i>\r\n          {{ form.add || \'Add\'}}\r\n          </a>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n\r\n</div>\r\n';window.angular.module("ng").run(["$templateCache",function(e){e.put(r,n)}]),e.exports=r},function(e,t){var r="/bootstrap/tabs.html",n='<div ng-init="selected = { tab: 0 }" class="schema-form-tabs {{::form.htmlClass + \' \' + idClass}}">\r\n  <ul class="nav nav-tabs">\r\n    <li ng-repeat="tab in form.tabs"\r\n        ng-disabled="form.readonly"\r\n        ng-click="$event.preventDefault() || (selected.tab = $index)"\r\n        ng-class="{active: selected.tab === $index}">\r\n        <a href="#">{{ tab.title }}</a>\r\n    </li>\r\n  </ul>\r\n\r\n  <div class="tab-content {{::form.fieldHtmlClass}}">\r\n  </div>\r\n</div>\r\n';window.angular.module("ng").run(["$templateCache",function(e){e.put(r,n)}]),e.exports=r},function(e,t){var r="/bootstrap/textarea.html",n='<div class="form-group has-feedback {{::form.htmlClass + \' \' + idClass}} schema-form-textarea" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true &&  hasSuccess()}">\r\n  <label class="control-label {{::form.labelHtmlClass}}" ng-class="{\'sr-only\': !showTitle()}" for="{{::fieldId(true, false)}}">{{form.title}}</label>\r\n\r\n  <textarea ng-if="!form.fieldAddonLeft && !form.fieldAddonRight"\r\n            class="form-control {{::form.fieldHtmlClass}}"\r\n            id="{{::fieldId(true, false)}}"\r\n            sf-changed="form"\r\n            ng-attr-placeholder="{{::form.placeholder}}"\r\n            ng-disabled="form.readonly"\r\n            sf-field-model\r\n            schema-validate="form"\r\n            name="{{::fieldId(true, false)}}"></textarea>\r\n\r\n  <div ng-if="form.fieldAddonLeft || form.fieldAddonRight"\r\n       ng-class="{\'input-group\': (form.fieldAddonLeft || form.fieldAddonRight)}">\r\n    <span ng-if="form.fieldAddonLeft"\r\n          class="input-group-addon"\r\n          ng-bind-html="form.fieldAddonLeft"></span>\r\n    <textarea class="form-control {{::form.fieldHtmlClass}}"\r\n              id="{{::fieldId(true, false)}}"\r\n              sf-changed="form"\r\n              ng-attr-placeholder="{{::form.placeholder}}"\r\n              ng-disabled="form.readonly"\r\n              sf-field-model\r\n              schema-validate="form"\r\n              name="{{::fieldId(true, false)}}"></textarea>\r\n    <span ng-if="form.fieldAddonRight"\r\n          class="input-group-addon"\r\n          ng-bind-html="form.fieldAddonRight"></span>\r\n  </div>\r\n\r\n  <span class="help-block" sf-message="form.description"></span>\r\n</div>\r\n';window.angular.module("ng").run(["$templateCache",function(e){e.put(r,n)}]),e.exports=r},function(e,t,r){"use strict";function n(e,t,r,n,o){var a=r.builders.simpleTransclusion,l=r.builders.ngModelOptions,u=r.builders.ngModel,d=r.builders.sfField,m=r.builders.condition,y=r.builders.array,g=r.builders.numeric,x=function(e){if(e.form.tabs&&e.form.tabs.length>0){var t=e.fieldFrag.querySelector(".tab-content");e.form.tabs.forEach(function(r,n){var o="(evalExpr("+e.path+".tabs["+n+'].condition, { model: model, "arrayIndex": $index}))',i=document.createElement("div");i.className="tab-pane",i.setAttribute("ng-disabled","form.readonly"),i.setAttribute("ng-show","selected.tab === "+n),i.setAttribute("ng-class","{active: selected.tab === "+n+"}"),r.condition&&i.setAttribute("ng-if",o);var a=e.build(r.items,e.path+".tabs["+n+"].items",e.state);i.appendChild(a),t.appendChild(i)})}},E=function(e){if(e.form.placeholder){var t=e.fieldFrag.querySelector("select"),r=document.createElement("option");r.setAttribute("value",""),r.setAttribute("sf-field-model","replaceAll"),1===angular.version.major&&angular.version.minor<4?r.setAttribute("ng-if","$$value$$ === undefined"):r.setAttribute("ng-show","$$value$$ === undefined"),r.textContent=e.form.placeholder,t.appendChild(r)}},C=[d,u,l,m];t.defineDecorator("bootstrapDecorator",{actions:{template:i.a,builder:C},array:{template:s.a,builder:[d,l,u,y,m]},button:{template:S.a,builder:C},checkbox:{template:c.a,builder:C},checkboxes:{template:f.a,builder:[d,l,u,y,m]},conditional:{template:k.a,builder:[d,a,m]},default:{template:p.a,builder:C},fieldset:{template:h.a,builder:[d,a,m]},help:{template:v.a,builder:C},number:{template:p.a,builder:C.concat(g)},password:{template:p.a,builder:C},radios:{template:w.a,builder:C},"radios-inline":{template:$.a,builder:C},radiobuttons:{template:b.a,builder:C},section:{template:k.a,builder:[d,a,m]},select:{template:T.a,builder:[E].concat(C)},submit:{template:S.a,builder:C},tabarray:{template:M.a,builder:[d,l,u,y,m]},tabs:{template:I.a,builder:[d,l,x,m]},textarea:{template:_.a,builder:C}},[])}var o=r(2),i=r.n(o),a=r(3),s=r.n(a),l=r(4),c=r.n(l),u=r(5),f=r.n(u),d=r(6),p=r.n(d),m=r(7),h=r.n(m),y=r(8),v=r.n(y),g=r(9),b=r.n(g),x=r(11),w=r.n(x),E=r(10),$=r.n(E),C=r(12),k=r.n(C),O=r(13),T=r.n(O),A=r(14),S=r.n(A),P=r(15),M=r.n(P),j=r(16),I=r.n(j),D=r(17),_=r.n(D);angular.module("schemaForm").config(n),n.$inject=["schemaFormProvider","schemaFormDecoratorsProvider","sfBuilderProvider","sfPathProvider","$injector"]},function(e,t,r){(function(e,t){/*!
 * angular-schema-form
 * @version 1.0.0-alpha.4
 * @date Mon, 17 Apr 2017 08:55:13 GMT
 * @link https://github.com/json-schema-form/angular-schema-form
 * @license MIT
 * Copyright (c) 2014-2017 JSON Schema Form
 */
!function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=21)}([function(e,t){e.exports=angular},function(e,t,r){(function(t,r){/*!
 * json-schema-form-core
 * @version 1.0.0-alpha.4
 * @date Sat, 15 Apr 2017 08:25:55 GMT
 * @link https://github.com/json-schema-form/json-schema-form-core
 * @license MIT
 * Copyright (c) 2014-2017 JSON Schema Form
 */
e.exports=function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=13)}([function(e,t,r){"use strict";function n(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e){var o=e.slice(),i=t||"-";return n&&(o=o.filter(function(e){return"number"!=typeof e})),(0!==r.length?r+i:"")+o.join(i)}return""}Object.defineProperty(t,"__esModule",{value:!0});var o=r(2);r.n(o);r.o(o,"parse")&&r.d(t,"parse",function(){return o.parse}),r.o(o,"stringify")&&r.d(t,"stringify",function(){return o.stringify}),r.o(o,"normalize")&&r.d(t,"normalize",function(){return o.normalize}),t.name=n},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.a=function(e,t){if(!Array.isArray(e)){var r=function(){var r=[];return t?t.forEach(function(t){r.push({name:e[t],value:t})}):Object.keys(e).forEach(function(t){r.push({name:e[t],value:t})}),{v:r}}();if("object"===("undefined"==typeof r?"undefined":n(r)))return r.v}return e}},function(e,t,r){e.exports=r(11).ObjectPath},function(e,t,r){"use strict";function n(e,t,r,o){var i=e[g(r.type)];if(i)for(var a=void 0,s=function(t,r,o){return n(e,t,r,o)},l=0;l<i.length;l++)if(a=i[l](t,r,o,s))return a.schema["x-schema-form"]&&Object.assign(a,a.schema["x-schema-form"]),a}function o(e,t,n){n=n||{};var o=n.global&&n.global.formDefaults?Object.assign({},n.global.formDefaults):{};return n.global&&n.global.supressPropertyTitles===!0?o.title=t.title:o.title=t.title||e,t.description&&(o.description=t.description),n.required!==!0&&t.required!==!0||(o.required=!0),t.maxLength&&(o.maxlength=t.maxLength),t.minLength&&(o.minlength=t.minLength),(t.readOnly||t.readonly)&&(o.readonly=!0),t.minimum&&(o.minimum=t.minimum+(t.exclusiveMinimum?1:0)),t.maximum&&(o.maximum=t.maximum-(t.exclusiveMaximum?1:0)),t.validationMessage&&(o.validationMessage=t.validationMessage),t.enumNames&&(o.titleMap=r.i(y.a)(t.enumNames,t.enum)),o.schema=t,o.ngModelOptions=o.ngModelOptions||{},o}function i(e,t,n){if("string"===g(t.type)&&!t.enum){var i=o(e,t,n);return i.key=n.path,i.type="text",n.lookup[r.i(h.stringify)(n.path)]=i,i}}function a(e,t,n){if("number"===g(t.type)){var i=o(e,t,n);return i.key=n.path,i.type="number",n.lookup[r.i(h.stringify)(n.path)]=i,i}}function s(e,t,n){if("integer"===g(t.type)){var i=o(e,t,n);return i.key=n.path,i.type="number",n.lookup[r.i(h.stringify)(n.path)]=i,i}}function l(e,t,n){if("boolean"===g(t.type)){var i=o(e,t,n);return i.key=n.path,i.type="checkbox",n.lookup[r.i(h.stringify)(n.path)]=i,i}}function c(e,t,n){if("string"===g(t.type)&&t.enum){var i=o(e,t,n);return i.key=n.path,i.type="select",i.titleMap||(i.titleMap=b(t.enum)),n.lookup[r.i(h.stringify)(n.path)]=i,i}}function u(e,t,n){if("array"===g(t.type)&&t.items&&t.items.enum){var i=o(e,t,n);return i.key=n.path,i.type="checkboxes",i.titleMap||(i.titleMap=b(t.items.enum)),n.lookup[r.i(h.stringify)(n.path)]=i,i}}function f(e,t,n,i){if("object"===g(t.type)){var a=function(){var a=o(e,t,n);return a.type="fieldset",a.key=n.path,a.items=[],n.lookup[r.i(h.stringify)(n.path)]=a,t.properties&&Object.keys(t.properties).forEach(function(e){var o=t.properties[e],s=n.path.slice();if(s.push(e),n.ignore[r.i(h.stringify)(s)]!==!0){var l=t.required&&t.required.indexOf(e)!==-1,c=i(e,o,{path:s,required:l||!1,lookup:n.lookup,ignore:n.ignore,global:n.global});c&&a.items.push(c)}}),{v:a}}();if("object"===("undefined"==typeof a?"undefined":v(a)))return a.v}}function d(e,t,n,i){if("array"===g(t.type)){var a=o(e,t,n);a.type="array",a.key=n.path,n.lookup[r.i(h.stringify)(n.path)]=a;var s=t.required&&t.required.indexOf(n.path[n.path.length-1])!==-1,l=n.path.slice();return l.push(""),a.items=[i(e,t.items,{path:l,required:s||!1,lookup:n.lookup,ignore:n.ignore,global:n.global})],a}}function p(){return{string:[c,i],object:[f],number:[a],integer:[s],boolean:[l],array:[u,d]}}function m(e,t,r,o){var i=[],a={};if(r=r||{},o=o||{},t=t||p(),!e.properties)throw new Error('Not implemented. Only type "object" allowed at root level of schema.');return Object.keys(e.properties).forEach(function(s){if(r[s]!==!0){var l=e.required&&e.required.indexOf(s)!==-1,c=n(t,s,e.properties[s],{path:[s],lookup:a,ignore:r,required:l,global:o});c&&i.push(c)}}),{form:i,lookup:a}}Object.defineProperty(t,"__esModule",{value:!0});var h=r(0),y=r(1);t.defaultFormDefinition=n,t.stdFormObj=o,t.text=i,t.number=a,t.integer=s,t.checkbox=l,t.select=c,t.checkboxes=u,t.fieldset=f,t.array=d,t.createDefaults=p,t.defaultForm=m;var v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g=function(e){if(Array.isArray(e)&&2===e.length){if("null"===e[0])return e[1];if("null"===e[1])return e[0]}return e},b=function(e){var t=[];return e.forEach(function(e){t.push({name:e,value:e})}),t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o=r(0),i=r(1),a=r(6);r.d(t,"merge",function(){return a.a});var s=r(8);r.d(t,"select",function(){return s.a});var l=r(7);r.d(t,"jsonref",function(){return l.a});var c=r(9);r.d(t,"traverseSchema",function(){return c.a}),r.d(t,"traverseForm",function(){return c.b});var u=r(10);r.d(t,"validate",function(){return u.a}),r.d(t,"sfPath",function(){return f}),r.d(t,"schemaDefaults",function(){return d}),r.d(t,"canonicalTitleMap",function(){return p});var f=o,d=n,p=i.a},function(e,n,o){var i,a,s,l,l,c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(t){if("object"===c(n)&&"undefined"!=typeof e)e.exports=t();else{a=[],i=t,s="function"==typeof i?i.apply(n,a):i,!(void 0!==s&&(e.exports=s))}}(function(){var e;return function e(t,r,n){function o(a,s){if(!r[a]){if(!t[a]){var c="function"==typeof l&&l;if(!s&&c)return l(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var f=r[a]={exports:{}};t[a][0].call(f.exports,function(e){var r=t[a][1][e];return o(r?r:e)},f,f.exports,e,t,r,n)}return r[a].exports}for(var i="function"==typeof l&&l,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t,r){"use strict";function n(e){var t;return m(e,"Array")?(t=[],e.forEach(function(e,r){t[r]=n(e)})):m(e,"Object")?(t={},Object.keys(e).forEach(function(r){t[r]=n(e[r])})):t=e,t}function o(e,t){function r(e){Object.keys(e).forEach(function(t){n[t]=e[t]})}var n={};return r(_.parse(e||"")),r(_.parse(t||"")),0===Object.keys(n).length?void 0:_.stringify(n)}function i(e,t){m(e,"String")&&(e=F(e)),m(t,"String")&&(t=F(t));var r,n,i=v(m(t,"Undefined")?"":t);return L.indexOf(i.reference)>-1?n=i:(r=m(e,"Undefined")?void 0:v(e),m(r,"Undefined")?n=i:(n=r,n.path=F(I.join(r.path,i.path)),n.query=o(r.query,i.query))),n.fragment=void 0,(L.indexOf(n.reference)===-1&&0===n.path.indexOf("../")?"../":"")+R.serialize(n)}function a(e,t){var r,n=[];return t.length>0&&(r=e,t.slice(0,t.length-1).forEach(function(e){e in r&&(r=r[e],n.push(r))})),n}function s(e,t,r,o,i,a,s,u,f){var d,p;if(r.length>0)try{d=c(t,r)}catch(t){"remote"===e&&(o.error=t.message,o.missing=!0)}else d=t;if(m(d,"Undefined")||(o.value=d),m(d,"Array")||m(d,"Object"))return p=n(i),"local"===e?(delete p.subDocPath,t=d):(p.relativeBase=I.dirname(a[a.length-1]),0===r.length?delete p.subDocPath:p.subDocPath=r),l(t,p,a,s,u,f)}function l(e,t,r,n,o,a){var l=Promise.resolve(),c=n.length?S(n[n.length-1]):[],u=C(e,t),f=t.subDocPath||[],p=P(f),h=["#"];return r.forEach(function(e,t){"#"!==e.charAt(0)&&h.push(n[t])}),h.reverse(),"#"!==(r[r.length-1]||"").charAt(0)&&(o.documents[P(c)]=e),Object.keys(u).forEach(function(y){var v,g,b,x,w=u[y];b=0===r.length?c.concat(S(y)):c.concat(S(y).slice(0===r.length?0:f.length)),x=P(b),m(o[x],"Undefined")&&(o.refs[x]=u[y],m(w.error,"Undefined")&&"invalid"!==w.type&&(N.indexOf(w.type)>-1?(v=i(t.relativeBase,w.uri),g=r.indexOf(v)):(v=w.uri,g=n.indexOf(v)),w.ancestorPtrs=h,w.indirect=a,g===-1?N.indexOf(w.type)>-1?l=l.then(function(){return d(v,t).then(function(e){return s("remote",e,m(w.uriDetails.fragment,"Undefined")?[]:S(decodeURI(w.uriDetails.fragment)),w,t,r.concat(v),n.concat(x),o,a)}).catch(function(e){w.error=e.message,w.missing=!0})}):0!==x.indexOf(v+"/")&&x!==v&&0!==p.indexOf(v+"/")&&p!==v?0!==v.indexOf(p+"/")&&(l=l.then(function(){return s("local",e,S(v),w,t,r.concat(v),n.concat(x),o,a||v.indexOf(p+"/")===-1&&v!==p)})):w.circular=!0:(n.slice(g).forEach(function(e){o.refs[e].circular=!0}),w.circular=!0)))}),l=l.then(function(){function e(i,a,s,l){Object.keys(o.refs).forEach(function(c){var u=o.refs[c];n.indexOf(l)===-1&&r.indexOf(s)===-1&&t.indexOf(l)===-1&&c!==s&&0===c.indexOf(l+"/")&&(a.indexOf(l)>-1?a.forEach(function(e){t.indexOf(l)===-1&&t.push(e)}):e(i.concat(s),a.concat(l),c,u.uri),r.push(s),n.push(l))})}var t=[],r=[],n=[];Object.keys(o.refs).forEach(function(r){var n=o.refs[r];"local"!==n.type||n.circular||t.indexOf(n.uri)!==-1||e([],[],r,n.uri)}),Object.keys(o.refs).forEach(function(e){var r=o.refs[e];t.indexOf(r.uri)>-1&&(r.circular=!0)})}).then(function(){return o})}function c(e,t){var r=e;return t.forEach(function(e){if(e=decodeURI(e),!(e in r))throw Error("JSON Pointer points to missing location: "+P(t));r=r[e]}),r}function u(e){return Object.keys(e).filter(function(e){return"$ref"!==e})}function f(e){var t;switch(e.uriDetails.reference){case"absolute":case"uri":t="remote";break;case"same-document":t="local";break;default:t=e.uriDetails.reference}return t}function d(e,t){var r=U[e],o=Promise.resolve(),i=n(t.loaderOptions||{});return m(r,"Undefined")?(m(i.processContent,"Undefined")&&(i.processContent=function(e,t){t(void 0,JSON.parse(e.text))}),o=D.load(decodeURI(e),i),o=o.then(function(t){return U[e]={value:t},t}).catch(function(t){throw U[e]={error:t},t})):o=o.then(function(){return r.value}),o=o.then(function(e){return n(e)})}function p(e,t){var r=!0;try{if(!m(e,"Object"))throw new Error("obj is not an Object");if(!m(e.$ref,"String"))throw new Error("obj.$ref is not a String")}catch(e){if(t)throw e;r=!1}return r}function m(e,t){return"Undefined"===t?"undefined"==typeof e:Object.prototype.toString.call(e)==="[object "+t+"]"}function h(e){var t,r;return m(e.filter,"Array")||m(e.filter,"String")?(r=m(e.filter,"String")?[e.filter]:e.filter,t=function(e){return r.indexOf(e.type)>-1||r.indexOf(f(e))>-1}):m(e.filter,"Function")?t=e.filter:m(e.filter,"Undefined")&&(t=function(){return!0}),function(r,n){return("invalid"!==r.type||e.includeInvalid===!0)&&t(r,n)}}function y(e){var t;return m(e.subDocPath,"Array")?t=e.subDocPath:m(e.subDocPath,"String")?t=S(e.subDocPath):m(e.subDocPath,"Undefined")&&(t=[]),t}function v(e){return R.parse(encodeURI(decodeURI(e)))}function g(e,t,r){c(e,t.slice(0,t.length-1))[decodeURI(t[t.length-1])]=r}function b(e,t,r,n){function o(t,o){r.push(o),b(e,t,r,n),r.pop()}var i=!0;m(n,"Function")&&(i=n(e,t,r)),e.indexOf(t)===-1&&(e.push(t),i!==!1&&(m(t,"Array")?t.forEach(function(e,t){o(e,t.toString())}):m(t,"Object")&&Object.keys(t).forEach(function(e){o(t[e],e)}))),e.pop()}function x(e,t){if(e=m(e,"Undefined")?{}:n(e),!m(e,"Object"))throw new TypeError("options must be an Object");if(!(m(e.filter,"Undefined")||m(e.filter,"Array")||m(e.filter,"Function")||m(e.filter,"String")))throw new TypeError("options.filter must be an Array, a Function of a String");if(!m(e.includeInvalid,"Undefined")&&!m(e.includeInvalid,"Boolean"))throw new TypeError("options.includeInvalid must be a Boolean");if(!m(e.refPreProcessor,"Undefined")&&!m(e.refPreProcessor,"Function"))throw new TypeError("options.refPreProcessor must be a Function");if(!m(e.refPostProcessor,"Undefined")&&!m(e.refPostProcessor,"Function"))throw new TypeError("options.refPostProcessor must be a Function");if(!m(e.subDocPath,"Undefined")&&!m(e.subDocPath,"Array")&&!T(e.subDocPath))throw new TypeError("options.subDocPath must be an Array of path segments or a valid JSON Pointer");if(e.filter=h(e),e.subDocPath=y(e),!m(t,"Undefined"))try{c(t,e.subDocPath)}catch(e){throw e.message=e.message.replace("JSON Pointer","options.subDocPath"),e}return e}function w(){U={}}function E(e){if(!m(e,"Array"))throw new TypeError("path must be an array");return e.map(function(e){return m(e,"String")||(e=JSON.stringify(e)),decodeURI(e.replace(/~1/g,"/").replace(/~0/g,"~"))})}function $(e){if(!m(e,"Array"))throw new TypeError("path must be an array");return e.map(function(e){return m(e,"String")||(e=JSON.stringify(e)),e.replace(/~/g,"~0").replace(/\//g,"~1")})}function C(e,t){var r={};if(!m(e,"Array")&&!m(e,"Object"))throw new TypeError("obj must be an Array or an Object");return t=x(t,e),b(a(e,t.subDocPath),c(e,t.subDocPath),n(t.subDocPath),function(e,o,i){var a,s=!0;return p(o)&&(m(t.refPreProcessor,"Undefined")||(o=t.refPreProcessor(n(o),i)),a=O(o),m(t.refPostProcessor,"Undefined")||(a=t.refPostProcessor(a,i)),t.filter(a,i)&&(r[P(i)]=a),u(o).length>0&&(s=!1)),s}),r}function k(e,t){var r=Promise.resolve();return r=r.then(function(){if(!m(e,"String"))throw new TypeError("location must be a string");return t=x(t),e=i(t.relativeBase,e),d(e,t)}).then(function(r){var o=n(U[e]),i=n(t),a=v(e);return m(o.refs,"Undefined")&&(delete i.filter,delete i.subDocPath,i.includeInvalid=!0,U[e].refs=C(r,i)),m(t.filter,"Undefined")||(i.filter=t.filter),m(a.fragment,"Undefined")?m(a.subDocPath,"Undefined")||(i.subDocPath=t.subDocPath):i.subDocPath=S(decodeURI(a.fragment)),{refs:C(r,i),value:r}})}function O(e){var t,r,n,o={def:e};try{p(e,!0)?(t=e.$ref,n=H[t],m(n,"Undefined")&&(n=H[t]=v(t)),o.uri=t,o.uriDetails=n,m(n.error,"Undefined")?o.type=f(o):(o.error=o.uriDetails.error,o.type="invalid"),r=u(e),r.length>0&&(o.warning="Extra JSON Reference properties will be ignored: "+r.join(", "))):o.type="invalid"}catch(e){o.error=e.message,o.type="invalid"}return o}function T(e,t){var r,n=!0;try{if(!m(e,"String"))throw new Error("ptr is not a String");if(""!==e){if(r=e.charAt(0),["#","/"].indexOf(r)===-1)throw new Error("ptr must start with a / or #/");if("#"===r&&"#"!==e&&"/"!==e.charAt(1))throw new Error("ptr must start with a / or #/");if(e.match(q))throw new Error("ptr has invalid token(s)")}}catch(e){if(t===!0)throw e;n=!1}return n}function A(e,t){return p(e,t)&&"invalid"!==O(e,t).type}function S(e){if(!T(e))throw new Error("ptr must be a JSON Pointer");var t=e.split("/");return t.shift(),E(t)}function P(e,t){if(!m(e,"Array"))throw new Error("path must be an Array");return(t!==!1?"#":"")+(e.length>0?"/":"")+$(e).join("/")}function M(e,t){var r=Promise.resolve();return r=r.then(function(){if(!m(e,"Array")&&!m(e,"Object"))throw new TypeError("obj must be an Array or an Object");t=x(t,e),e=n(e)}).then(function(){return l(e,t,[],[],{documents:{},refs:{}})}).then(function(t){function r(e,t){return S(e).length-S(t).length}var n={},o={};return Object.keys(t.refs).sort(r).forEach(function(r){var i=t.refs[r];i.indirect||(o[r]=i),delete i.indirect,m(i.error,"Undefined")&&"invalid"!==i.type?(m(i.value,"Undefined")&&i.circular&&(i.value=i.def),m(i.value,"Undefined")?n[r]=i:("#"===r?e=i.value:g(e,S(r),i.value),delete i.ancestorPtrs)):delete i.ancestorPtrs}),Object.keys(n).forEach(function(r){var o=n[r];o.ancestorPtrs.forEach(function(n,i){if(m(o.value,"Undefined"))try{o.value=c(t.documents[n],S(o.uri)),delete o.ancestorPtrs,g(e,S(r),o.value)}catch(e){i===o.ancestorPtrs.length-1&&(o.error=e.message,o.missing=!0,delete o.ancestorPtrs)}})}),{refs:o,resolved:e}})}function j(e,t){var r=Promise.resolve();return r=r.then(function(){if(!m(e,"String"))throw new TypeError("location must be a string");return t=x(t),e=i(t.relativeBase,e),d(e,t)}).then(function(r){var o=n(t),i=v(e);return m(i.fragment,"Undefined")||(o.subDocPath=S(decodeURI(i.fragment))),o.relativeBase=I.dirname(e),M(r,o).then(function(e){return{refs:e.refs,resolved:e.resolved,value:r}})})}var I=e("path"),D=e("path-loader"),_=e("querystring"),F=e("slash"),R=e("uri-js"),q=/~(?:[^01]|$)/g,U={},N=["relative","remote"],L=["absolute","uri"],H={};"undefined"==typeof Promise&&e("native-promise-only"),t.exports.clearCache=w,t.exports.decodePath=E,t.exports.encodePath=$,t.exports.findRefs=C,t.exports.findRefsAt=k,t.exports.getRefDetails=O,t.exports.isPtr=T,t.exports.isRef=A,t.exports.pathFromPtr=S,t.exports.pathToPtr=P,t.exports.resolveRefs=M,t.exports.resolveRefsAt=j},{"native-promise-only":3,path:4,"path-loader":5,querystring:11,slash:13,"uri-js":23}],2:[function(e,t,r){function n(e){if(e)return o(e)}function o(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}t.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var n,o=0;o<r.length;o++)if(n=r[o],n===t||n.fn===t){r.splice(o,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),r=this._callbacks["$"+e];if(r){r=r.slice(0);for(var n=0,o=r.length;n<o;++n)r[n].apply(this,t)}return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],3:[function(n,o,i){(function(t){/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/
!function(t,r,n){r[t]=r[t]||n(),"undefined"!=typeof o&&o.exports?o.exports=r[t]:"function"==typeof e&&e.amd&&e(function(){return r[t]})}("Promise","undefined"!=typeof t?t:this,function(){"use strict";function e(e,t){m.add(e,t),p||(p=y(m.drain))}function t(e){var t,r="undefined"==typeof e?"undefined":c(e);return null==e||"object"!=r&&"function"!=r||(t=e.then),"function"==typeof t&&t}function n(){for(var e=0;e<this.chain.length;e++)o(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function o(e,r,n){var o,i;try{r===!1?n.reject(e.msg):(o=r===!0?e.msg:r.call(void 0,e.msg),o===n.promise?n.reject(TypeError("Promise-chain cycle")):(i=t(o))?i.call(o,n.resolve,n.reject):n.resolve(o))}catch(e){n.reject(e)}}function i(r){var o,s=this;if(!s.triggered){s.triggered=!0,s.def&&(s=s.def);try{(o=t(r))?e(function(){var e=new l(s);try{o.call(r,function(){i.apply(e,arguments)},function(){a.apply(e,arguments)})}catch(t){a.call(e,t)}}):(s.msg=r,s.state=1,s.chain.length>0&&e(n,s))}catch(e){a.call(new l(s),e)}}}function a(t){var r=this;r.triggered||(r.triggered=!0,r.def&&(r=r.def),r.msg=t,r.state=2,r.chain.length>0&&e(n,r))}function s(e,t,r,n){for(var o=0;o<t.length;o++)!function(o){e.resolve(t[o]).then(function(e){r(o,e)},n)}(o)}function l(e){this.def=e,this.triggered=!1}function u(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function f(t){if("function"!=typeof t)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var r=new u(this);this.then=function(t,o){var i={success:"function"!=typeof t||t,failure:"function"==typeof o&&o};return i.promise=new this.constructor(function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");i.resolve=e,i.reject=t}),r.chain.push(i),0!==r.state&&e(n,r),i.promise},this.catch=function(e){return this.then(void 0,e)};try{t.call(void 0,function(e){i.call(r,e)},function(e){a.call(r,e)})}catch(e){a.call(r,e)}}var d,p,m,h=Object.prototype.toString,y="undefined"!=typeof r?function(e){return r(e)}:setTimeout;try{Object.defineProperty({},"x",{}),d=function(e,t,r,n){return Object.defineProperty(e,t,{value:r,writable:!0,configurable:n!==!1})}}catch(e){d=function(e,t,r){return e[t]=r,e}}m=function(){function e(e,t){this.fn=e,this.self=t,this.next=void 0}var t,r,n;return{add:function(o,i){n=new e(o,i),r?r.next=n:t=n,r=n,n=void 0},drain:function(){var e=t;for(t=r=p=void 0;e;)e.fn.call(e.self),e=e.next}}}();var v=d({},"constructor",f,!1);return f.prototype=v,d(v,"__NPO__",0,!1),d(f,"resolve",function(e){var t=this;return e&&"object"==("undefined"==typeof e?"undefined":c(e))&&1===e.__NPO__?e:new t(function(t,r){if("function"!=typeof t||"function"!=typeof r)throw TypeError("Not a function");t(e)})}),d(f,"reject",function(e){return new this(function(t,r){if("function"!=typeof t||"function"!=typeof r)throw TypeError("Not a function");r(e)})}),d(f,"all",function(e){var t=this;return"[object Array]"!=h.call(e)?t.reject(TypeError("Not an array")):0===e.length?t.resolve([]):new t(function(r,n){if("function"!=typeof r||"function"!=typeof n)throw TypeError("Not a function");var o=e.length,i=Array(o),a=0;s(t,e,function(e,t){i[e]=t,++a===o&&r(i)},n)})}),d(f,"race",function(e){var t=this;return"[object Array]"!=h.call(e)?t.reject(TypeError("Not an array")):new t(function(r,n){if("function"!=typeof r||"function"!=typeof n)throw TypeError("Not a function");s(t,e,function(e,t){r(t)},n)})}),f})}).call(this,"undefined"!=typeof t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(e,t,r){(function(e){function t(e,t){for(var r=0,n=e.length-1;n>=0;n--){var o=e[n];"."===o?e.splice(n,1):".."===o?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}function n(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(e){return o.exec(e).slice(1)};r.resolve=function(){for(var r="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var a=i>=0?arguments[i]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(r=a+"/"+r,o="/"===a.charAt(0))}return r=t(n(r.split("/"),function(e){return!!e}),!o).join("/"),(o?"/":"")+r||"."},r.normalize=function(e){var o=r.isAbsolute(e),i="/"===a(e,-1);return e=t(n(e.split("/"),function(e){return!!e}),!o).join("/"),e||o||(e="."),e&&i&&(e+="/"),(o?"/":"")+e},r.isAbsolute=function(e){return"/"===e.charAt(0)},r.join=function(){var e=Array.prototype.slice.call(arguments,0);return r.normalize(n(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},r.relative=function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=r.resolve(e).substr(1),t=r.resolve(t).substr(1);for(var o=n(e.split("/")),i=n(t.split("/")),a=Math.min(o.length,i.length),s=a,l=0;l<a;l++)if(o[l]!==i[l]){s=l;break}for(var c=[],l=s;l<o.length;l++)c.push("..");return c=c.concat(i.slice(s)),c.join("/")},r.sep="/",r.delimiter=":",r.dirname=function(e){var t=i(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},r.basename=function(e,t){var r=i(e)[2];return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},r.extname=function(e){return i(e)[3]};var a="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)}}).call(this,e("_process"))},{_process:8}],5:[function(e,t,r){"use strict";function n(e){return"undefined"!=typeof e&&(e=e.indexOf("://")===-1?"":e.split("://")[0]),e}function o(e){var t=n(e),r=i[t];if("undefined"==typeof r){if(""!==t)throw new Error("Unsupported scheme: "+t);r=a}return r}var i={file:e("./lib/loaders/file"),http:e("./lib/loaders/http"),https:e("./lib/loaders/http")},a="object"===("undefined"==typeof window?"undefined":c(window))||"function"==typeof importScripts?i.http:i.file;"undefined"==typeof Promise&&e("native-promise-only"),t.exports.load=function(e,t){var r=Promise.resolve();return"undefined"==typeof t&&(t={}),r=r.then(function(){if("undefined"==typeof e)throw new TypeError("location is required");if("string"!=typeof e)throw new TypeError("location must be a string");if("undefined"!=typeof t){if("object"!==("undefined"==typeof t?"undefined":c(t)))throw new TypeError("options must be an object");if("undefined"!=typeof t.processContent&&"function"!=typeof t.processContent)throw new TypeError("options.processContent must be a function")}}),r=r.then(function(){return new Promise(function(r,n){var i=o(e);i.load(e,t||{},function(e,t){e?n(e):r(t)})})}).then(function(e){return t.processContent?new Promise(function(r,n){t.processContent("object"===("undefined"==typeof e?"undefined":c(e))?e:{text:e},function(e,t){e?n(e):r(t)})}):"object"===("undefined"==typeof e?"undefined":c(e))?e.text:e})}},{"./lib/loaders/file":6,"./lib/loaders/http":7,"native-promise-only":3}],6:[function(e,t,r){"use strict";var n=new TypeError("The 'file' scheme is not supported in the browser");t.exports.getBase=function(){throw n},t.exports.load=function(){var e=arguments[arguments.length-1];if("function"!=typeof e)throw n;e(n)}},{}],7:[function(e,t,r){"use strict";var n=e("superagent"),o=["delete","get","head","patch","post","put"];t.exports.load=function(e,t,r){function i(e,t){e?r(e):("function"==typeof t.buffer&&t.buffer(!0),t.end(function(e,t){e?r(e):r(void 0,t)}))}var a,s,l=t.method?t.method.toLowerCase():"get";if("undefined"!=typeof t.method?"string"!=typeof t.method?a=new TypeError("options.method must be a string"):o.indexOf(t.method)===-1&&(a=new TypeError("options.method must be one of the following: "+o.slice(0,o.length-1).join(", ")+" or "+o[o.length-1])):"undefined"!=typeof t.prepareRequest&&"function"!=typeof t.prepareRequest&&(a=new TypeError("options.prepareRequest must be a function")),a)r(a);else if(s=n["delete"===l?"del":l](e),t.prepareRequest)try{t.prepareRequest(s,i)}catch(e){r(e)}else i(void 0,s)}},{superagent:14}],8:[function(e,t,r){function n(){u=!1,s.length?c=s.concat(c):f=-1,c.length&&o()}function o(){if(!u){var e=setTimeout(n);u=!0;for(var t=c.length;t;){for(s=c,c=[];++f<t;)s&&s[f].run();f=-1,t=c.length}s=null,u=!1,clearTimeout(e)}}function i(e,t){this.fun=e,this.array=t}function a(){}var s,l=t.exports={},c=[],u=!1,f=-1;l.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new i(e,t)),1!==c.length||u||setTimeout(o,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=a,l.addListener=a,l.once=a,l.off=a,l.removeListener=a,l.removeAllListeners=a,l.emit=a,l.binding=function(e){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(e){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],9:[function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,r,i){t=t||"&",r=r||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var l=1e3;i&&"number"==typeof i.maxKeys&&(l=i.maxKeys);var c=e.length;l>0&&c>l&&(c=l);for(var u=0;u<c;++u){var f,d,p,m,h=e[u].replace(s,"%20"),y=h.indexOf(r);y>=0?(f=h.substr(0,y),d=h.substr(y+1)):(f=h,d=""),p=decodeURIComponent(f),m=decodeURIComponent(d),n(a,p)?o(a[p])?a[p].push(m):a[p]=[a[p],m]:a[p]=m}return a};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],10:[function(e,t,r){"use strict";function n(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var o=function(e){switch("undefined"==typeof e?"undefined":c(e)){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,r,s){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"===("undefined"==typeof e?"undefined":c(e))?n(a(e),function(a){var s=encodeURIComponent(o(a))+r;return i(e[a])?n(e[a],function(e){return s+encodeURIComponent(o(e))}).join(t):s+encodeURIComponent(o(e[a]))}).join(t):s?encodeURIComponent(o(s))+r+encodeURIComponent(o(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},{}],11:[function(e,t,r){"use strict";r.decode=r.parse=e("./decode"),r.encode=r.stringify=e("./encode")},{"./decode":9,"./encode":10}],12:[function(e,t,r){t.exports=function(e,t,r){for(var n=0,o=e.length,i=3==arguments.length?r:e[n++];n<o;)i=t.call(null,i,e[n],++n,e);return i}},{}],13:[function(e,t,r){"use strict";t.exports=function(e){var t=/^\\\\\?\\/.test(e),r=/[^\x00-\x80]+/.test(e);return t||r?e:e.replace(/\\/g,"/")}},{}],14:[function(e,t,r){function n(){}function o(e){var t={}.toString.call(e);switch(t){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function i(e){if(!b(e))return e;var t=[];for(var r in e)null!=e[r]&&a(t,r,e[r]);return t.join("&")}function a(e,t,r){return Array.isArray(r)?r.forEach(function(r){a(e,t,r)}):void e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}function s(e){for(var t,r,n={},o=e.split("&"),i=0,a=o.length;i<a;++i)r=o[i],t=r.split("="),n[decodeURIComponent(t[0])]=decodeURIComponent(t[1]);return n}function l(e){var t,r,n,o,i=e.split(/\r?\n/),a={};i.pop();for(var s=0,l=i.length;s<l;++s)r=i[s],t=r.indexOf(":"),n=r.slice(0,t).toLowerCase(),o=w(r.slice(t+1)),a[n]=o;return a}function c(e){return/[\/+]json\b/.test(e)}function u(e){return e.split(/ *; */).shift()}function f(e){return v(e.split(/ *; */),function(e,t){var r=t.split(/ *= */),n=r.shift(),o=r.shift();return n&&o&&(e[n]=o),e},{})}function d(e,t){t=t||{},this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"==typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this.setStatusProperties(this.xhr.status),this.header=this.headers=l(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function p(e,t){var r=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",function(){var e=null,t=null;try{t=new d(r)}catch(t){return e=new Error("Parser is unable to parse the response"),e.parse=!0,e.original=t,e.rawResponse=r.xhr&&r.xhr.responseText?r.xhr.responseText:null,e.statusCode=r.xhr&&r.xhr.status?r.xhr.status:null,r.callback(e)}if(r.emit("response",t),e)return r.callback(e,t);if(t.status>=200&&t.status<300)return r.callback(e,t);var n=new Error(t.statusText||"Unsuccessful HTTP response");n.original=e,n.response=t,n.status=t.status,r.callback(n,t)})}function m(e,t){var r=x("DELETE",e);return t&&r.end(t),r}var h,y=e("emitter"),v=e("reduce"),g=e("./request-base"),b=e("./is-object");h="undefined"!=typeof window?window:"undefined"!=typeof self?self:this;var x=t.exports=e("./request").bind(null,p);x.getXHR=function(){if(!(!h.XMLHttpRequest||h.location&&"file:"==h.location.protocol&&h.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}return!1};var w="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};x.serializeObject=i,x.parseString=s,x.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},x.serialize={"application/x-www-form-urlencoded":i,"application/json":JSON.stringify},x.parse={"application/x-www-form-urlencoded":s,"application/json":JSON.parse},d.prototype.get=function(e){return this.header[e.toLowerCase()]},d.prototype.setHeaderProperties=function(e){var t=this.header["content-type"]||"";this.type=u(t);var r=f(t);for(var n in r)this[n]=r[n]},d.prototype.parseBody=function(e){var t=x.parse[this.type];return!t&&c(this.type)&&(t=x.parse["application/json"]),t&&e&&(e.length||e instanceof Object)?t(e):null},d.prototype.setStatusProperties=function(e){1223===e&&(e=204);var t=e/100|0;this.status=this.statusCode=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.clientError=4==t,this.serverError=5==t,this.error=(4==t||5==t)&&this.toError(),this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.notFound=404==e,this.forbidden=403==e},d.prototype.toError=function(){var e=this.req,t=e.method,r=e.url,n="cannot "+t+" "+r+" ("+this.status+")",o=new Error(n);return o.status=this.status,o.method=t,o.url=r,o},x.Response=d,y(p.prototype);for(var E in g)p.prototype[E]=g[E];p.prototype.abort=function(){if(!this.aborted)return this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this},p.prototype.type=function(e){return this.set("Content-Type",x.types[e]||e),this},p.prototype.responseType=function(e){return this._responseType=e,this},p.prototype.accept=function(e){return this.set("Accept",x.types[e]||e),this},p.prototype.auth=function(e,t,r){switch(r||(r={type:"basic"}),r.type){case"basic":var n=btoa(e+":"+t);this.set("Authorization","Basic "+n);break;case"auto":this.username=e,this.password=t}return this},p.prototype.query=function(e){return"string"!=typeof e&&(e=i(e)),e&&this._query.push(e),this},p.prototype.attach=function(e,t,r){return this._getFormData().append(e,t,r||t.name),this},p.prototype._getFormData=function(){return this._formData||(this._formData=new h.FormData),this._formData},p.prototype.send=function(e){var t=b(e),r=this._header["content-type"];if(t&&b(this._data))for(var n in e)this._data[n]=e[n];else"string"==typeof e?(r||this.type("form"),r=this._header["content-type"],"application/x-www-form-urlencoded"==r?this._data=this._data?this._data+"&"+e:e:this._data=(this._data||"")+e):this._data=e;return!t||o(e)?this:(r||this.type("json"),this)},d.prototype.parse=function(e){return h.console&&console.warn("Client-side parse() method has been renamed to serialize(). This method is not compatible with superagent v2.0"),this.serialize(e),this},d.prototype.serialize=function(e){return this._parser=e,this},p.prototype.callback=function(e,t){var r=this._callback;this.clearTimeout(),r(e,t)},p.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},p.prototype.timeoutError=function(){var e=this._timeout,t=new Error("timeout of "+e+"ms exceeded");t.timeout=e,this.callback(t)},p.prototype.withCredentials=function(){return this._withCredentials=!0,this},p.prototype.end=function(e){var t=this,r=this.xhr=x.getXHR(),i=this._query.join("&"),a=this._timeout,s=this._formData||this._data;this._callback=e||n,r.onreadystatechange=function(){if(4==r.readyState){var e;try{e=r.status}catch(t){e=0}if(0==e){if(t.timedout)return t.timeoutError();if(t.aborted)return;return t.crossDomainError()}t.emit("end")}};var l=function(e){e.total>0&&(e.percent=e.loaded/e.total*100),e.direction="download",t.emit("progress",e)};this.hasListeners("progress")&&(r.onprogress=l);try{r.upload&&this.hasListeners("progress")&&(r.upload.onprogress=l)}catch(e){}if(a&&!this._timer&&(this._timer=setTimeout(function(){t.timedout=!0,t.abort()},a)),i&&(i=x.serializeObject(i),this.url+=~this.url.indexOf("?")?"&"+i:"?"+i),this.username&&this.password?r.open(this.method,this.url,!0,this.username,this.password):r.open(this.method,this.url,!0),this._withCredentials&&(r.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof s&&!o(s)){var u=this._header["content-type"],f=this._parser||x.serialize[u?u.split(";")[0]:""];!f&&c(u)&&(f=x.serialize["application/json"]),f&&(s=f(s))}for(var d in this.header)null!=this.header[d]&&r.setRequestHeader(d,this.header[d]);return this._responseType&&(r.responseType=this._responseType),this.emit("request",this),r.send("undefined"!=typeof s?s:null),this},x.Request=p,x.get=function(e,t,r){var n=x("GET",e);return"function"==typeof t&&(r=t,t=null),t&&n.query(t),r&&n.end(r),n},x.head=function(e,t,r){var n=x("HEAD",e);return"function"==typeof t&&(r=t,t=null),t&&n.send(t),r&&n.end(r),n},x.del=m,x.delete=m,x.patch=function(e,t,r){var n=x("PATCH",e);return"function"==typeof t&&(r=t,t=null),t&&n.send(t),r&&n.end(r),n},x.post=function(e,t,r){var n=x("POST",e);return"function"==typeof t&&(r=t,t=null),t&&n.send(t),r&&n.end(r),n},x.put=function(e,t,r){var n=x("PUT",e);return"function"==typeof t&&(r=t,t=null),t&&n.send(t),r&&n.end(r),n}},{"./is-object":15,"./request":17,"./request-base":16,emitter:2,reduce:12}],15:[function(e,t,r){function n(e){return null!=e&&"object"==("undefined"==typeof e?"undefined":c(e))}t.exports=n},{}],16:[function(e,t,r){var n=e("./is-object");r.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},r.parse=function(e){return this._parser=e,this},r.timeout=function(e){return this._timeout=e,this},r.then=function(e,t){return this.end(function(r,n){r?t(r):e(n)})},r.use=function(e){return e(this),this},r.get=function(e){return this._header[e.toLowerCase()]},r.getHeader=r.get,r.set=function(e,t){if(n(e)){for(var r in e)this.set(r,e[r]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},r.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},r.field=function(e,t){return this._getFormData().append(e,t),this}},{"./is-object":15}],17:[function(e,t,r){function n(e,t,r){return"function"==typeof r?new e("GET",t).end(r):2==arguments.length?new e("GET",t):new e(t,r)}t.exports=n},{}],18:[function(e,t,r){/*! https://mths.be/punycode v1.3.2 by @mathias, modified for URI.js */var n=function(){function e(e){throw new RangeError(k[e])}function t(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function r(e,r){var n=e.split("@"),o="";n.length>1&&(o=n[0]+"@",e=n[1]),e=e.replace(C,".");var i=e.split("."),a=t(i,r).join(".");return o+a}function n(e){for(var t,r,n=[],o=0,i=e.length;o<i;)t=e.charCodeAt(o++),t>=55296&&t<=56319&&o<i?(r=e.charCodeAt(o++),56320==(64512&r)?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),o--)):n.push(t);return n}function o(e){return t(e,function(e){var t="";return e>65535&&(e-=65536,t+=A(e>>>10&1023|55296),e=56320|1023&e),t+=A(e)}).join("")}function i(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:m}function a(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function s(e,t,r){var n=0;for(e=r?T(e/g):e>>1,e+=T(e/t);e>O*y>>1;n+=m)e=T(e/O);return T(n+(O+1)*e/(e+v))}function l(t){var r,n,a,l,c,u,f,d,v,g,E=[],$=t.length,C=0,k=x,O=b;for(n=t.lastIndexOf(w),n<0&&(n=0),a=0;a<n;++a)t.charCodeAt(a)>=128&&e("not-basic"),E.push(t.charCodeAt(a));for(l=n>0?n+1:0;l<$;){for(c=C,u=1,f=m;l>=$&&e("invalid-input"),d=i(t.charCodeAt(l++)),(d>=m||d>T((p-C)/u))&&e("overflow"),C+=d*u,v=f<=O?h:f>=O+y?y:f-O,!(d<v);f+=m)g=m-v,u>T(p/g)&&e("overflow"),u*=g;r=E.length+1,O=s(C-c,r,0==c),T(C/r)>p-k&&e("overflow"),k+=T(C/r),C%=r,E.splice(C++,0,k)}return o(E)}function c(t){var r,o,i,l,c,u,f,d,v,g,E,$,C,k,O,S=[];for(t=n(t),$=t.length,r=x,o=0,c=b,u=0;u<$;++u)E=t[u],E<128&&S.push(A(E));for(i=l=S.length,l&&S.push(w);i<$;){for(f=p,u=0;u<$;++u)E=t[u],E>=r&&E<f&&(f=E);for(C=i+1,f-r>T((p-o)/C)&&e("overflow"),o+=(f-r)*C,r=f,u=0;u<$;++u)if(E=t[u],E<r&&++o>p&&e("overflow"),E==r){for(d=o,v=m;g=v<=c?h:v>=c+y?y:v-c,!(d<g);v+=m)O=d-g,k=m-g,S.push(A(a(g+O%k,0))),d=T(O/k);S.push(A(a(d,0))),c=s(o,C,i==l),o=0,++i}++o,++r}return S.join("")}function u(e){return r(e,function(e){return E.test(e)?l(e.slice(4).toLowerCase()):e})}function f(e){return r(e,function(e){return $.test(e)?"xn--"+c(e):e})}var d,p=2147483647,m=36,h=1,y=26,v=38,g=700,b=72,x=128,w="-",E=/^xn--/,$=/[^\x20-\x7E]/,C=/[\x2E\u3002\uFF0E\uFF61]/g,k={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},O=m-h,T=Math.floor,A=String.fromCharCode;return d={version:"1.3.2",ucs2:{decode:n,encode:o},decode:l,encode:c,toASCII:f,toUnicode:u}}();"undefined"==typeof COMPILED&&"undefined"!=typeof t&&(t.exports=n)},{}],19:[function(e,t,r){e("./schemes/http"),e("./schemes/urn"),e("./schemes/mailto")},{"./schemes/http":20,"./schemes/mailto":21,"./schemes/urn":22}],20:[function(e,t,r){if("undefined"==typeof COMPILED&&"undefined"==typeof n&&"function"==typeof e)var n=e("../uri");n.SCHEMES.http=n.SCHEMES.https={domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){return e.port!==("https"!==String(e.scheme).toLowerCase()?80:443)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}}},{"../uri":23}],21:[function(e,t,r){if("undefined"==typeof COMPILED&&"undefined"==typeof n&&"function"==typeof e)var n=e("../uri"),o=e("../punycode");!function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];if(e.length>1){e[0]=e[0].slice(0,-1);for(var r=e.length-1,n=1;n<r;++n)e[n]=e[n].slice(1,-1);return e[r]=e[r].slice(1),e.join("")}return e[0]}function t(e){return"(?:"+e+")"}function r(e){return e.toUpperCase()}function i(e){var t=n.pctDecChars(e);return t.match(M)?t:e}function a(e){return void 0!==e&&null!==e?e instanceof Array&&!e.callee?e:"number"!=typeof e.length||e.split||e.setInterval||e.call?[e]:Array.prototype.slice.call(e):[]}var s={},l=n.IRI_SUPPORT,c="[A-Za-z0-9\\-\\.\\_\\~"+(l?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",u="[0-9A-Fa-f]",f=t(t("%[EFef]"+u+"%"+u+u+"%"+u+u)+"|"+t("%[89A-Fa-f]"+u+"%"+u+u)+"|"+t("%"+u+u)),d="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",p="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",m=e(p,'[\\"\\\\]'),h=t(d+"+"+t("\\."+d+"+")+"*"),y=t("\\\\"+m),v=t(p+"|"+y),g=t('\\"'+v+'*\\"'),b="[\\x21-\\x5A\\x5E-\\x7E]",x="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",w=t(c+"|"+f+"|"+x),E=t(h+"|\\["+b+"*\\]"),$=t(h+"|"+g),C=t($+"\\@"+E),k=t(C+t("\\,"+C)+"*"),O=t(w+"*"),T=O,A=t(O+"\\="+T),S=t(A+t("\\&"+A)+"*"),P=t("\\?"+S),M=(n.VALIDATE_SUPPORT&&new RegExp("^mailto\\:"+k+"?"+P+"?$"),new RegExp(c,"g")),j=new RegExp(f,"g"),I=new RegExp(e("[^]",d,"[\\.]",'[\\"]',m),"g"),D=new RegExp(e("[^]",d,"[\\.]","[\\[]",b,"[\\]]"),"g"),_=new RegExp(e("[^]",c,x),"g"),F=_,R=n.VALIDATE_SUPPORT&&new RegExp("^"+k+"$"),q=n.VALIDATE_SUPPORT&&new RegExp("^"+S+"$");n.SCHEMES.mailto={parse:function(e,t){n.VALIDATE_SUPPORT&&!e.error&&(e.path&&!R.test(e.path)?e.error="Email address is not valid":e.query&&!q.test(e.query)&&(e.error="Header fields are invalid"));var r=e.to=e.path?e.path.split(","):[];if(e.path=void 0,e.query){for(var i=!1,a={},s=e.query.split("&"),l=0,c=s.length;l<c;++l){var u=s[l].split("=");switch(u[0]){case"to":for(var f=u[1].split(","),d=0,p=f.length;d<p;++d)r.push(f[d]);break;case"subject":e.subject=n.unescapeComponent(u[1],t);break;case"body":e.body=n.unescapeComponent(u[1],t);break;default:i=!0,a[n.unescapeComponent(u[0],t)]=n.unescapeComponent(u[1],t)}}i&&(e.headers=a)}e.query=void 0;for(var l=0,c=r.length;l<c;++l){var m=r[l].split("@");if(m[0]=n.unescapeComponent(m[0]),"undefined"==typeof o||t.unicodeSupport)m[1]=n.unescapeComponent(m[1],t).toLowerCase();else try{m[1]=o.toASCII(n.unescapeComponent(m[1],t).toLowerCase())}catch(t){e.error=e.error||"Email address's domain name can not be converted to ASCII via punycode: "+t}r[l]=m.join("@")}return e},serialize:function(e,t){var l=a(e.to);if(l){for(var c=0,u=l.length;c<u;++c){var f=String(l[c]),d=f.lastIndexOf("@"),p=f.slice(0,d),m=f.slice(d+1);if(p=p.replace(j,i).replace(j,r).replace(I,n.pctEncChar),"undefined"!=typeof o)try{m=t.iri?o.toUnicode(m):o.toASCII(n.unescapeComponent(m,t).toLowerCase())}catch(r){e.error=e.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+r}else m=m.replace(j,i).toLowerCase().replace(j,r).replace(D,n.pctEncChar);l[c]=p+"@"+m}e.path=l.join(",")}var h=e.headers=e.headers||{};e.subject&&(h.subject=e.subject),e.body&&(h.body=e.body);var y=[];for(var v in h)h[v]!==s[v]&&y.push(v.replace(j,i).replace(j,r).replace(_,n.pctEncChar)+"="+h[v].replace(j,i).replace(j,r).replace(F,n.pctEncChar));return y.length&&(e.query=y.join("&")),e}}}()},{"../punycode":18,"../uri":23}],22:[function(e,t,r){if("undefined"==typeof COMPILED&&"undefined"==typeof n&&"function"==typeof e)var n=e("../uri");!function(){var e=n.pctEncChar,t="(?:[0-9A-Za-z][0-9A-Za-z\\-]{1,31})",r="(?:\\%[0-9A-Fa-f]{2})",o="[0-9A-Za-z\\(\\)\\+\\,\\-\\.\\:\\=\\@\\;\\$\\_\\!\\*\\'\\/\\?\\#]",i="(?:(?:"+r+"|"+o+")+)",a=new RegExp("^urn\\:("+t+")$"),s=new RegExp("^("+t+")\\:("+i+")$"),l=/^([^\:]+)\:(.*)/,c=/[\x00-\x20\\\"\&\<\>\[\]\^\`\{\|\}\~\x7F-\xFF]/g,u=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/;n.SCHEMES.urn={parse:function(e,t){var r,o,i=e.path.match(s);return i||(t.tolerant||(e.error=e.error||"URN is not strictly valid."),i=e.path.match(l)),i?(r="urn:"+i[1].toLowerCase(),o=n.SCHEMES[r],o||(o=n.SCHEMES[r]={parse:function(e,t){return e},serialize:n.SCHEMES.urn.serialize}),e.scheme=r,e.path=i[2],e=o.parse(e,t)):e.error=e.error||"URN can not be parsed.",e},serialize:function(t,r){var n,o=t.scheme||r.scheme;if(o&&"urn"!==o){var n=o.match(a);n||(n=["urn:"+o,o]),t.scheme="urn",t.path=n[1]+":"+(t.path?t.path.replace(c,e):"")}return t}},n.SCHEMES["urn:uuid"]={parse:function(e,t){return t.tolerant||e.path&&e.path.match(u)||(e.error=e.error||"UUID is not valid."),e},serialize:function(e,t){return t.tolerant||e.path&&e.path.match(u)?e.path=(e.path||"").toLowerCase():e.scheme=void 0,n.SCHEMES.urn.serialize(e,t)}}}()},{"../uri":23}],23:[function(e,t,r){/**
 * URI.js
 *
 * @fileoverview An RFC 3986 compliant, scheme extendable URI parsing/validating/resolving library for JavaScript.
 * @author <a href="mailto:gary.court@gmail.com">Gary Court</a>
 * @version 2.0.0
 * @see http://github.com/garycourt/uri-js
 * @license URI.js v2.0.0 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js
 */
var n=!1,o=!0,i=!0,a=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];if(e.length>1){e[0]=e[0].slice(0,-1);for(var r=e.length-1,n=1;n<r;++n)e[n]=e[n].slice(1,-1);return e[r]=e[r].slice(1),e.join("")}return e[0]}function t(e){return"(?:"+e+")"}function r(r){var n="[A-Za-z]",o="[0-9]",a=e(o,"[A-Fa-f]"),s=t(t("%[EFef]"+a+"%"+a+a+"%"+a+a)+"|"+t("%[89A-Fa-f]"+a+"%"+a+a)+"|"+t("%"+a+a)),l="[\\:\\/\\?\\#\\[\\]\\@]",c="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",u=e(l,c),f=r?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",d=r?"[\\uE000-\\uF8FF]":"[]",p=e(n,o,"[\\-\\.\\_\\~]",f),m=t(n+e(n,o,"[\\+\\-\\.]")+"*"),h=t(t(s+"|"+e(p,c,"[\\:]"))+"*"),y=t(t("25[0-5]")+"|"+t("2[0-4]"+o)+"|"+t("1"+o+o)+"|"+t("[1-9]"+o)+"|"+o),v=t(y+"\\."+y+"\\."+y+"\\."+y),g=t(a+"{1,4}"),b=(t(t(g+"\\:"+g)+"|"+v),t(e(p,c,"[\\:]")+"+")),x=t("v"+a+"+\\."+e(p,c,"[\\:]")+"+"),w=t("\\["+t(b+"|"+x)+"\\]"),E=t(t(s+"|"+e(p,c))+"*"),$=t(w+"|"+v+"(?!"+E+")|"+E),C=t(o+"*"),k=t(t(h+"@")+"?"+$+t("\\:"+C)+"?"),O=t(s+"|"+e(p,c,"[\\:\\@]")),T=t(O+"*"),A=t(O+"+"),S=t(t(s+"|"+e(p,c,"[\\@]"))+"+"),P=t(t("\\/"+T)+"*"),M=t("\\/"+t(A+P)+"?"),j=t(S+P),I=t(A+P),D="(?!"+O+")",_=(t(P+"|"+M+"|"+j+"|"+I+"|"+D),t(t(O+"|"+e("[\\/\\?]",d))+"*")),F=t(t(O+"|[\\/\\?]")+"*"),R=t(t("\\/\\/"+k+P)+"|"+M+"|"+I+"|"+D),q=t(m+"\\:"+R+t("\\?"+_)+"?"+t("\\#"+F)+"?"),U=t(t("\\/\\/"+k+P)+"|"+M+"|"+j+"|"+D),N=t(U+t("\\?"+_)+"?"+t("\\#"+F)+"?"),L=(t(q+"|"+N),t(m+"\\:"+R+t("\\?"+_)+"?"),"^("+m+")\\:"+t(t("\\/\\/("+t("("+h+")@")+"?("+$+")"+t("\\:("+C+")")+"?)")+"?("+P+"|"+M+"|"+I+"|"+D+")")+t("\\?("+_+")")+"?"+t("\\#("+F+")")+"?$"),H="^(){0}"+t(t("\\/\\/("+t("("+h+")@")+"?("+$+")"+t("\\:("+C+")")+"?)")+"?("+P+"|"+M+"|"+j+"|"+D+")")+t("\\?("+_+")")+"?"+t("\\#("+F+")")+"?$";"^("+m+")\\:"+t(t("\\/\\/("+t("("+h+")@")+"?("+$+")"+t("\\:("+C+")")+"?)")+"?("+P+"|"+M+"|"+I+"|"+D+")")+t("\\?("+_+")")+"?$","^"+t("\\#("+F+")")+"?$","^"+t("("+h+")@")+"?("+$+")"+t("\\:("+C+")")+"?$";return{URI_REF:i&&new RegExp("("+L+")|("+H+")"),NOT_SCHEME:new RegExp(e("[^]",n,o,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(e("[^\\%\\:]",p,c),"g"),NOT_HOST:new RegExp(e("[^\\%]",p,c),"g"),NOT_PATH:new RegExp(e("[^\\%\\/\\:\\@]",p,c),"g"),NOT_PATH_NOSCHEME:new RegExp(e("[^\\%\\/\\@]",p,c),"g"),NOT_QUERY:new RegExp(e("[^\\%]",p,c,"[\\:\\@\\/\\?]",d),"g"),NOT_FRAGMENT:new RegExp(e("[^\\%]",p,c,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(e("[^]",p,c),"g"),UNRESERVED:new RegExp(p,"g"),OTHER_CHARS:new RegExp(e("[^\\%]",p,u),"g"),PCT_ENCODED:new RegExp(s,"g")}}function n(e){var t,r=e.charCodeAt(0);return t=r<16?"%0"+r.toString(16).toUpperCase():r<128?"%"+r.toString(16).toUpperCase():r<2048?"%"+(r>>6|192).toString(16).toUpperCase()+"%"+(63&r|128).toString(16).toUpperCase():"%"+(r>>12|224).toString(16).toUpperCase()+"%"+(r>>6&63|128).toString(16).toUpperCase()+"%"+(63&r|128).toString(16).toUpperCase()}function a(e){for(var t,r,n,o="",i=0,a=e.length;i<a;)t=parseInt(e.substr(i+1,2),16),t<128?(o+=String.fromCharCode(t),i+=3):t>=194&&t<224?(a-i>=6?(r=parseInt(e.substr(i+4,2),16),o+=String.fromCharCode((31&t)<<6|63&r)):o+=e.substr(i,6),i+=6):t>=224?(a-i>=9?(r=parseInt(e.substr(i+4,2),16),n=parseInt(e.substr(i+7,2),16),o+=String.fromCharCode((15&t)<<12|(63&r)<<6|63&n)):o+=e.substr(i,9),i+=9):(o+=e.substr(i,3),i+=3);return o}function l(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function c(e){return e.toUpperCase()}function u(e,t){function r(e){var r=a(e);return r.match(t.UNRESERVED)?r:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,r).replace(t.NOT_USERINFO,n).replace(t.PCT_ENCODED,c)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_HOST,n).replace(t.PCT_ENCODED,c)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,r).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,n).replace(t.PCT_ENCODED,c)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,r).replace(t.NOT_QUERY,n).replace(t.PCT_ENCODED,c)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,r).replace(t.NOT_FRAGMENT,n).replace(t.PCT_ENCODED,c)),e}function f(e,t){void 0===t&&(t={});var r,n,l=o&&t.iri!==!1?E:w,c=!1,f={};if("suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e),i?(r=e.match(l.URI_REF),r&&(r=r[1]?r.slice(1,10):r.slice(10,19)),r||(c=!0,t.tolerant||(f.error=f.error||"URI is not strictly valid."),r=e.match($))):r=e.match($),r){if(A?(f.scheme=r[1],f.userinfo=r[3],f.host=r[4],f.port=parseInt(r[5],10),f.path=r[6]||"",f.query=r[7],f.fragment=r[8],isNaN(f.port)&&(f.port=r[5])):(f.scheme=r[1]||void 0,f.userinfo=e.indexOf("@")!==-1?r[3]:void 0,f.host=e.indexOf("//")!==-1?r[4]:void 0,f.port=parseInt(r[5],10),f.path=r[6]||"",f.query=e.indexOf("?")!==-1?r[7]:void 0,f.fragment=e.indexOf("#")!==-1?r[8]:void 0,isNaN(f.port)&&(f.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?r[4]:void 0)),void 0!==f.scheme||void 0!==f.userinfo||void 0!==f.host||void 0!==f.port||f.path||void 0!==f.query?void 0===f.scheme?f.reference="relative":void 0===f.fragment?f.reference="absolute":f.reference="uri":f.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==f.reference&&(f.error=f.error||"URI is not a "+t.reference+" reference."),n=S[(t.scheme||f.scheme||"").toLowerCase()],!o||"undefined"==typeof s||t.unicodeSupport||n&&n.unicodeSupport)u(f,l);else{if(f.host&&(t.domainHost||n&&n.domainHost))try{f.host=s.toASCII(f.host.replace(l.PCT_ENCODED,a).toLowerCase())}catch(e){f.error=f.error||"Host's domain name can not be converted to ASCII via punycode: "+e}u(f,w)}n&&n.parse&&n.parse(f,t)}else c=!0,f.error=f.error||"URI can not be parsed.";return f}function d(e,t){var r=[];return void 0!==e.userinfo&&(r.push(e.userinfo),r.push("@")),void 0!==e.host&&r.push(e.host),"number"==typeof e.port&&(r.push(":"),r.push(e.port.toString(10))),r.length?r.join(""):void 0}function p(e){for(var t,r=[];e.length;)e.match(C)?e=e.replace(C,""):e.match(k)?e=e.replace(k,"/"):e.match(O)?(e=e.replace(O,"/"),r.pop()):"."===e||".."===e?e="":(t=e.match(T)[0],e=e.slice(t.length),r.push(t));return r.join("")}function m(e,t){void 0===t&&(t={});var r,n,i,l=o&&t.iri?E:w,c=[];if(r=S[(t.scheme||e.scheme||"").toLowerCase()],r&&r.serialize&&r.serialize(e,t),o&&"undefined"!=typeof s&&e.host&&(t.domainHost||r&&r.domainHost))try{e.host=t.iri?s.toUnicode(e.host):s.toASCII(e.host.replace(l.PCT_ENCODED,a).toLowerCase())}catch(r){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+r}return u(e,l),"suffix"!==t.reference&&e.scheme&&(c.push(e.scheme),c.push(":")),n=d(e,t),void 0!==n&&("suffix"!==t.reference&&c.push("//"),c.push(n),e.path&&"/"!==e.path.charAt(0)&&c.push("/")),void 0!==e.path&&(i=e.path,t.absolutePath||r&&r.absolutePath||(i=p(i)),void 0===n&&(i=i.replace(/^\/\//,"/%2F")),c.push(i)),void 0!==e.query&&(c.push("?"),c.push(e.query)),void 0!==e.fragment&&(c.push("#"),c.push(e.fragment)),c.join("")}function h(e,t,r,n){void 0===r&&(r={});var o={};return n||(e=f(m(e,r),r),t=f(m(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(o.scheme=t.scheme,o.userinfo=t.userinfo,o.host=t.host,o.port=t.port,o.path=p(t.path),o.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(o.userinfo=t.userinfo,o.host=t.host,o.port=t.port,o.path=p(t.path),o.query=t.query):(t.path?("/"===t.path.charAt(0)?o.path=p(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?o.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:o.path=t.path:o.path="/"+t.path,o.path=p(o.path)),o.query=t.query):(o.path=e.path,void 0!==t.query?o.query=t.query:o.query=e.query),o.userinfo=e.userinfo,o.host=e.host,o.port=e.port),o.scheme=e.scheme),o.fragment=t.fragment,o}function y(e,t,r){return m(h(f(e,r),f(t,r),r,!0),r)}function v(e,t){return"string"==typeof e?e=m(f(e,t),t):"object"===l(e)&&(e=f(m(e,t),t)),e}function g(e,t,r){return"string"==typeof e?e=m(f(e,r),r):"object"===l(e)&&(e=m(e,r)),"string"==typeof t?t=m(f(t,r),r):"object"===l(t)&&(t=m(t,r)),e===t}function b(e,t){return e&&e.toString().replace(o&&t&&t.iri?E.ESCAPE:w.ESCAPE,n)}function x(e,t){return e&&e.toString().replace(o&&t&&t.iri?E.PCT_ENCODED:w.PCT_ENCODED,a)}var w=r(!1),E=o?r(!0):void 0,$=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?([^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n)*))?/i,C=/^\.\.?\//,k=/^\/\.(\/|$)/,O=/^\/\.\.(\/|$)/,T=/^\/?(?:.|\n)*?(?=\/|$)/,A=void 0==="".match(/(){0}/)[1],S={};return{IRI_SUPPORT:o,VALIDATE_SUPPORT:i,pctEncChar:n,pctDecChars:a,SCHEMES:S,parse:f,_recomposeAuthority:d,removeDotSegments:p,serialize:m,resolveComponents:h,resolve:y,normalize:v,equal:g,escapeComponent:b,unescapeComponent:x}}();if(!n&&"undefined"!=typeof t&&"function"==typeof e){var s=e("./punycode");t.exports=a,e("./schemes")}},{"./punycode":18,"./schemes":19}]},{},[1])(1)})},function(e,t,r){"use strict";function n(e,t){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.i(i.createDefaults)(),c=arguments[3],u=arguments[4],f=arguments[5],d=arguments[6],p=[],m=[];t=t||[];var h=t.indexOf("*");u=u||{};var y={},v=t.indexOf("...");if("object"===("undefined"==typeof e?"undefined":s(e))&&e.hasOwnProperty("properties")){f=f||e.readonly||e.readOnly,y=r.i(i.defaultForm)(e,l,c,u);var g=y.lookup;e=g||e,p=p.concat(y.form)}return h!==-1&&(t=t.slice(0,h).concat(p).concat(t.slice(h+1))),y.form&&v!==-1&&!function(){var e=t.map(function(e){return"string"==typeof e?e:e.key?e.key:void 0}).filter(function(e){return void 0!==e});m=m.concat(y.form.map(function(t){var r=e.indexOf(t.key[0])!==-1;if(!r)return t}).filter(function(e){return void 0!==e}))}(),v!==-1&&(t=t.slice(0,v).concat(m).concat(t.slice(v+1))),t.map(function(t){if("string"==typeof t&&(t={key:t}),t.key&&"string"==typeof t.key&&(t.key=r.i(o.parse)(t.key)),t.titleMap&&(t.titleMap=r.i(a.a)(t.titleMap)),t.key){var i=r.i(o.stringify)(t.key);e[i]&&!function(){var r=e[i];r&&Object.keys(r).forEach(function(e){void 0===t[e]&&(t[e]=r[e])})}()}return f===!0&&(t.readonly=!0),t.items&&(t.items=n(e,t.items,l,c,u,t.readonly,d)),t.tabs&&t.tabs.forEach(function(r){r.items&&(r.items=n(e,r.items,l,c,u,t.readonly,d))}),"checkbox"===t.type&&(void 0===t.schema?t.schema={default:!1}:void 0===t.schema.default&&(t.schema.default=!1)),d&&"template"===t.type&&!t.template&&t.templateUrl&&d.push(t),t})}var o=r(0),i=r(3),a=r(1);t.a=n;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}},function(e,t,r){"use strict";function n(e,t){var r=new Promise(function(t,r){o.resolveRefs(e,{filter:["relative","local","remote"]}).then(function(e){t(e.resolved)}).catch(function(e){r(new Error(e))})});return"function"!=typeof t?r:void r.then(function(e){t(null,e)}).catch(function(e){t(e)})}var o=r(5);r.n(o);t.a=n},function(e,t,r){"use strict";function n(e,t,r){t||(t=this);var n="string"==typeof e?o.parse(e):e;if("undefined"!=typeof r&&1===n.length)return t[n[0]]=r,t;"undefined"!=typeof r&&"undefined"==typeof t[n[0]]&&(t[n[0]]=n.length>2&&i.test(n[1])?[]:{});for(var a=t[n[0]],s=1;s<n.length;s++){if(""===n[s])return;if("undefined"!=typeof r){if(s===n.length-1)return a[n[s]]=r,r;var l=a[n[s]];"undefined"!=typeof l&&null!==l||(l=i.test(n[s+1])?[]:{},a[n[s]]=l),a=l}else a&&(a=a[n[s]])}return a}var o=r(0);t.a=n;var i=/^\d+$/},function(e,t,r){"use strict";function n(e,t,r,n){n=void 0===n||n,r=r||[];var o=function e(t,r,o){if(r(t,o),t.properties&&Object.keys(t.properties).forEach(function(n){var i=o.slice();i.push(n),e(t.properties[n],r,i)}),!n&&t.items){var i=o.slice();i.push(""),e(t.items,r,i)}};o(e,t,r||[])}function o(e,t){t(e),e.items&&e.items.forEach(function(e){o(e,t)}),e.tabs&&e.tabs.forEach(function(e){e.items&&e.items.forEach(function(e){o(e,t)})})}t.a=n,t.b=o},function(e,t,r){"use strict";function n(e,t){if(!e)return{valid:!0};var r=e.schema;if(!r)return{valid:!0};""===t&&(t=void 0),"number"===e.type&&null===t&&(t=void 0);var n={type:"object",properties:{},required:void 0},o=e.key[e.key.length-1];n.properties[o]=r,e.required&&(n.required=[o]);var a={};return"undefined"!=typeof t&&(a[o]=t),i.a.validateResult(a,n)}var o=r(12),i=r.n(o);t.a=n},function(e,t,r){"use strict";var n;!function(o){var i={parse:function(e){if("string"!=typeof e)throw new TypeError("ObjectPath.parse must be passed a string");for(var t,r,n,o,i=0,a=[];i<e.length;)if(t=e.indexOf(".",i),r=e.indexOf("[",i),t===-1&&r===-1)a.push(e.slice(i,e.length)),i=e.length;else if(r===-1||t!==-1&&t<r)a.push(e.slice(i,t)),i=t+1;else if(r>i&&(a.push(e.slice(i,r)),i=r),n=e.slice(r+1,r+2),'"'!==n&&"'"!==n)o=e.indexOf("]",r),o===-1&&(o=e.length),a.push(e.slice(i+1,o)),i="."===e.slice(o+1,o+2)?o+2:o+1;else{for(o=e.indexOf(n+"]",r),o===-1&&(o=e.length);"\\"===e.slice(o-1,o)&&r<e.length;)r++,o=e.indexOf(n+"]",r);a.push(e.slice(i+2,o).replace(new RegExp("\\"+n,"g"),n)),i="."===e.slice(o+2,o+3)?o+3:o+2}return a},stringify:function(e,t){return Array.isArray(e)||(e=[e.toString()]),t='"'===t?'"':"'",e.map(function(e){return"["+t+e.toString().replace(new RegExp(t,"g"),"\\"+t)+t+"]"}).join("")},normalize:function(e,t){return i.stringify(Array.isArray(e)?e:i.parse(e),t)},registerModule:function(e){e.module("ObjectPath",[]).provider("ObjectPath",function(){this.parse=i.parse,this.stringify=i.stringify,this.normalize=i.normalize,this.$get=function(){return i}})}};n=function(){return{ObjectPath:i}}.call(t,r,t,e),!(n!==o&&(e.exports=n))}()},function(e,t){e.exports=tv4},function(e,t,r){e.exports=r(4)}])}).call(t,r(2),r(19).setImmediate)},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=(r.n(n),r(0)),i=r.n(o),a=r(14),s=r(12),l=r(13),c=r(15),u=r(16),f=r(7),d=r(8),p=r(10),m=r(6),h=r(9),y=r(11),v=r(5),g=[];try{i.a.module("ngSanitize"),g.push("ngSanitize")}catch(e){}try{i.a.module("ui.sortable"),g.push("ui.sortable")}catch(e){}try{i.a.module("angularSpectrumColorpicker"),g.push("angularSpectrumColorpicker")}catch(e){}i.a.module("schemaForm",g).provider("sfPath",u.a).provider("sfBuilder",["sfPathProvider",a.a]).provider("schemaFormDecorators",["$compileProvider","sfPathProvider",s.a]).provider("sfErrorMessage",c.a).provider("schemaForm",["sfPathProvider",l.a]).factory("sfSelect",function(){return n.select}).factory("sfValidator",function(){return n.validate}).directive("sfChanged",f.a).directive("sfField",["$parse","$compile","$http","$templateCache","$interpolate","$q","sfErrorMessage","sfPath","sfSelect",d.a]).directive("sfMessage",["$injector","sfErrorMessage",p.a]).directive("sfNewArray",["sfSelect","sfPath","schemaForm",m.a]).directive("sfSchema",["$compile","$http","$templateCache","$q","schemaForm","schemaFormDecorators","sfSelect","sfPath","sfBuilder",y.a]).directive("schemaValidate",["sfValidator","$parse","sfSelect",v.a]).directive("sfKeyController",["schemaForm","sfPath",h.a])},function(e,t,r){"use strict";var n=r(0),o=r.n(n);t.a=function(e,t,r){return{restrict:"A",scope:!1,priority:500,require:"ngModel",link:function(t,n,i,a){t.$emit("schemaFormPropagateNgModelController",a);var s=null,l=t.$eval(i.schemaValidate);l.copyValueTo&&a.$viewChangeListeners.push(function(){var e=l.copyValueTo;o.a.forEach(e,function(e){r(e,t.model,a.$modelValue)})});var c=function(r,n){if(!l)return r;if(t.options&&t.options.tv4Validation===!1)return r;var o=e(l,r);Object.keys(a.$error).filter(function(e){return 0===e.indexOf("tv4-")}).forEach(function(e){a.$setValidity(e,!0)});{if(o.valid||a.$pristine&&!n)return r;if(a.$setValidity("tv4-"+o.error.code,!1),s=o.error,a.$validators)return r}};"function"==typeof l.ngModel&&l.ngModel(a),["$parsers","$viewChangeListeners","$formatters"].forEach(function(e){l[e]&&a[e]&&l[e].forEach(function(t){a[e].push(t)})}),["$validators","$asyncValidators"].forEach(function(e){l[e]&&a[e]&&o.a.forEach(l[e],function(r,n){a[e][n]=function(e,n){return r(e,n,t.model,l)}})}),a.$parsers.push(c),a.$validators&&(a.$validators.schemaForm=function(){return!Object.keys(a.$error).some(function(e){return"schemaForm"!==e})});var u=l.schema;t.validateField=function(e,t){var r=void 0===e;(r||a.$$parentForm.$name===e)&&((r||u&&u.type.indexOf("array")!==-1)&&c(a.$modelValue,t),a.$setDirty?(a.$setDirty(),a.$setViewValue(a.$viewValue),a.$commitViewValue(),"checkbox"===l.type?l.required&&void 0===a.$modelValue&&a.$setValidity("tv4-302",!1):l.required&&a.$isEmpty(a.$modelValue)&&a.$setValidity("tv4-302",!1)):a.$setViewValue(a.$viewValue))};var f=!0;a.$formatters.push(function(e){return!a.$pristine||!f||t.options&&t.options.validateOnRender===!0?(c(a.$modelValue),e):(f=!1,e)}),t.$on("schemaFormValidate",function(e,r){t.validateField(r,!0)}),t.schemaError=function(){return s}}}}},function(e,t,r){"use strict";var n=r(0),o=r.n(n),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.a=function(e,t,r){return{scope:!0,controller:["$scope",function(e){this.key=e.form&&e.form.key?e.form.key.splice(0,-2):[]}],link:function(n,a,s){n.min=0,n.trackBy=function(e,t){return e&&"object"===("undefined"==typeof e?"undefined":i(e))?e:t},n.modelArray=n.$eval(s.sfNewArray);var l=function(){n.modelArray=n.$eval(s.sfNewArray),n.ngModel&&n.ngModel.$pristine&&n.firstDigest&&(!n.options||n.options.validateOnRender!==!0)||n.validateField&&n.validateField()},c=function(){n.form&&n.form.onChange&&(o.a.isFunction(n.form.onChange)?n.form.onChange(n.modelArray,n.form):n.evalExpr(n.form.onChange,{modelValue:n.modelArray,form:n.form}))},u=function(){var r=n.modelArray;if(!r){var o=t.parse(s.sfNewArray);r=[],e(o,n,r),n.modelArray=r}return r},f=n.$watch("form",function(e){if(e){if(e.titleMap||e.startEmpty===!0||n.modelArray&&0!==n.modelArray.length||n.appendToArray(),n.$watch(function(e){return JSON.stringify(e.modelArray)},function(){l(),c()}),e.titleMap&&e.titleMap.length>0){n.titleMapValues=[];var t=function(t){n.titleMapValues=[],t=t||[],e.titleMap.forEach(function(e){n.titleMapValues.push(t.indexOf(e.value)!==-1)})};t(n.modelArray),n.$watchCollection("modelArray",t),n.$watchCollection("titleMapValues",function(t,r){if(t&&t!==r){var o=u();e.titleMap.forEach(function(e,r){var n=o.indexOf(e.value);n===-1&&t[r]&&o.push(e.value),n===-1||t[r]||o.splice(n,1)}),n.validateField&&n.validateField()}})}f()}});n.appendToArray=function(){var t,i=u();if(n.form&&n.form.schema&&n.form.schema.items){var a=n.form.schema.items;a.type&&a.type.indexOf("object")!==-1?(t={},n.options&&n.options.setSchemaDefaults===!1||(t=o.a.isDefined(a.default)?a.default:t,t&&r.traverseSchema(a,function(r,n){o.a.isDefined(r.default)&&e(n,t,r.default)}))):(a.type&&(a.type.indexOf("array")!==-1?t=[]:a.type.indexOf("string")===-1&&a.type.indexOf("number")===-1||(t="")),n.options&&n.options.setSchemaDefaults===!1||(t=a.default||t))}return i.push(t),i},n.deleteFromArray=function(e){var t=n.modelArray.indexOf(e),r=n.modelArray;return r&&r.splice(t,1),e.$$hashKey&&(n.destroyed=e.$$hashKey),r};var d=function(e){return function(t){t.key&&(t.key[t.key.indexOf("")]=e)}},p={};n.copyWithIndex=function(e){var t=n.form;if(!p[e]){var i=t.items[0];if(t.items.length>1&&(i={type:"section",items:t.items.map(function(e){return e.ngModelOptions=t.ngModelOptions,o.a.isUndefined(e.readonly)&&(e.readonly=t.readonly),e})}),i){var a=o.a.copy(i);a.arrayIndex=e,r.traverseForm(a,d(e)),p[e]=a}}return p[e]}}}}},function(e,t,r){"use strict";var n=r(0),o=r.n(n);t.a=function(){return{require:"ngModel",restrict:"AC",scope:!1,link:function(e,t,r,n){var i=e.$eval(r.sfChanged);i&&i.onChange&&n.$viewChangeListeners.push(function(){o.a.isFunction(i.onChange)?i.onChange(n.$modelValue,i):e.evalExpr(i.onChange,{modelValue:n.$modelValue,form:i,arrayIndex:e.$index,arrayIndices:e.arrayIndices,path:e.path,$i:e.$i,$index:e.$index})})}}}},function(e,t,r){"use strict";var n=r(0),o=r.n(n),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.a=function(e,t,r,n,a,s,l,c,u){var f={COMPLETE:"*",PATH:"string",INDICES:"number"};return{restrict:"AE",replace:!1,transclude:!1,scope:!0,require:["^sfSchema","?^form","?^^sfKeyController"],link:{pre:function(e,t,r,n){var o=n[0];n[1],n[2];e.$on("schemaFormPropagateNgModelController",function(t,r){t.stopPropagation(),t.preventDefault(),e.ngModel=r}),e.initialForm=Object.assign({},o.lookup["f"+r.sfField]),e.form=o.lookup["f"+r.sfField]},post:function(e,t,r,n){var s=n[0],d=n[1];n[2];e.getKey=function(t){var r=t||f.COMPLETE,n=e.parentKey?e.parentKey.slice(0,e.parentKey.length-1):[];if(e.completeKey!==e.form.key&&("number"==typeof e.$index&&(n=n.concat(e.$index)),e.form.key&&e.form.key.length))if("number"==typeof n[n.length-1]&&e.form.key.length>=1){var o=e.form.key.length-n.length;e.completeKey=n.concat(e.form.key.slice(-o))}else e.completeKey=e.form.key.slice();if(Array.isArray(e.completeKey))return r===f.COMPLETE?e.completeKey:e.completeKey.reduce(function(e,t,n){return-1!==[r].indexOf("undefined"==typeof t?"undefined":i(t))?e.concat(t):e},[])},e.form.key&&(e.form.key=e.completeKey=e.getKey()),e.showTitle=function(){return e.form&&e.form.notitle!==!0&&e.form.title},e.fieldId=function(t,r){var n=r||!1,o=t&&d&&d.$name?d.$name:void 0,i=e.completeKey;return Array.isArray(i)?c.name(i,"-",o,n):""},e.listToCheckboxValues=function(e){var t={};return o.a.forEach(e,function(e){t[e]=!0}),t},e.checkboxValuesToList=function(e){var t=[];return o.a.forEach(e,function(e,r){e&&t.push(r)}),t},e.buttonClick=function(t,r){o.a.isFunction(r.onClick)?r.onClick(t,r):o.a.isString(r.onClick)&&(s?s.evalInParentScope(r.onClick,{$event:t,form:r}):e.$eval(r.onClick,{$event:t,form:r}))},e.evalExpr=function(t,r){return s?s.evalInParentScope(t,r):e.$eval(t,r)},e.evalInScope=function(t,r){if(t)return e.$eval(t,r)},e.interp=function(e,t){return e&&a(e)(t)},e.hasSuccess=function(){return!!e.ngModel&&(e.options&&e.options.pristine&&e.options.pristine.success===!1?e.ngModel.$valid&&!e.ngModel.$pristine&&!e.ngModel.$isEmpty(e.ngModel.$modelValue):e.ngModel.$valid&&(!e.ngModel.$pristine||!e.ngModel.$isEmpty(e.ngModel.$modelValue)))},e.hasError=function(){return!!e.ngModel&&(e.options&&e.options.pristine&&e.options.pristine.errors===!1?e.ngModel.$invalid&&!e.ngModel.$pristine:e.ngModel.$invalid)},e.errorMessage=function(t){return l.interpolate(t&&t.code+""||"default",e.ngModel&&e.ngModel.$modelValue||"",e.ngModel&&e.ngModel.$viewValue||"",e.form,e.options&&e.options.validationMessage)},e.form.htmlClass=e.form.htmlClass||"",e.idClass=e.fieldId(!1)+" "+e.fieldId(!1,!0);var p=e.form;p.key&&(e.$on("schemaForm.error."+p.key.join("."),function(t,r,n,o,i){i=o,n!==!0&&n!==!1||(o=n,n=void 0),void 0!=i&&e.ngModel.$$parentForm.$name!==i||e.ngModel&&r&&(e.ngModel.$setDirty?e.ngModel.$setDirty():(e.ngModel.$dirty=!0,e.ngModel.$pristine=!1),n&&(p.validationMessage||(p.validationMessage={}),p.validationMessage[r]=n),e.ngModel.$setValidity(r,o===!0),o===!0&&(e.ngModel.$validate(),e.$broadcast("schemaFormValidate")))}),e.$on("$destroy",function(){var t=e.getKey();"number"==typeof e.arrayIndex?e.arrayIndex+1:0;if(!e.externalDestructionInProgress){var r=p.destroyStrategy||e.options&&e.options.destroyStrategy||"remove";if(t&&"retain"!==r){var n=e.model;if(t.length>1&&(n=u(t.slice(0,t.length-1),n)),n&&e.destroyed&&n.$$hashKey&&n.$$hashKey!==e.destroyed)return;if(void 0===n)return;var o=p.schema&&p.schema.type||"";"empty"===r&&o.indexOf("string")!==-1?n[t.slice(-1)]="":"empty"===r&&o.indexOf("object")!==-1?n[t.slice(-1)]={}:"empty"===r&&o.indexOf("array")!==-1?n[t.slice(-1)]=[]:"null"===r?n[t.slice(-1)]=null:delete n[t.slice(-1)]}}}))}}}}},function(e,t,r){"use strict";t.a=function(e,t){return{scope:!0,require:["?^^sfNewArray"],link:{pre:function(e,r,n,o){e.parentKey=e.parentKey||[];var i=t.parse(n.sfParentKey),a=i.length-e.parentKey.length;i.length>1&&(i=i.splice(-a)),e.parentKey=e.parentKey.concat(i,Number(n.sfIndex)),e.arrayIndex=Number(n.sfIndex),e.arrayIndices=e.arrayIndices||[],e.arrayIndices=e.arrayIndices.concat(e.arrayIndex),e.$i=e.arrayIndices,e.path=function(t){var r=-1;return t=t.replace(/\[\]/gi,function(t){return r++,"["+e.$i[r]+"]"}),e.evalExpr(t,e)}}}}}},function(e,t,r){"use strict";var n=r(0),o=r.n(n);t.a=function(e,t){var r=e.has("$sanitize")?e.get("$sanitize"):function(e){return e};return{scope:!1,restrict:"EA",link:function(e,n,i){var a="";i.sfMessage&&e.$watch(i.sfMessage,function(t){t&&(a=r(t),c(!!e.ngModel))});var s,l=function(e){e!==s&&(n.html(e),s=e)},c=function(r){if(r)if(e.hasError()){var n=[];o.a.forEach(e.ngModel&&e.ngModel.$error,function(e,t){e&&n.push(t)}),n=n.filter(function(e){return"schemaForm"!==e});var i=n[0];l(i?t.interpolate(i,e.ngModel.$modelValue,e.ngModel.$viewValue,e.form,e.options&&e.options.validationMessage):a)}else l(a);else l(a)};c();var u=e.$watch("ngModel",function(e){e&&(e.$parsers.push(function(e){return c(!0),e}),e.$formatters.push(function(e){return c(!0),e}),u())});e.$watchCollection("ngModel.$error",function(){c(!!e.ngModel)})}}}},function(e,t,r){"use strict";var n=r(0),o=r.n(n);t.a=function(e,t,r,n,i,a,s,l,c){return{scope:{schema:"=sfSchema",initialForm:"=sfForm",model:"=sfModel",options:"=sfOptions"},controller:["$scope",function(e){this.$onInit=function(){this.evalInParentScope=function(t,r){return e.$parent.$eval(t,r)};var t=this;e.lookup=function(e){return e&&(t.lookup=e),t.lookup}},1===o.a.version.major&&o.a.version.minor<5&&this.$onInit()}],replace:!1,restrict:"A",transclude:!0,require:"?form",link:function(l,u,f,d,p){l.formCtrl=d;var m={};p(l,function(e){if(e.addClass("schema-form-ignore"),u.prepend(e),u[0].querySelectorAll){var t=u[0].querySelectorAll("[ng-model]");if(t)for(var r=0;r<t.length;r++){var n=t[r].getAttribute("ng-model");m[n.substring(n.indexOf(".")+1)]=!0}}});var h,y={};l.resolveReferences=function(e,t){i.jsonref(e).then(function(e){l.render(e,t)}).catch(function(e){new Error(e)})},l.render=function(e,o){var a=[],s=i.merge(e,o,void 0,m,l.options,void 0,a);a.length>0?n.all(a.map(function(e){return t.get(e.templateUrl,{cache:r}).then(function(t){e.template=t.data})})).then(function(){l.internalRender(e,o,s)}):l.internalRender(e,o,s)},l.internalRender=function(t,r,n){h&&(l.externalDestructionInProgress=!0,h.$destroy(),l.externalDestructionInProgress=!1),h=l.$new(),h.schemaForm={form:n,schema:t},Array.prototype.forEach.call(u.children(),function(e){var t=o.a.element(e);!1===t.hasClass("schema-form-ignore")&&t.remove()});for(var d={},p=u[0].querySelectorAll("*[sf-insert-field]"),m=0;m<p.length;m++)d[p[m].getAttribute("sf-insert-field")]=p[m];var y=a.decorator(f.sfUseDecorator),v=Object.create(null);l.lookup(v),u[0].appendChild(c.build(n,y,d,v)),h.firstDigest=!0,setTimeout(function(){h.firstDigest=!1,l.$apply()},0),e(u.children())(h),l.options&&l.options.setSchemaDefaults===!1||i.traverseSchema(t,function(e,t){if(o.a.isDefined(e.default)){var r=s(t,l.model);o.a.isUndefined(r)&&s(t,l.model,e.default)}}),l.$emit("sf-render-finished",u)};var v=["*"];l.$watch(function(){var e=l.schema,t=l.initialForm||v;t&&e&&e.type&&(y.form!==t||y.schema!==e)&&((!e.properties||0===Object.keys(e.properties).length)&&(t.indexOf("*")||t.indexOf("...")),y.schema=e,y.form=t,l.resolveReferences(e,t))}),l.$on("schemaFormRedraw",function(){var e=l.schema,t=l.initialForm?o.a.copy(l.initialForm):["*"];e&&l.resolveReferences(e,t)}),l.$on("$destroy",function(){l.externalDestructionInProgress=!0}),l.evalExpr=function(e,t){return l.$parent.$eval(e,t)}}}}},function(e,t,r){"use strict";var n=r(0),o=r.n(n);t.a=function(e,t){var r="",n={},i=function(e,t){"sfDecorator"===e&&(e=r);var o=n[e];return o[t.type]?o[t.type].template:o.default.template},a=function(r){e.directive(r,["$parse","$compile","$http","$templateCache","$interpolate","$q","sfErrorMessage","sfPath","sfSelect",function(e,n,a,s,l,c,u,f,d){return{restrict:"AE",replace:!1,transclude:!1,scope:!0,require:["?^sfSchema","?^form"],link:function(e,p,m,h){var y=h[0],v=h[1];e.$on("schemaFormPropagateNgModelController",function(t,r){t.stopPropagation(),t.preventDefault(),e.ngModel=r}),e.showTitle=function(){return e.form&&e.form.notitle!==!0&&e.form.title},e.fieldId=function(t,r){var n=e.parentKey||[];if(e.form.key){if("number"==typeof n[n.length-1]){var o=n.concat(e.form.key.slice(-1)),i=t&&v&&v.$name?v.$name:void 0;return f.name(o,"-",i,r)}var i=t&&v&&v.$name?v.$name:void 0;return f.name(e.form.key,"-",i,r)}return""},e.listToCheckboxValues=function(e){var t={};return o.a.forEach(e,function(e){t[e]=!0}),t},e.checkboxValuesToList=function(e){var t=[];return o.a.forEach(e,function(e,r){e&&t.push(r)}),t},e.buttonClick=function(t,r){o.a.isFunction(r.onClick)?r.onClick(t,r):o.a.isString(r.onClick)&&(y?y.evalInParentScope(r.onClick,{$event:t,form:r}):e.$eval(r.onClick,{$event:t,form:r}))},e.evalExpr=function(t,r){return y?y.evalInParentScope(t,r):e.$eval(t,r)},e.evalInScope=function(t,r){if(t)return e.$eval(t,r)},e.interp=function(e,t){return e&&l(e)(t)},e.hasSuccess=function(){return!!e.ngModel&&(e.options&&e.options.pristine&&e.options.pristine.success===!1?e.ngModel.$valid&&!e.ngModel.$pristine&&!e.ngModel.$isEmpty(e.ngModel.$modelValue):e.ngModel.$valid&&(!e.ngModel.$pristine||!e.ngModel.$isEmpty(e.ngModel.$modelValue)))},e.hasError=function(){return!!e.ngModel&&(e.ngModel.$invalid&&!e.ngModel.$pristine)},e.errorMessage=function(t){return u.interpolate(t&&t.code+""||"default",e.ngModel&&e.ngModel.$modelValue||"",e.ngModel&&e.ngModel.$viewValue||"",e.form,e.options&&e.options.validationMessage)};var g=e.$watch(m.form,function(l){if(l){l.ngModelOptions=l.ngModelOptions||{},e.form=l;var u;if("template"===l.type&&l.template)u=c.when(l.template);else{var m="template"===l.type?l.templateUrl:i(r,l);u=a.get(m,{cache:s}).then(function(e){return e.data})}u.then(function(r){if(l.key){var i=l.key?t.stringify(l.key).replace(/"/g,"&quot;"):"";r=r.replace(/\$\$value\$\$/g,"model"+("["!==i[0]?".":"")+i)}if(p.html(r),l.condition){var a='evalExpr(form.condition,{ model: model, "arrayIndex": arrayIndex})';l.key&&(a='evalExpr(form.condition, {model: model, "arrayIndex": arrayIndex, "modelValue": model'+f.stringify(l.key)+"})"),o.a.forEach(p.children(),function(e){var t=e.getAttribute("ng-if");e.setAttribute("ng-if",t?"("+t+") || ("+a+")":a)})}n(p.contents())(e)}),l.key&&(e.$on("schemaForm.error."+l.key.join("."),function(t,r,n,o,i){i=o,n!==!0&&n!==!1||(o=n,n=void 0),void 0!=i&&e.ngModel.$$parentForm.$name!==i||void 0!=i&&e.ngModel.$$parentForm.$name!==i||e.ngModel&&r&&(e.ngModel.$setDirty?e.ngModel.$setDirty():(e.ngModel.$dirty=!0,e.ngModel.$pristine=!1),n&&(l.validationMessage||(l.validationMessage={}),l.validationMessage[r]=n),e.ngModel.$setValidity(r,o===!0),o===!0&&(e.ngModel.$validate(),e.$broadcast("schemaFormValidate")))}),e.$on("$destroy",function(){if(!e.externalDestructionInProgress){var t=l.destroyStrategy||e.options&&e.options.destroyStrategy||"remove";if(l.key&&"retain"!==t){var r=e.model;if(l.key.length>1&&(r=d(l.key.slice(0,l.key.length-1),r)),void 0===r)return;var n=l.schema&&l.schema.type||"";"empty"===t&&n.indexOf("string")!==-1?r[l.key.slice(-1)]="":"empty"===t&&n.indexOf("object")!==-1?r[l.key.slice(-1)]={}:"empty"===t&&n.indexOf("array")!==-1?r[l.key.slice(-1)]=[]:"null"===t?r[l.key.slice(-1)]=null:delete r[l.key.slice(-1)]}}})),g()}})}}}])},s=function(t,r,n){n=!!o.a.isDefined(n)&&n,e.directive("sf"+t[0].toUpperCase()+t.substr(1),function(){return{restrict:"EAC",scope:!0,replace:!0,transclude:n,template:'<sf-decorator form="form"></sf-decorator>',link:function(e,r,n){var i={items:"c",titleMap:"c",schema:"c"
},a={type:t},s=!0;o.a.forEach(n,function(t,r){if("$"!==r[0]&&0!==r.indexOf("ng")&&"sfField"!==r){var l=function(t){o.a.isDefined(t)&&t!==a[r]&&(a[r]=t,s&&a.type&&(a.key||o.a.isUndefined(n.key))&&(e.form=a,s=!1))};"model"===r?e.$watch(t,function(t){t&&e.model!==t&&(e.model=t)}):"c"===i[r]?e.$watchCollection(t,l):n.$observe(r,l)}})}}})};this.createDecorator=function(e,t){n[e]={__name:e},o.a.forEach(t,function(t,r){n[e][r]={template:t,replace:!1,builder:[]}}),n[r]||(r=e),a(e)},this.defineDecorator=function(e,t){n[e]={__name:e},o.a.forEach(t,function(t,r){t.builder=t.builder||[],t.replace=!o.a.isDefined(t.replace)||t.replace,n[e][r]=t}),n[r]||(r=e),a(e)},this.createDirective=s,this.createDirectives=function(e){o.a.forEach(e,function(e,t){s(t,e)})},this.decorator=function(e){return e=e||r,n[e]},this.addMapping=function(e,t,r,o,i){n[e]&&(n[e][t]={template:r,builder:o,replace:!!i})},this.defineAddOn=function(e,t,r,o){n[e]&&(n[e][t]={template:r,builder:o,replace:!0})},this.$get=function(){return{decorator:function(e){return n[e]||n[r]},defaultDecorator:r}},a("sfDecorator")}},function(e,t,r){"use strict";var n=r(0),o=(r.n(n),r(1));r.n(o);t.a=function(){var e=function(e){return e},t=o.schemaDefaults.createDefaults();this.defaults=t,this.stdFormObj=o.schemaDefaults.stdFormObj,this.defaultFormDefinition=o.schemaDefaults.defaultFormDefinition,this.postProcess=function(t){e=t},this.appendRule=function(e,t){this.defaults[e]||(this.defaults[e]=[]),this.defaults[e].push(t)},this.prependRule=function(e,t){this.defaults[e]||(this.defaults[e]=[]),this.defaults[e].unshift(t)},this.createStandardForm=o.schemaDefaults.stdFormObj,this.$get=function(){var t={},n=this.defaults;return t.jsonref=o.jsonref,t.defaults=function(e,t,r,i){var a=t||n;return o.schemaDefaults.defaultForm(e,a,r,i)},t.merge=function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["*"],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.typeDefault,s=arguments[3],l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},c=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=arguments[6],f=r.i(o.merge)(n,i,a,s,l,c,u);return e(f)},t.typeDefault=n,t.traverseSchema=o.traverseSchema,t.traverseForm=o.traverseForm,t}}},function(e,t,r){"use strict";t.a=function(e){var t=/[A-Z]/g,r=function(e,r){return r=r||"_",e.replace(t,function(e,t){return(t?r:"")+e.toLowerCase()})},n=0;"firstElementChild"in document.createDocumentFragment()||Object.defineProperty(DocumentFragment.prototype,"firstElementChild",{get:function(){for(var e,t=this.childNodes,r=0,n=t.length;r<n;++r)if(e=t[r],1===e.nodeType)return e;return null}});var o={sfField:function(e){e.fieldFrag.firstElementChild.setAttribute("sf-field",n),e.lookup["f"+n]=e.form,n++},ngModel:function(t){if(t.form.key){var r=t.form.key;t.state.keyRedaction&&(r=r.slice(t.state.keyRedaction));var n;if(t.state.modelValue)n=t.state.modelValue;else{var o=e.stringify(r).replace(/"/g,"&quot;");n=t.state.modelName||"model",o&&(n+=("["!==o[0]?".":"")+o)}for(var i=t.fieldFrag.querySelectorAll("[sf-field-model]"),a=0;a<i.length;a++){var s=i[a],l=s.getAttribute("sf-field-model");if(l&&""!==l)if("replaceAll"===l)for(var c=s.attributes,u=0;u<c.length;u++)c[u].value&&c[u].value.indexOf("$$value")!==-1&&(c[u].value=c[u].value.replace(/\$\$value\$\$/g,n));else{var f=s.getAttribute(l);f&&f.indexOf("$$value$$")?s.setAttribute(l,f.replace(/\$\$value\$\$/g,n)):s.setAttribute(l,n)}else s.setAttribute("ng-model",n)}}},simpleTransclusion:function(e){var t=e.build(e.form.items,e.path+".items",e.state);e.fieldFrag.firstChild.appendChild(t)},ngModelOptions:function(e){e.form.ngModelOptions&&Object.keys(e.form.ngModelOptions).length>0&&e.fieldFrag.firstChild.setAttribute("ng-model-options",JSON.stringify(e.form.ngModelOptions))},transclusion:function(e){var t=e.fieldFrag.querySelectorAll("[sf-field-transclude]");if(t.length)for(var r=0;r<t.length;r++){var n=t[r],o=n.getAttribute("sf-field-transclude")||"items",i=e.form[o];if(i){var a=e.build(i,e.path+"."+o,e.state);n.appendChild(a)}}},condition:function(t){var r="",n="undefined",o="";if(t.form.condition){t.form.key&&(r=e.stringify(t.form.key),n="model"+("["===r[0]?"":".")+r);for(var i="evalExpr("+t.path+'.condition, { model: model, "arrayIndex": $index, "arrayIndices": arrayIndices, "path": path, "$i": $i, "$index": $index, "modelValue": '+n+"})",a=t.fieldFrag.children||t.fieldFrag.childNodes,s=0;s<a.length;s++){var l=a[s];l.hasAttribute&&l.hasAttribute("ng-if")&&(o=l.getAttribute("ng-if")),l.setAttribute&&l.setAttribute("ng-if",o?"("+o+") || ("+i+")":i)}}},array:function(t){var r=t.fieldFrag.querySelector("[schema-form-array-items]");if(t.form.key){t.form.key.filter(function(e){return""===e}).length}if(r){var n=angular.copy(t.state);if(n.keyRedaction=0,n.keyRedaction+=t.form.key.length+1,t.form.schema&&t.form.schema.items&&t.form.schema.items.type&&t.form.schema.items.type.indexOf("object")===-1&&t.form.schema.items.type.indexOf("array")===-1){e.stringify(t.form.key).replace(/"/g,"&quot;")+"[$index]";n.modelValue="modelArray[$index]"}else n.modelName="item";n.arrayCompatFlag=!0;var o=t.build(t.form.items,t.path+".items",n);r.appendChild(o)}},numeric:function(e){var t=e.fieldFrag.querySelector("input"),r=e.form.maximum||!1,n=e.form.exclusiveMaximum||!1,o=e.form.minimum||!1,i=e.form.exclusiveMinimum||!1,a=e.form.multipleOf||!1;t&&(a!==!1&&t.setAttribute("step",a),r!==!1&&(n!==!1&&a!==!1&&(r-=a),t.setAttribute("max",r)),o!==!1&&(i!==!1&&a!==!1&&(o+=a),t.setAttribute("min",o)))}};this.builders=o;var i=[o.sfField,o.ngModel,o.ngModelOptions,o.condition];this.stdBuilders=i,this.$get=["$templateCache","schemaFormDecorators","sfPath",function(e,t,n){var a=function(e,t){if(e.key){var r=t[n.stringify(e.key)];if(r){for(;r.firstChild;)r.removeChild(r.firstChild);return r}}},s=function e(t,n,o,i,s,l,c){l=l||{},l=l||{},c=c||Object.create(null),s=s||"schemaForm.form";var u=document.createDocumentFragment();return t.reduce(function(t,u,f){if(!u.type)return t;var d=n[u.type]||n.default;if(d.replace){var p;l.arrayCompatFlag=!1;var m=document.createElement("div"),h=o(u,d)||o(u,n.default);for(m.innerHTML=h,p=document.createDocumentFragment();m.childNodes.length>0;)p.appendChild(m.childNodes[0]);var y={fieldFrag:p,form:u,lookup:c,state:l,path:s+"["+f+"]",build:function(t,r,a){return e(t,n,o,i,r,a,c)}},v=u.builder||d.builder;"function"==typeof v?v(y):v.forEach(function(e){e(y)}),(a(u,i)||t).appendChild(p)}else{var g=document.createElement(r(n.__name,"-"));l.arrayCompatFlag?g.setAttribute("form","copyWithIndex($index)"):g.setAttribute("form",s+"["+f+"]"),(a(u,i)||t).appendChild(g)}return t},u),u};return{build:function(t,r,n,o){return s(t,r,function(t,r){return"template"===t.type?t.template:e.get(r.template)},n,void 0,void 0,o)},builder:o,stdBuilders:i,internalBuild:s}}]}},function(e,t,r){"use strict";var n=r(0),o=r.n(n);t.a=function(){var e={default:"Field does not validate",0:"Invalid type, expected {{schema.type}}",1:"No enum match for: {{viewValue}}",10:'Data does not match any schemas from "anyOf"',11:'Data does not match any schemas from "oneOf"',12:'Data is valid against more than one schema from "oneOf"',13:'Data matches schema from "not"',100:"Value is not a multiple of {{schema.multipleOf}}",101:"{{viewValue}} is less than the allowed minimum of {{schema.minimum}}",102:"{{viewValue}} is equal to the exclusive minimum {{schema.minimum}}",103:"{{viewValue}} is greater than the allowed maximum of {{schema.maximum}}",104:"{{viewValue}} is equal to the exclusive maximum {{schema.maximum}}",105:"Value is not a valid number",200:"String is too short ({{viewValue.length}} chars), minimum {{schema.minLength}}",201:"String is too long ({{viewValue.length}} chars), maximum {{schema.maxLength}}",202:"String does not match pattern: {{schema.pattern}}",300:"Too few properties defined, minimum {{schema.minProperties}}",301:"Too many properties defined, maximum {{schema.maxProperties}}",302:"Required",303:"Additional properties not allowed",304:"Dependency failed - key must exist",400:"Array is too short ({{value.length}}), minimum {{schema.minItems}}",401:"Array is too long ({{value.length}}), maximum {{schema.maxItems}}",402:"Array items are not unique",403:"Additional items not allowed",500:"Format validation failed",501:'Keyword failed: "{{title}}"',600:"Circular $refs",1e3:"Unknown property (not in schema)"};e.number=e[105],e.required=e[302],e.min=e[101],e.max=e[103],e.maxlength=e[201],e.minlength=e[200],e.pattern=e[202],this.setDefaultMessages=function(t){e=t},this.getDefaultMessages=function(){return e},this.setDefaultMessage=function(t,r){e[t]=r},this.$get=["$interpolate",function(t){var r={};return r.defaultMessages=e,r.interpolate=function(r,n,i,a,s){s=s||{};var l=a.validationMessage||{};0===r.indexOf("tv4-")&&(r=r.substring(4));var c=l.default||s.default||"";[l,s,e].some(function(e){return o.a.isString(e)||o.a.isFunction(e)?(c=e,!0):e&&e[r]?(c=e[r],!0):void 0});var u={error:r,value:n,viewValue:i,form:a,schema:a.schema,title:a.title||a.schema&&a.schema.title};return o.a.isFunction(c)?c(u):t(c)(u)},r}]}},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=r(1),i=(r.n(o),r(0)),a=(r.n(i),function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()),s=function(){function e(){n(this,e),this.name=o.sfPath.name,this.parse=o.sfPath.parse,this.stringify=o.sfPath.stringify,this.normalize=o.sfPath.normalize}return a(e,[{key:"$get",value:function(){return o.sfPath}}]),e}();t.a=s},function(e,t){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(e){if(u===setTimeout)return setTimeout(e,0);if((u===r||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function i(e){if(f===clearTimeout)return clearTimeout(e);if((f===n||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){h&&p&&(h=!1,p.length?m=p.concat(m):y=-1,m.length&&s())}function s(){if(!h){var e=o(a);h=!0;for(var t=m.length;t;){for(p=m,m=[];++y<t;)p&&p[y].run();y=-1,t=m.length}p=null,h=!1,i(e)}}function l(e,t){this.fun=e,this.array=t}function c(){}var u,f,d=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:r}catch(e){u=r}try{f="function"==typeof clearTimeout?clearTimeout:n}catch(e){f=n}}();var p,m=[],h=!1,y=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];m.push(new l(e,t)),1!==m.length||h||o(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,r){(function(e,t){!function(e,r){"use strict";function n(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var n={callback:e,args:t};return h[m]=n,p(m),m++}function o(e){delete h[e]}function i(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}function a(e){if(y)setTimeout(a,0,e);else{var t=h[e];if(t){y=!0;try{i(t)}finally{o(e),y=!1}}}}function s(){p=function(e){t.nextTick(function(){a(e)})}}function l(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}function c(){var t="setImmediate$"+Math.random()+"$",r=function(r){r.source===e&&"string"==typeof r.data&&0===r.data.indexOf(t)&&a(+r.data.slice(t.length))};e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r),p=function(r){e.postMessage(t+r,"*")}}function u(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;a(t)},p=function(t){e.port2.postMessage(t)}}function f(){var e=v.documentElement;p=function(t){var r=v.createElement("script");r.onreadystatechange=function(){a(t),r.onreadystatechange=null,e.removeChild(r),r=null},e.appendChild(r)}}function d(){p=function(e){setTimeout(a,0,e)}}if(!e.setImmediate){var p,m=1,h={},y=!1,v=e.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(e);g=g&&g.setTimeout?g:e,"[object process]"==={}.toString.call(e.process)?s():l()?c():e.MessageChannel?u():v&&"onreadystatechange"in v.createElement("script")?f():d(),g.setImmediate=n,g.clearImmediate=o}}("undefined"==typeof self?"undefined"==typeof e?this:e:self)}).call(t,r(2),r(17))},function(r,n,o){function i(e,t){this._id=e,this._clearFn=t}var a=Function.prototype.apply;n.setTimeout=function(){return new i(a.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new i(a.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},o(18),n.setImmediate=e,n.clearImmediate=t},,function(e,t,r){r(1),e.exports=r(4)}])}).call(t,r(1).setImmediate,r(1).clearImmediate)},function(e,t){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(e){if(u===setTimeout)return setTimeout(e,0);if((u===r||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function i(e){if(f===clearTimeout)return clearTimeout(e);if((f===n||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){h&&p&&(h=!1,p.length?m=p.concat(m):y=-1,m.length&&s())}function s(){if(!h){var e=o(a);h=!0;for(var t=m.length;t;){for(p=m,m=[];++y<t;)p&&p[y].run();y=-1,t=m.length}p=null,h=!1,i(e)}}function l(e,t){this.fun=e,this.array=t}function c(){}var u,f,d=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:r}catch(e){u=r}try{f="function"==typeof clearTimeout?clearTimeout:n}catch(e){f=n}}();var p,m=[],h=!1,y=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];m.push(new l(e,t)),1!==m.length||h||o(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},,,function(e,t,r){r(19),e.exports=r(0)}]);