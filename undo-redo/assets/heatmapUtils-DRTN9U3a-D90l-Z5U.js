import{f7 as u,f8 as l,J as m}from"./main-BJ29zGwr.js";import{A as p}from"./vec42-D8CJyqHG-DnfLTeQH.js";import{o as h}from"./vec4f64-DD-nkcCV-CSNWKRqG.js";const f=2.4;function x(o){return u(o*f)}function d(o){return l(o)/f}function A(o,n,e,a){let{color:c,ratio:i}=n,{color:r,ratio:t}=e;t===i&&(t===1?i-=1e-6:t+=1e-6);const s=m((a-i)/(t-i),0,1);p(o,c.toArray(),r.toArray(),s)}function q(o){const n=new Uint8ClampedArray(2048);if(o=o.filter(({ratio:r})=>r>=0&&r<=1).sort((r,t)=>r.ratio-t.ratio).map(({color:r,ratio:t})=>({color:r,ratio:Math.max(t,.001)})),o.length<1)return n;let e=o[0],a=o[0],c=1;const i=h();for(let r=0;r<512;r++){const t=(r+.5)/512;for(;t>a.ratio&&c<o.length;)e=a,a=o[c++];A(i,e,a,t),n.set(i,4*r)}return n}function U(o,n,e){const a=Math.sqrt(o**2+n**2)/e;return a>1?0:3/(Math.PI*e**2)*(1-a**2)**2}function b(o){return typeof o=="function"?o:o?n=>+n[o]:()=>1}export{q as A,U as M,b,f as c,d as g,x as y};
