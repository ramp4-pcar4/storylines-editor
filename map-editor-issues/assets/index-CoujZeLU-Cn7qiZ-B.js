import"./index-D0o7KJz6-Ctn9T22Y.js";import"./customElement-vwINhat1-8kScAb0d.js";import{k as Se,f as Qe}from"./jsxFactory-Cua8zWVZ-Bvn_j_rD.js";import{gf as De,gg as xe,i6 as k,i7 as $,gj as et}from"./main-BGmgFd6s.js";import{i as Pt}from"./keyed-B9HAtbdo-CAm1k7MH.js";import{k as ut,m as Ti}from"./dom-PjyVZjPa-BGVA2_C_.js";import"./index-DV38aJMs-Bj92Sm_l.js";import"./index-SxXZaKTz-gQyznQmN.js";import"./customElement-DL8inR2X-DGzEyd-M.js";import"./index-4OY0nObJ-Awp1v5g9.js";import{S as Pi,P as ge}from"./ref-XMc4F1eh-CvrUL85D.js";import{b as ke,A as Ce,O as _i,e as Ze,W as Ae,$ as ki,D as Fi,g as Ve}from"./debounce-B9WUP9Xk-BvexrlwN.js";import{d as Je,p as ti}from"./interactive-EVx-Nhoa-DIdEiMz7.js";import{a as ei}from"./component-DGkKmsFn-BP3awuTm.js";import{t as ii}from"./useT9n-Cp7CFBMO-ByIzrPfB.js";import{i as Oi}from"./observers-CJ7vGAr1-CPpvW0vJ.js";import{a as xt,m as $i,c as ee,l as me,u as Fe,o as Mi}from"./utils-B0t9gNXC-DcKbZUi5.js";import{Q as Oe}from"./input-BpGQpkEK-CGLgUo2N.js";import{i as Li}from"./guid-Dls486Er-CBh637k4.js";import"./intl-BAA1onnp-oQPO8O8M.js";import"./uuid-Dj9mdEVg-BaKSCiyT.js";import"./sanitizerUtils-B1yRmbO2-B7KG_jBT.js";import"./static-Dm6M7dSg-CwtCytKT.js";import"./form-D_5VLLzu-D9npI7Z8.js";import"./key-CZySMiwx-kmS7VeUz.js";import"./label-DeyAgFGa--1_lUwSE.js";import"./Validation-DwCZur7y-DZU3cMjR.js";function Ni(t,e){for(var i=-1,n=t==null?0:t.length,o=Array(n);++i<n;)o[i]=e(t[i],i,t);return o}var ni=Array.isArray,$e=ke?ke.prototype:void 0,Me=$e?$e.toString:void 0;function oi(t){if(typeof t=="string")return t;if(ni(t))return Ni(t,oi)+"";if(Fi(t))return Me?Me.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function ji(t){return t}var Ri="[object AsyncFunction]",Bi="[object Function]",Hi="[object GeneratorFunction]",Xi="[object Proxy]";function Yi(t){if(!Ve(t))return!1;var e=Ae(t);return e==Bi||e==Hi||e==Ri||e==Xi}var Ui=9007199254740991,zi=/^(?:0|[1-9]\d*)$/;function Gi(t,e){var i=typeof t;return e=e??Ui,!!e&&(i=="number"||i!="symbol"&&zi.test(t))&&t>-1&&t%1==0&&t<e}var Wi=9007199254740991;function ri(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Wi}function qi(t){return t!=null&&ri(t.length)&&!Yi(t)}var Ki=Object.prototype;function Qi(t){var e=t&&t.constructor,i=typeof e=="function"&&e.prototype||Ki;return t===i}function Zi(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}var Vi="[object Arguments]";function Le(t){return Ce(t)&&Ae(t)==Vi}var ai=Object.prototype,Ji=ai.hasOwnProperty,tn=ai.propertyIsEnumerable,en=Le(function(){return arguments}())?Le:function(t){return Ce(t)&&Ji.call(t,"callee")&&!tn.call(t,"callee")};function nn(){return!1}var li=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ne=li&&typeof module=="object"&&module&&!module.nodeType&&module,on=Ne&&Ne.exports===li,je=on?_i.Buffer:void 0,rn=je?je.isBuffer:void 0,an=rn||nn,ln="[object Arguments]",sn="[object Array]",cn="[object Boolean]",dn="[object Date]",hn="[object Error]",un="[object Function]",fn="[object Map]",pn="[object Number]",gn="[object Object]",mn="[object RegExp]",vn="[object Set]",bn="[object String]",yn="[object WeakMap]",En="[object ArrayBuffer]",wn="[object DataView]",In="[object Float32Array]",Sn="[object Float64Array]",Dn="[object Int8Array]",xn="[object Int16Array]",Cn="[object Int32Array]",An="[object Uint8Array]",Tn="[object Uint8ClampedArray]",Pn="[object Uint16Array]",_n="[object Uint32Array]",w={};w[In]=w[Sn]=w[Dn]=w[xn]=w[Cn]=w[An]=w[Tn]=w[Pn]=w[_n]=!0,w[ln]=w[sn]=w[En]=w[cn]=w[wn]=w[dn]=w[hn]=w[un]=w[fn]=w[pn]=w[gn]=w[mn]=w[vn]=w[bn]=w[yn]=!1;function kn(t){return Ce(t)&&ri(t.length)&&!!w[Ae(t)]}function Fn(t){return function(e){return t(e)}}var si=typeof exports=="object"&&exports&&!exports.nodeType&&exports,_t=si&&typeof module=="object"&&module&&!module.nodeType&&module,On=_t&&_t.exports===si,ie=On&&ki.process,Re=function(){try{var t=_t&&_t.require&&_t.require("util").types;return t||ie&&ie.binding&&ie.binding("util")}catch{}}(),Be=Re&&Re.isTypedArray,$n=Be?Fn(Be):kn;function Mn(t,e){var i=ni(t),n=!i&&en(t),o=!i&&!n&&an(t),r=!i&&!n&&!o&&$n(t),a=i||n||o||r,s=a?Zi(t.length,String):[],l=s.length;for(var c in t)a&&(c=="length"||o&&(c=="offset"||c=="parent")||r&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Gi(c,l))||s.push(c);return s}function Ln(t){var e=[];if(t!=null)for(var i in Object(t))e.push(i);return e}var Nn=Object.prototype,jn=Nn.hasOwnProperty;function Rn(t){if(!Ve(t))return Ln(t);var e=Qi(t),i=[];for(var n in t)n=="constructor"&&(e||!jn.call(t,n))||i.push(n);return i}function Bn(t){return qi(t)?Mn(t):Rn(t)}function Hn(t){return t==null?"":oi(t)}function Xn(t){return function(e,i,n){for(var o=-1,r=Object(e),a=n(e),s=a.length;s--;){var l=a[++o];if(i(r[l],l,r)===!1)break}return e}}var Yn=Xn();function Un(t){return typeof t=="function"?t:ji}var ci=/[\\^$.*+?()[\]{}|]/g,zn=RegExp(ci.source);function Gn(t){return t=Hn(t),t&&zn.test(t)?t.replace(ci,"\\$&"):t}function Wn(t,e){return t==null?t:Yn(t,Un(e),Bn)}const gt={container:"container",actionsStart:"actions-start",contentStart:"content-start",content:"content",contentEnd:"content-end",actionsEnd:"actions-end"},yt={actionsStart:"actions-start",contentStart:"content-start",contentEnd:"content-end",actionsEnd:"actions-end"},qn=De`:host([disabled]) .content{cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) .content *,:host([disabled]) .content ::slotted(*){pointer-events:none}:host{display:flex;flex:1 1 0%;flex-direction:column}.container{display:flex;flex:1 1 auto;align-items:stretch;font-weight:var(--calcite-font-weight-normal);color:var(--calcite-color-text-2)}.content{display:flex;flex:1 1 auto;flex-direction:column;justify-content:center;font-size:var(--calcite-font-size--2);line-height:1.375;padding-inline:var(--calcite-stack-padding-inline, .75rem);padding-block:var(--calcite-stack-padding-block, .5rem)}.content-start{justify-content:flex-start}.content-end{justify-content:flex-end}.content-start,.content-end{flex:0 1 auto}.content-start ::slotted(calcite-icon),.content-end ::slotted(calcite-icon){margin-inline:.75rem;align-self:center}.actions-start,.actions-end,.content-start,.content-end{display:flex;align-items:center}.actions-start ::slotted(calcite-action),.actions-start ::slotted(calcite-action-menu),.actions-start ::slotted(calcite-handle),.actions-start ::slotted(calcite-dropdown),.actions-end ::slotted(calcite-action),.actions-end ::slotted(calcite-action-menu),.actions-end ::slotted(calcite-handle),.actions-end ::slotted(calcite-dropdown){align-self:stretch;color:inherit}:host([hidden]){display:none}[hidden]{display:none}`;class Kn extends xe{constructor(){super(...arguments),this.hasActionsEnd=!1,this.hasActionsStart=!1,this.hasContentEnd=!1,this.hasContentStart=!1,this.disabled=!1}static{this.properties={hasActionsEnd:[16,{},{state:!0}],hasActionsStart:[16,{},{state:!0}],hasContentEnd:[16,{},{state:!0}],hasContentStart:[16,{},{state:!0}],disabled:[7,{},{reflect:!0,type:Boolean}]}}static{this.styles=qn}handleActionsStartSlotChange(e){this.hasActionsStart=ut(e)}handleActionsEndSlotChange(e){this.hasActionsEnd=ut(e)}handleContentStartSlotChange(e){this.hasContentStart=ut(e)}handleContentEndSlotChange(e){this.hasContentEnd=ut(e)}renderActionsStart(){const{hasActionsStart:e}=this;return Pt("actions-start-container",k`<div class=${$(gt.actionsStart)} .hidden=${!e}><slot name=${yt.actionsStart} @slotchange=${this.handleActionsStartSlotChange}></slot></div>`)}renderActionsEnd(){const{hasActionsEnd:e}=this;return Pt("actions-end-container",k`<div class=${$(gt.actionsEnd)} .hidden=${!e}><slot name=${yt.actionsEnd} @slotchange=${this.handleActionsEndSlotChange}></slot></div>`)}renderContentStart(){const{hasContentStart:e}=this;return k`<div class=${$(gt.contentStart)} .hidden=${!e}><slot name=${yt.contentStart} @slotchange=${this.handleContentStartSlotChange}></slot></div>`}renderDefaultContent(){return k`<div class=${$(gt.content)}><slot></slot></div>`}renderContentEnd(){const{hasContentEnd:e}=this;return k`<div class=${$(gt.contentEnd)} .hidden=${!e}><slot name=${yt.contentEnd} @slotchange=${this.handleContentEndSlotChange}></slot></div>`}render(){return k`<div class=${$(gt.container)}>${this.renderActionsStart()}${this.renderContentStart()}${this.renderDefaultContent()}${this.renderContentEnd()}${this.renderActionsEnd()}</div>`}}Se("calcite-stack",Kn);const ne=(t,e,i)=>{const n=Gn(e),o=new RegExp(n,"i");t.length===0&&console.warn(`No data was passed to the filter function.
    The data argument should be an array of objects`);const r=(a,s,l)=>{if(a?.constant||a?.filterDisabled)return!0;let c=!1;return Wn(a,(h,u)=>{typeof h=="function"||h==null||l&&!l.includes(u)||(Array.isArray(h)||typeof h=="object"&&h!==null?r(h,s)&&(c=!0):s.test(h)&&(c=!0))}),c};return t.filter(a=>r(a,o,i))},Qn={container:"container"},Zn={search:"search"},Vn=De`:host{box-sizing:border-box;background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:flex;inline-size:100%}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.container{display:flex;inline-size:100%}:host([scale=s]) .container{padding:var(--calcite-filter-content-space, var(--calcite-spacing-sm))}:host([scale=m]) .container{padding:var(--calcite-filter-content-space, var(--calcite-spacing-md))}:host([scale=l]) .container{padding:var(--calcite-filter-content-space, var(--calcite-spacing-lg))}label{position:relative;margin-block:0px;display:flex;inline-size:100%;align-items:center;overflow:hidden}calcite-input{inline-size:100%;--calcite-input-background-color: var(--calcite-filter-input-background-color);--calcite-input-border-color: var(--calcite-filter-input-border-color);--calcite-input-corner-radius: var(--calcite-filter-input-corner-radius);--calcite-input-shadow: var(--calcite-filter-input-shadow);--calcite-input-icon-color: var(--calcite-filter-input-icon-color);--calcite-input-text-color: var(--calcite-filter-input-text-color);--calcite-input-placeholder-text-color: var(--calcite-filter-input-placeholder-text-color);--calcite-input-actions-background-color: var(--calcite-filter-input-actions-background-color);--calcite-input-actions-background-color-hover: var(--calcite-filter-input-actions-background-color-hover);--calcite-input-actions-background-color-press: var(--calcite-filter-input-actions-background-color-press);--calcite-input-actions-icon-color: var(--calcite-filter-input-actions-icon-color);--calcite-input-actions-icon-color-hover: var(--calcite-filter-input-actions-icon-color-hover);--calcite-input-actions-icon-color-press: var(--calcite-filter-input-actions-icon-color-press)}:host([hidden]){display:none}[hidden]{display:none}`;class Jn extends xe{constructor(){super(...arguments),this.filterDebounced=Ze((e,i=!1,n)=>this.updateFiltered(ne(this.items??[],e,this.filterProps),i,n),Qe.filter),this.textInput=Pi(),this._value="",this.messages=ii(),this.disabled=!1,this.filteredItems=[],this.items=[],this.scale="m",this.calciteFilterChange=et({cancelable:!1})}static{this.properties={disabled:[7,{},{reflect:!0,type:Boolean}],filterProps:[0,{},{attribute:!1}],filteredItems:[0,{},{attribute:!1}],items:[0,{},{attribute:!1}],label:1,messageOverrides:[0,{},{attribute:!1}],placeholder:1,scale:[3,{},{reflect:!0}],value:1}}static{this.shadowRootOptions={mode:"open",delegatesFocus:!0}}static{this.styles=Vn}get value(){return this._value}set value(e){const i=this._value;e!==i&&(this._value=e,this.valueHandler(e))}async filter(e=this.value){return new Promise(i=>{this.value=e,this.updateFiltered(ne(this.items??[],e,this.filterProps),!1,i)})}async setFocus(){return await ei(this),this.textInput.value?.setFocus()}async load(){this.updateFiltered(ne(this.items??[],this.value,this.filterProps))}willUpdate(e){(e.has("items")&&(this.hasUpdated||this.items?.length>0)||e.has("filterProps"))&&this.filterDebounced(this.value)}updated(){Je(this)}disconnectedCallback(){super.disconnectedCallback(),this.filterDebounced.cancel()}valueHandler(e){this.filterDebounced(e)}inputHandler(e){const i=e.target;this.value=i.value,this.filterDebounced(i.value,!0)}keyDownHandler(e){e.defaultPrevented||(e.key==="Escape"&&(this.clear(),e.preventDefault()),e.key==="Enter"&&e.preventDefault())}clear(){this.value="",this.filterDebounced("",!0),this.setFocus()}updateFiltered(e,i=!1,n){this.filteredItems=e,i&&this.calciteFilterChange.emit(),n?.()}render(){const{disabled:e,scale:i}=this;return ti({disabled:e,children:k`<div class=${$(Qn.container)}><label><calcite-input clearable .disabled=${e} .icon=${Zn.search} .label=${this.label??this.messages.label} .messageOverrides=${{clear:this.messages.clear}} @keydown=${this.keyDownHandler} @calciteInputInput=${this.inputHandler} .placeholder=${this.placeholder} .scale=${i} type=text .value=${this.value} ${ge(this.textInput)}></calcite-input></label></div>`})}}Se("calcite-filter",Jn);function He(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),i.push.apply(i,n)}return i}function z(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?He(Object(i),!0).forEach(function(n){to(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):He(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}function Yt(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yt=function(e){return typeof e}:Yt=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yt(t)}function to(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Q(){return Q=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Q.apply(this,arguments)}function eo(t,e){if(t==null)return{};var i={},n=Object.keys(t),o,r;for(r=0;r<n.length;r++)o=n[r],!(e.indexOf(o)>=0)&&(i[o]=t[o]);return i}function io(t,e){if(t==null)return{};var i=eo(t,e),n,o;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(o=0;o<r.length;o++)n=r[o],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var no="1.15.6";function K(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var Z=K(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Lt=K(/Edge/i),Xe=K(/firefox/i),kt=K(/safari/i)&&!K(/chrome/i)&&!K(/android/i),Te=K(/iP(ad|od|hone)/i),di=K(/chrome/i)&&K(/android/i),hi={capture:!1,passive:!1};function b(t,e,i){t.addEventListener(e,i,!Z&&hi)}function v(t,e,i){t.removeEventListener(e,i,!Z&&hi)}function qt(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function ui(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function X(t,e,i,n){if(t){i=i||document;do{if(e!=null&&(e[0]===">"?t.parentNode===i&&qt(t,e):qt(t,e))||n&&t===i)return t;if(t===i)break}while(t=ui(t))}return null}var Ye=/\s+/g;function j(t,e,i){if(t&&e)if(t.classList)t.classList[i?"add":"remove"](e);else{var n=(" "+t.className+" ").replace(Ye," ").replace(" "+e+" "," ");t.className=(n+(i?" "+e:"")).replace(Ye," ")}}function f(t,e,i){var n=t&&t.style;if(n){if(i===void 0)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(i=t.currentStyle),e===void 0?i:i[e];!(e in n)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),n[e]=i+(typeof i=="string"?"":"px")}}function wt(t,e){var i="";if(typeof t=="string")i=t;else do{var n=f(t,"transform");n&&n!=="none"&&(i=n+" "+i)}while(!e&&(t=t.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(i)}function fi(t,e,i){if(t){var n=t.getElementsByTagName(e),o=0,r=n.length;if(i)for(;o<r;o++)i(n[o],o);return n}return[]}function U(){var t=document.scrollingElement;return t||document.documentElement}function C(t,e,i,n,o){if(!(!t.getBoundingClientRect&&t!==window)){var r,a,s,l,c,h,u;if(t!==window&&t.parentNode&&t!==U()?(r=t.getBoundingClientRect(),a=r.top,s=r.left,l=r.bottom,c=r.right,h=r.height,u=r.width):(a=0,s=0,l=window.innerHeight,c=window.innerWidth,h=window.innerHeight,u=window.innerWidth),(e||i)&&t!==window&&(o=o||t.parentNode,!Z))do if(o&&o.getBoundingClientRect&&(f(o,"transform")!=="none"||i&&f(o,"position")!=="static")){var E=o.getBoundingClientRect();a-=E.top+parseInt(f(o,"border-top-width")),s-=E.left+parseInt(f(o,"border-left-width")),l=a+r.height,c=s+r.width;break}while(o=o.parentNode);if(n&&t!==window){var m=wt(o||t),A=m&&m.a,y=m&&m.d;m&&(a/=y,s/=A,u/=A,h/=y,l=a+h,c=s+u)}return{top:a,left:s,bottom:l,right:c,width:u,height:h}}}function Ue(t,e,i){for(var n=ot(t,!0),o=C(t)[e];n;){var r=C(n)[i],a=void 0;if(a=o>=r,!a)return n;if(n===U())break;n=ot(n,!1)}return!1}function It(t,e,i,n){for(var o=0,r=0,a=t.children;r<a.length;){if(a[r].style.display!=="none"&&a[r]!==p.ghost&&(n||a[r]!==p.dragged)&&X(a[r],i.draggable,t,!1)){if(o===e)return a[r];o++}r++}return null}function Pe(t,e){for(var i=t.lastElementChild;i&&(i===p.ghost||f(i,"display")==="none"||e&&!qt(i,e));)i=i.previousElementSibling;return i||null}function B(t,e){var i=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==p.clone&&(!e||qt(t,e))&&i++;return i}function ze(t){var e=0,i=0,n=U();if(t)do{var o=wt(t),r=o.a,a=o.d;e+=t.scrollLeft*r,i+=t.scrollTop*a}while(t!==n&&(t=t.parentNode));return[e,i]}function oo(t,e){for(var i in t)if(t.hasOwnProperty(i)){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t[i][n])return Number(i)}return-1}function ot(t,e){if(!t||!t.getBoundingClientRect)return U();var i=t,n=!1;do if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var o=f(i);if(i.clientWidth<i.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||i.clientHeight<i.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!i.getBoundingClientRect||i===document.body)return U();if(n||e)return i;n=!0}}while(i=i.parentNode);return U()}function ro(t,e){if(t&&e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function oe(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var Ft;function pi(t,e){return function(){if(!Ft){var i=arguments,n=this;i.length===1?t.call(n,i[0]):t.apply(n,i),Ft=setTimeout(function(){Ft=void 0},e)}}}function ao(){clearTimeout(Ft),Ft=void 0}function gi(t,e,i){t.scrollLeft+=e,t.scrollTop+=i}function mi(t){var e=window.Polymer,i=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):i?i(t).clone(!0)[0]:t.cloneNode(!0)}function vi(t,e,i){var n={};return Array.from(t.children).forEach(function(o){var r,a,s,l;if(!(!X(o,e.draggable,t,!1)||o.animated||o===i)){var c=C(o);n.left=Math.min((r=n.left)!==null&&r!==void 0?r:1/0,c.left),n.top=Math.min((a=n.top)!==null&&a!==void 0?a:1/0,c.top),n.right=Math.max((s=n.right)!==null&&s!==void 0?s:-1/0,c.right),n.bottom=Math.max((l=n.bottom)!==null&&l!==void 0?l:-1/0,c.bottom)}}),n.width=n.right-n.left,n.height=n.bottom-n.top,n.x=n.left,n.y=n.top,n}var L="Sortable"+new Date().getTime();function lo(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var i=[].slice.call(this.el.children);i.forEach(function(n){if(!(f(n,"display")==="none"||n===p.ghost)){t.push({target:n,rect:C(n)});var o=z({},t[t.length-1].rect);if(n.thisAnimationDuration){var r=wt(n,!0);r&&(o.top-=r.f,o.left-=r.e)}n.fromRect=o}})}},addAnimationState:function(i){t.push(i)},removeAnimationState:function(i){t.splice(oo(t,{target:i}),1)},animateAll:function(i){var n=this;if(!this.options.animation){clearTimeout(e),typeof i=="function"&&i();return}var o=!1,r=0;t.forEach(function(a){var s=0,l=a.target,c=l.fromRect,h=C(l),u=l.prevFromRect,E=l.prevToRect,m=a.rect,A=wt(l,!0);A&&(h.top-=A.f,h.left-=A.e),l.toRect=h,l.thisAnimationDuration&&oe(u,h)&&!oe(c,h)&&(m.top-h.top)/(m.left-h.left)===(c.top-h.top)/(c.left-h.left)&&(s=co(m,u,E,n.options)),oe(h,c)||(l.prevFromRect=c,l.prevToRect=h,s||(s=n.options.animation),n.animate(l,m,h,s)),s&&(o=!0,r=Math.max(r,s),clearTimeout(l.animationResetTimer),l.animationResetTimer=setTimeout(function(){l.animationTime=0,l.prevFromRect=null,l.fromRect=null,l.prevToRect=null,l.thisAnimationDuration=null},s),l.thisAnimationDuration=s)}),clearTimeout(e),o?e=setTimeout(function(){typeof i=="function"&&i()},r):typeof i=="function"&&i(),t=[]},animate:function(i,n,o,r){if(r){f(i,"transition",""),f(i,"transform","");var a=wt(this.el),s=a&&a.a,l=a&&a.d,c=(n.left-o.left)/(s||1),h=(n.top-o.top)/(l||1);i.animatingX=!!c,i.animatingY=!!h,f(i,"transform","translate3d("+c+"px,"+h+"px,0)"),this.forRepaintDummy=so(i),f(i,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),f(i,"transform","translate3d(0,0,0)"),typeof i.animated=="number"&&clearTimeout(i.animated),i.animated=setTimeout(function(){f(i,"transition",""),f(i,"transform",""),i.animated=!1,i.animatingX=!1,i.animatingY=!1},r)}}}}function so(t){return t.offsetWidth}function co(t,e,i,n){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-i.top,2)+Math.pow(e.left-i.left,2))*n.animation}var mt=[],re={initializeByDefault:!0},Nt={mount:function(t){for(var e in re)re.hasOwnProperty(e)&&!(e in t)&&(t[e]=re[e]);mt.forEach(function(i){if(i.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),mt.push(t)},pluginEvent:function(t,e,i){var n=this;this.eventCanceled=!1,i.cancel=function(){n.eventCanceled=!0};var o=t+"Global";mt.forEach(function(r){e[r.pluginName]&&(e[r.pluginName][o]&&e[r.pluginName][o](z({sortable:e},i)),e.options[r.pluginName]&&e[r.pluginName][t]&&e[r.pluginName][t](z({sortable:e},i)))})},initializePlugins:function(t,e,i,n){mt.forEach(function(a){var s=a.pluginName;if(!(!t.options[s]&&!a.initializeByDefault)){var l=new a(t,e,t.options);l.sortable=t,l.options=t.options,t[s]=l,Q(i,l.defaults)}});for(var o in t.options)if(t.options.hasOwnProperty(o)){var r=this.modifyOption(t,o,t.options[o]);typeof r<"u"&&(t.options[o]=r)}},getEventProperties:function(t,e){var i={};return mt.forEach(function(n){typeof n.eventProperties=="function"&&Q(i,n.eventProperties.call(e[n.pluginName],t))}),i},modifyOption:function(t,e,i){var n;return mt.forEach(function(o){t[o.pluginName]&&o.optionListeners&&typeof o.optionListeners[e]=="function"&&(n=o.optionListeners[e].call(t[o.pluginName],i))}),n}};function ho(t){var e=t.sortable,i=t.rootEl,n=t.name,o=t.targetEl,r=t.cloneEl,a=t.toEl,s=t.fromEl,l=t.oldIndex,c=t.newIndex,h=t.oldDraggableIndex,u=t.newDraggableIndex,E=t.originalEvent,m=t.putSortable,A=t.extraEventProperties;if(e=e||i&&i[L],!!e){var y,G=e.options,F="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!Z&&!Lt?y=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(y=document.createEvent("Event"),y.initEvent(n,!0,!0)),y.to=a||i,y.from=s||i,y.item=o||i,y.clone=r,y.oldIndex=l,y.newIndex=c,y.oldDraggableIndex=h,y.newDraggableIndex=u,y.originalEvent=E,y.pullMode=m?m.lastPutMode:void 0;var W=z(z({},A),Nt.getEventProperties(n,e));for(var P in W)y[P]=W[P];i&&i.dispatchEvent(y),G[F]&&G[F].call(e,y)}}var uo=["evt"],M=function(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=i.evt,o=io(i,uo);Nt.pluginEvent.bind(p)(t,e,z({dragEl:d,parentEl:D,ghostEl:g,rootEl:I,nextEl:ht,lastDownEl:Ut,cloneEl:S,cloneHidden:nt,dragStarted:Ct,putSortable:T,activeSortable:p.active,originalEvent:n,oldIndex:Et,oldDraggableIndex:Ot,newIndex:R,newDraggableIndex:it,hideGhostForTarget:wi,unhideGhostForTarget:Ii,cloneNowHidden:function(){nt=!0},cloneNowShown:function(){nt=!1},dispatchSortableEvent:function(r){O({sortable:e,name:r,originalEvent:n})}},o))};function O(t){ho(z({putSortable:T,cloneEl:S,targetEl:d,rootEl:I,oldIndex:Et,oldDraggableIndex:Ot,newIndex:R,newDraggableIndex:it},t))}var d,D,g,I,ht,Ut,S,nt,Et,R,Ot,it,Rt,T,bt=!1,Kt=!1,Qt=[],ct,H,ae,le,Ge,We,Ct,vt,$t,Mt=!1,Bt=!1,zt,_,se=[],ve=!1,Zt=[],Jt=typeof document<"u",Ht=Te,qe=Lt||Z?"cssFloat":"float",fo=Jt&&!di&&!Te&&"draggable"in document.createElement("div"),bi=function(){if(Jt){if(Z)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),yi=function(t,e){var i=f(t),n=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),o=It(t,0,e),r=It(t,1,e),a=o&&f(o),s=r&&f(r),l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+C(o).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+C(r).width;if(i.display==="flex")return i.flexDirection==="column"||i.flexDirection==="column-reverse"?"vertical":"horizontal";if(i.display==="grid")return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&a.float&&a.float!=="none"){var h=a.float==="left"?"left":"right";return r&&(s.clear==="both"||s.clear===h)?"vertical":"horizontal"}return o&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||l>=n&&i[qe]==="none"||r&&i[qe]==="none"&&l+c>n)?"vertical":"horizontal"},po=function(t,e,i){var n=i?t.left:t.top,o=i?t.right:t.bottom,r=i?t.width:t.height,a=i?e.left:e.top,s=i?e.right:e.bottom,l=i?e.width:e.height;return n===a||o===s||n+r/2===a+l/2},go=function(t,e){var i;return Qt.some(function(n){var o=n[L].options.emptyInsertThreshold;if(!(!o||Pe(n))){var r=C(n),a=t>=r.left-o&&t<=r.right+o,s=e>=r.top-o&&e<=r.bottom+o;if(a&&s)return i=n}}),i},Ei=function(t){function e(o,r){return function(a,s,l,c){var h=a.options.group.name&&s.options.group.name&&a.options.group.name===s.options.group.name;if(o==null&&(r||h))return!0;if(o==null||o===!1)return!1;if(r&&o==="clone")return o;if(typeof o=="function")return e(o(a,s,l,c),r)(a,s,l,c);var u=(r?a:s).options.group.name;return o===!0||typeof o=="string"&&o===u||o.join&&o.indexOf(u)>-1}}var i={},n=t.group;(!n||Yt(n)!="object")&&(n={name:n}),i.name=n.name,i.checkPull=e(n.pull,!0),i.checkPut=e(n.put),i.revertClone=n.revertClone,t.group=i},wi=function(){!bi&&g&&f(g,"display","none")},Ii=function(){!bi&&g&&f(g,"display","")};Jt&&!di&&document.addEventListener("click",function(t){if(Kt)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Kt=!1,!1},!0);var dt=function(t){if(d){t=t.touches?t.touches[0]:t;var e=go(t.clientX,t.clientY);if(e){var i={};for(var n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);i.target=i.rootEl=e,i.preventDefault=void 0,i.stopPropagation=void 0,e[L]._onDragOver(i)}}},mo=function(t){d&&d.parentNode[L]._isOutsideThisEl(t.target)};function p(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=Q({},e),t[L]=this;var i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return yi(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(r,a){r.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:p.supportPointer!==!1&&"PointerEvent"in window&&(!kt||Te),emptyInsertThreshold:5};Nt.initializePlugins(this,t,i);for(var n in i)!(n in e)&&(e[n]=i[n]);Ei(e);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=e.forceFallback?!1:fo,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?b(t,"pointerdown",this._onTapStart):(b(t,"mousedown",this._onTapStart),b(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(b(t,"dragover",this),b(t,"dragenter",this)),Qt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Q(this,lo())}p.prototype={constructor:p,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(vt=null)},_getDirection:function(t,e){return typeof this.options.direction=="function"?this.options.direction.call(this,t,e,d):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,i=this.el,n=this.options,o=n.preventOnFilter,r=t.type,a=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,s=(a||t).target,l=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||s,c=n.filter;if(Do(i),!d&&!(/mousedown|pointerdown/.test(r)&&t.button!==0||n.disabled)&&!l.isContentEditable&&!(!this.nativeDraggable&&kt&&s&&s.tagName.toUpperCase()==="SELECT")&&(s=X(s,n.draggable,i,!1),!(s&&s.animated)&&Ut!==s)){if(Et=B(s),Ot=B(s,n.draggable),typeof c=="function"){if(c.call(this,t,s,this)){O({sortable:e,rootEl:l,name:"filter",targetEl:s,toEl:i,fromEl:i}),M("filter",e,{evt:t}),o&&t.preventDefault();return}}else if(c&&(c=c.split(",").some(function(h){if(h=X(l,h.trim(),i,!1),h)return O({sortable:e,rootEl:h,name:"filter",targetEl:s,fromEl:i,toEl:i}),M("filter",e,{evt:t}),!0}),c)){o&&t.preventDefault();return}n.handle&&!X(l,n.handle,i,!1)||this._prepareDragStart(t,a,s)}}},_prepareDragStart:function(t,e,i){var n=this,o=n.el,r=n.options,a=o.ownerDocument,s;if(i&&!d&&i.parentNode===o){var l=C(i);if(I=o,d=i,D=d.parentNode,ht=d.nextSibling,Ut=i,Rt=r.group,p.dragged=d,ct={target:d,clientX:(e||t).clientX,clientY:(e||t).clientY},Ge=ct.clientX-l.left,We=ct.clientY-l.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,d.style["will-change"]="all",s=function(){if(M("delayEnded",n,{evt:t}),p.eventCanceled){n._onDrop();return}n._disableDelayedDragEvents(),!Xe&&n.nativeDraggable&&(d.draggable=!0),n._triggerDragStart(t,e),O({sortable:n,name:"choose",originalEvent:t}),j(d,r.chosenClass,!0)},r.ignore.split(",").forEach(function(c){fi(d,c.trim(),ce)}),b(a,"dragover",dt),b(a,"mousemove",dt),b(a,"touchmove",dt),r.supportPointer?(b(a,"pointerup",n._onDrop),!this.nativeDraggable&&b(a,"pointercancel",n._onDrop)):(b(a,"mouseup",n._onDrop),b(a,"touchend",n._onDrop),b(a,"touchcancel",n._onDrop)),Xe&&this.nativeDraggable&&(this.options.touchStartThreshold=4,d.draggable=!0),M("delayStart",this,{evt:t}),r.delay&&(!r.delayOnTouchOnly||e)&&(!this.nativeDraggable||!(Lt||Z))){if(p.eventCanceled){this._onDrop();return}r.supportPointer?(b(a,"pointerup",n._disableDelayedDrag),b(a,"pointercancel",n._disableDelayedDrag)):(b(a,"mouseup",n._disableDelayedDrag),b(a,"touchend",n._disableDelayedDrag),b(a,"touchcancel",n._disableDelayedDrag)),b(a,"mousemove",n._delayedDragTouchMoveHandler),b(a,"touchmove",n._delayedDragTouchMoveHandler),r.supportPointer&&b(a,"pointermove",n._delayedDragTouchMoveHandler),n._dragStartTimer=setTimeout(s,r.delay)}else s()}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){d&&ce(d),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;v(t,"mouseup",this._disableDelayedDrag),v(t,"touchend",this._disableDelayedDrag),v(t,"touchcancel",this._disableDelayedDrag),v(t,"pointerup",this._disableDelayedDrag),v(t,"pointercancel",this._disableDelayedDrag),v(t,"mousemove",this._delayedDragTouchMoveHandler),v(t,"touchmove",this._delayedDragTouchMoveHandler),v(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||t.pointerType=="touch"&&t,!this.nativeDraggable||e?this.options.supportPointer?b(document,"pointermove",this._onTouchMove):e?b(document,"touchmove",this._onTouchMove):b(document,"mousemove",this._onTouchMove):(b(d,"dragend",this),b(I,"dragstart",this._onDragStart));try{document.selection?Gt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,e){if(bt=!1,I&&d){M("dragStarted",this,{evt:e}),this.nativeDraggable&&b(document,"dragover",mo);var i=this.options;!t&&j(d,i.dragClass,!1),j(d,i.ghostClass,!0),p.active=this,t&&this._appendGhost(),O({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(H){this._lastX=H.clientX,this._lastY=H.clientY,wi();for(var t=document.elementFromPoint(H.clientX,H.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(H.clientX,H.clientY),t!==e);)e=t;if(d.parentNode[L]._isOutsideThisEl(t),e)do{if(e[L]){var i=void 0;if(i=e[L]._onDragOver({clientX:H.clientX,clientY:H.clientY,target:t,rootEl:e}),i&&!this.options.dragoverBubble)break}t=e}while(e=ui(e));Ii()}},_onTouchMove:function(t){if(ct){var e=this.options,i=e.fallbackTolerance,n=e.fallbackOffset,o=t.touches?t.touches[0]:t,r=g&&wt(g,!0),a=g&&r&&r.a,s=g&&r&&r.d,l=Ht&&_&&ze(_),c=(o.clientX-ct.clientX+n.x)/(a||1)+(l?l[0]-se[0]:0)/(a||1),h=(o.clientY-ct.clientY+n.y)/(s||1)+(l?l[1]-se[1]:0)/(s||1);if(!p.active&&!bt){if(i&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<i)return;this._onDragStart(t,!0)}if(g){r?(r.e+=c-(ae||0),r.f+=h-(le||0)):r={a:1,b:0,c:0,d:1,e:c,f:h};var u="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");f(g,"webkitTransform",u),f(g,"mozTransform",u),f(g,"msTransform",u),f(g,"transform",u),ae=c,le=h,H=o}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!g){var t=this.options.fallbackOnBody?document.body:I,e=C(d,!0,Ht,!0,t),i=this.options;if(Ht){for(_=t;f(_,"position")==="static"&&f(_,"transform")==="none"&&_!==document;)_=_.parentNode;_!==document.body&&_!==document.documentElement?(_===document&&(_=U()),e.top+=_.scrollTop,e.left+=_.scrollLeft):_=U(),se=ze(_)}g=d.cloneNode(!0),j(g,i.ghostClass,!1),j(g,i.fallbackClass,!0),j(g,i.dragClass,!0),f(g,"transition",""),f(g,"transform",""),f(g,"box-sizing","border-box"),f(g,"margin",0),f(g,"top",e.top),f(g,"left",e.left),f(g,"width",e.width),f(g,"height",e.height),f(g,"opacity","0.8"),f(g,"position",Ht?"absolute":"fixed"),f(g,"zIndex","100000"),f(g,"pointerEvents","none"),p.ghost=g,t.appendChild(g),f(g,"transform-origin",Ge/parseInt(g.style.width)*100+"% "+We/parseInt(g.style.height)*100+"%")}},_onDragStart:function(t,e){var i=this,n=t.dataTransfer,o=i.options;if(M("dragStart",this,{evt:t}),p.eventCanceled){this._onDrop();return}M("setupClone",this),p.eventCanceled||(S=mi(d),S.removeAttribute("id"),S.draggable=!1,S.style["will-change"]="",this._hideClone(),j(S,this.options.chosenClass,!1),p.clone=S),i.cloneId=Gt(function(){M("clone",i),!p.eventCanceled&&(i.options.removeCloneOnHide||I.insertBefore(S,d),i._hideClone(),O({sortable:i,name:"clone"}))}),!e&&j(d,o.dragClass,!0),e?(Kt=!0,i._loopId=setInterval(i._emulateDragOver,50)):(v(document,"mouseup",i._onDrop),v(document,"touchend",i._onDrop),v(document,"touchcancel",i._onDrop),n&&(n.effectAllowed="move",o.setData&&o.setData.call(i,n,d)),b(document,"drop",i),f(d,"transform","translateZ(0)")),bt=!0,i._dragStartId=Gt(i._dragStarted.bind(i,e,t)),b(document,"selectstart",i),Ct=!0,window.getSelection().removeAllRanges(),kt&&f(document.body,"user-select","none")},_onDragOver:function(t){var e=this.el,i=t.target,n,o,r,a=this.options,s=a.group,l=p.active,c=Rt===s,h=a.sort,u=T||l,E,m=this,A=!1;if(ve)return;function y(Dt,Ci){M(Dt,m,z({evt:t,isOwner:c,axis:E?"vertical":"horizontal",revert:r,dragRect:n,targetRect:o,canSort:h,fromSortable:u,target:i,completed:F,onMove:function(_e,Ai){return Xt(I,e,d,n,_e,C(_e),t,Ai)},changed:W},Ci))}function G(){y("dragOverAnimationCapture"),m.captureAnimationState(),m!==u&&u.captureAnimationState()}function F(Dt){return y("dragOverCompleted",{insertion:Dt}),Dt&&(c?l._hideClone():l._showClone(m),m!==u&&(j(d,T?T.options.ghostClass:l.options.ghostClass,!1),j(d,a.ghostClass,!0)),T!==m&&m!==p.active?T=m:m===p.active&&T&&(T=null),u===m&&(m._ignoreWhileAnimating=i),m.animateAll(function(){y("dragOverAnimationComplete"),m._ignoreWhileAnimating=null}),m!==u&&(u.animateAll(),u._ignoreWhileAnimating=null)),(i===d&&!d.animated||i===e&&!i.animated)&&(vt=null),!a.dragoverBubble&&!t.rootEl&&i!==document&&(d.parentNode[L]._isOutsideThisEl(t.target),!Dt&&dt(t)),!a.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),A=!0}function W(){R=B(d),it=B(d,a.draggable),O({sortable:m,name:"change",toEl:e,newIndex:R,newDraggableIndex:it,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),i=X(i,a.draggable,e,!0),y("dragOver"),p.eventCanceled)return A;if(d.contains(t.target)||i.animated&&i.animatingX&&i.animatingY||m._ignoreWhileAnimating===i)return F(!1);if(Kt=!1,l&&!a.disabled&&(c?h||(r=D!==I):T===this||(this.lastPutMode=Rt.checkPull(this,l,d,t))&&s.checkPut(this,l,d,t))){if(E=this._getDirection(t,i)==="vertical",n=C(d),y("dragOverValid"),p.eventCanceled)return A;if(r)return D=I,G(),this._hideClone(),y("revert"),p.eventCanceled||(ht?I.insertBefore(d,ht):I.appendChild(d)),F(!0);var P=Pe(e,a.draggable);if(!P||Eo(t,E,this)&&!P.animated){if(P===d)return F(!1);if(P&&e===t.target&&(i=P),i&&(o=C(i)),Xt(I,e,d,n,i,o,t,!!i)!==!1)return G(),P&&P.nextSibling?e.insertBefore(d,P.nextSibling):e.appendChild(d),D=e,W(),F(!0)}else if(P&&yo(t,E,this)){var rt=It(e,0,a,!0);if(rt===d)return F(!1);if(i=rt,o=C(i),Xt(I,e,d,n,i,o,t,!1)!==!1)return G(),e.insertBefore(d,rt),D=e,W(),F(!0)}else if(i.parentNode===e){o=C(i);var Y=0,at,St=d.parentNode!==e,ft=!po(d.animated&&d.toRect||n,i.animated&&i.toRect||o,E),N=E?"top":"left",V=Ue(i,"top","top")||Ue(d,"top","top"),jt=V?V.scrollTop:void 0;vt!==i&&(at=o[N],Mt=!1,Bt=!ft&&a.invertSwap||St),Y=wo(t,i,o,E,ft?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,Bt,vt===i);var q;if(Y!==0){var pt=B(d);do pt-=Y,q=D.children[pt];while(q&&(f(q,"display")==="none"||q===g))}if(Y===0||q===i)return F(!1);vt=i,$t=Y;var lt=i.nextElementSibling,J=!1;J=Y===1;var st=Xt(I,e,d,n,i,o,t,J);if(st!==!1)return(st===1||st===-1)&&(J=st===1),ve=!0,setTimeout(bo,30),G(),J&&!lt?e.appendChild(d):i.parentNode.insertBefore(d,J?lt:i),V&&gi(V,0,jt-V.scrollTop),D=d.parentNode,at!==void 0&&!Bt&&(zt=Math.abs(at-C(i)[N])),W(),F(!0)}if(e.contains(d))return F(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){v(document,"mousemove",this._onTouchMove),v(document,"touchmove",this._onTouchMove),v(document,"pointermove",this._onTouchMove),v(document,"dragover",dt),v(document,"mousemove",dt),v(document,"touchmove",dt)},_offUpEvents:function(){var t=this.el.ownerDocument;v(t,"mouseup",this._onDrop),v(t,"touchend",this._onDrop),v(t,"pointerup",this._onDrop),v(t,"pointercancel",this._onDrop),v(t,"touchcancel",this._onDrop),v(document,"selectstart",this)},_onDrop:function(t){var e=this.el,i=this.options;if(R=B(d),it=B(d,i.draggable),M("drop",this,{evt:t}),D=d&&d.parentNode,R=B(d),it=B(d,i.draggable),p.eventCanceled){this._nulling();return}bt=!1,Bt=!1,Mt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),be(this.cloneId),be(this._dragStartId),this.nativeDraggable&&(v(document,"drop",this),v(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),kt&&f(document.body,"user-select",""),f(d,"transform",""),t&&(Ct&&(t.cancelable&&t.preventDefault(),!i.dropBubble&&t.stopPropagation()),g&&g.parentNode&&g.parentNode.removeChild(g),(I===D||T&&T.lastPutMode!=="clone")&&S&&S.parentNode&&S.parentNode.removeChild(S),d&&(this.nativeDraggable&&v(d,"dragend",this),ce(d),d.style["will-change"]="",Ct&&!bt&&j(d,T?T.options.ghostClass:this.options.ghostClass,!1),j(d,this.options.chosenClass,!1),O({sortable:this,name:"unchoose",toEl:D,newIndex:null,newDraggableIndex:null,originalEvent:t}),I!==D?(R>=0&&(O({rootEl:D,name:"add",toEl:D,fromEl:I,originalEvent:t}),O({sortable:this,name:"remove",toEl:D,originalEvent:t}),O({rootEl:D,name:"sort",toEl:D,fromEl:I,originalEvent:t}),O({sortable:this,name:"sort",toEl:D,originalEvent:t})),T&&T.save()):R!==Et&&R>=0&&(O({sortable:this,name:"update",toEl:D,originalEvent:t}),O({sortable:this,name:"sort",toEl:D,originalEvent:t})),p.active&&((R==null||R===-1)&&(R=Et,it=Ot),O({sortable:this,name:"end",toEl:D,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){M("nulling",this),I=d=D=g=ht=S=Ut=nt=ct=H=Ct=R=it=Et=Ot=vt=$t=T=Rt=p.dragged=p.ghost=p.clone=p.active=null,Zt.forEach(function(t){t.checked=!0}),Zt.length=ae=le=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":d&&(this._onDragOver(t),vo(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],e,i=this.el.children,n=0,o=i.length,r=this.options;n<o;n++)e=i[n],X(e,r.draggable,this.el,!1)&&t.push(e.getAttribute(r.dataIdAttr)||So(e));return t},sort:function(t,e){var i={},n=this.el;this.toArray().forEach(function(o,r){var a=n.children[r];X(a,this.options.draggable,n,!1)&&(i[o]=a)},this),e&&this.captureAnimationState(),t.forEach(function(o){i[o]&&(n.removeChild(i[o]),n.appendChild(i[o]))}),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return X(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var i=this.options;if(e===void 0)return i[t];var n=Nt.modifyOption(this,t,e);typeof n<"u"?i[t]=n:i[t]=e,t==="group"&&Ei(i)},destroy:function(){M("destroy",this);var t=this.el;t[L]=null,v(t,"mousedown",this._onTapStart),v(t,"touchstart",this._onTapStart),v(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(v(t,"dragover",this),v(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Qt.splice(Qt.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!nt){if(M("hideClone",this),p.eventCanceled)return;f(S,"display","none"),this.options.removeCloneOnHide&&S.parentNode&&S.parentNode.removeChild(S),nt=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(nt){if(M("showClone",this),p.eventCanceled)return;d.parentNode==I&&!this.options.group.revertClone?I.insertBefore(S,d):ht?I.insertBefore(S,ht):I.appendChild(S),this.options.group.revertClone&&this.animate(d,S),f(S,"display",""),nt=!1}}};function vo(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Xt(t,e,i,n,o,r,a,s){var l,c=t[L],h=c.options.onMove,u;return window.CustomEvent&&!Z&&!Lt?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=i,l.draggedRect=n,l.related=o||e,l.relatedRect=r||C(e),l.willInsertAfter=s,l.originalEvent=a,t.dispatchEvent(l),h&&(u=h.call(c,l,a)),u}function ce(t){t.draggable=!1}function bo(){ve=!1}function yo(t,e,i){var n=C(It(i.el,0,i.options,!0)),o=vi(i.el,i.options,g),r=10;return e?t.clientX<o.left-r||t.clientY<n.top&&t.clientX<n.right:t.clientY<o.top-r||t.clientY<n.bottom&&t.clientX<n.left}function Eo(t,e,i){var n=C(Pe(i.el,i.options.draggable)),o=vi(i.el,i.options,g),r=10;return e?t.clientX>o.right+r||t.clientY>n.bottom&&t.clientX>n.left:t.clientY>o.bottom+r||t.clientX>n.right&&t.clientY>n.top}function wo(t,e,i,n,o,r,a,s){var l=n?t.clientY:t.clientX,c=n?i.height:i.width,h=n?i.top:i.left,u=n?i.bottom:i.right,E=!1;if(!a){if(s&&zt<c*o){if(!Mt&&($t===1?l>h+c*r/2:l<u-c*r/2)&&(Mt=!0),Mt)E=!0;else if($t===1?l<h+zt:l>u-zt)return-$t}else if(l>h+c*(1-o)/2&&l<u-c*(1-o)/2)return Io(e)}return E=E||a,E&&(l<h+c*r/2||l>u-c*r/2)?l>h+c/2?1:-1:0}function Io(t){return B(d)<B(t)?1:-1}function So(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,i=e.length,n=0;i--;)n+=e.charCodeAt(i);return n.toString(36)}function Do(t){Zt.length=0;for(var e=t.getElementsByTagName("input"),i=e.length;i--;){var n=e[i];n.checked&&Zt.push(n)}}function Gt(t){return setTimeout(t,0)}function be(t){return clearTimeout(t)}Jt&&b(document,"touchmove",function(t){(p.active||bt)&&t.cancelable&&t.preventDefault()}),p.utils={on:b,off:v,css:f,find:fi,is:function(t,e){return!!X(t,e,t,!1)},extend:ro,throttle:pi,closest:X,toggleClass:j,clone:mi,index:B,nextTick:Gt,cancelNextTick:be,detectDirection:yi,getChild:It,expando:L},p.get=function(t){return t[L]},p.mount=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e[0].constructor===Array&&(e=e[0]),e.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(p.utils=z(z({},p.utils),n.utils)),Nt.mount(n)})},p.create=function(t,e){return new p(t,e)},p.version=no;var x=[],At,ye,Ee=!1,de,he,Vt,Tt;function xo(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(e){var i=e.originalEvent;this.sortable.nativeDraggable?b(document,"dragover",this._handleAutoScroll):this.options.supportPointer?b(document,"pointermove",this._handleFallbackAutoScroll):i.touches?b(document,"touchmove",this._handleFallbackAutoScroll):b(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var i=e.originalEvent;!this.options.dragOverBubble&&!i.rootEl&&this._handleAutoScroll(i)},drop:function(){this.sortable.nativeDraggable?v(document,"dragover",this._handleAutoScroll):(v(document,"pointermove",this._handleFallbackAutoScroll),v(document,"touchmove",this._handleFallbackAutoScroll),v(document,"mousemove",this._handleFallbackAutoScroll)),Ke(),Wt(),ao()},nulling:function(){Vt=ye=At=Ee=Tt=de=he=null,x.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,i){var n=this,o=(e.touches?e.touches[0]:e).clientX,r=(e.touches?e.touches[0]:e).clientY,a=document.elementFromPoint(o,r);if(Vt=e,i||this.options.forceAutoScrollFallback||Lt||Z||kt){ue(e,this.options,a,i);var s=ot(a,!0);Ee&&(!Tt||o!==de||r!==he)&&(Tt&&Ke(),Tt=setInterval(function(){var l=ot(document.elementFromPoint(o,r),!0);l!==s&&(s=l,Wt()),ue(e,n.options,l,i)},10),de=o,he=r)}else{if(!this.options.bubbleScroll||ot(a,!0)===U()){Wt();return}ue(e,this.options,ot(a,!1),!1)}}},Q(t,{pluginName:"scroll",initializeByDefault:!0})}function Wt(){x.forEach(function(t){clearInterval(t.pid)}),x=[]}function Ke(){clearInterval(Tt)}var ue=pi(function(t,e,i,n){if(e.scroll){var o=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,a=e.scrollSensitivity,s=e.scrollSpeed,l=U(),c=!1,h;ye!==i&&(ye=i,Wt(),At=e.scroll,h=e.scrollFn,At===!0&&(At=ot(i,!0)));var u=0,E=At;do{var m=E,A=C(m),y=A.top,G=A.bottom,F=A.left,W=A.right,P=A.width,rt=A.height,Y=void 0,at=void 0,St=m.scrollWidth,ft=m.scrollHeight,N=f(m),V=m.scrollLeft,jt=m.scrollTop;m===l?(Y=P<St&&(N.overflowX==="auto"||N.overflowX==="scroll"||N.overflowX==="visible"),at=rt<ft&&(N.overflowY==="auto"||N.overflowY==="scroll"||N.overflowY==="visible")):(Y=P<St&&(N.overflowX==="auto"||N.overflowX==="scroll"),at=rt<ft&&(N.overflowY==="auto"||N.overflowY==="scroll"));var q=Y&&(Math.abs(W-o)<=a&&V+P<St)-(Math.abs(F-o)<=a&&!!V),pt=at&&(Math.abs(G-r)<=a&&jt+rt<ft)-(Math.abs(y-r)<=a&&!!jt);if(!x[u])for(var lt=0;lt<=u;lt++)x[lt]||(x[lt]={});(x[u].vx!=q||x[u].vy!=pt||x[u].el!==m)&&(x[u].el=m,x[u].vx=q,x[u].vy=pt,clearInterval(x[u].pid),(q!=0||pt!=0)&&(c=!0,x[u].pid=setInterval(function(){n&&this.layer===0&&p.active._onTouchMove(Vt);var J=x[this.layer].vy?x[this.layer].vy*s:0,st=x[this.layer].vx?x[this.layer].vx*s:0;typeof h=="function"&&h.call(p.dragged.parentNode[L],st,J,t,Vt,x[this.layer].el)!=="continue"||gi(x[this.layer].el,st,J)}.bind({layer:u}),24))),u++}while(e.bubbleScroll&&E!==l&&(E=ot(E,!1)));Ee=c}},30),Si=function(t){var e=t.originalEvent,i=t.putSortable,n=t.dragEl,o=t.activeSortable,r=t.dispatchSortableEvent,a=t.hideGhostForTarget,s=t.unhideGhostForTarget;if(e){var l=i||o;a();var c=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,h=document.elementFromPoint(c.clientX,c.clientY);s(),l&&!l.el.contains(h)&&(r("spill"),this.onSpill({dragEl:n,putSortable:i}))}};function we(){}we.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,i=t.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var n=It(this.sortable.el,this.startIndex,this.options);n?this.sortable.el.insertBefore(e,n):this.sortable.el.appendChild(e),this.sortable.animateAll(),i&&i.animateAll()},drop:Si},Q(we,{pluginName:"revertOnSpill"});function fe(){}fe.prototype={onSpill:function(t){var e=t.dragEl,i=t.putSortable,n=i||this.sortable;n.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),n.animateAll()},drop:Si},Q(fe,{pluginName:"removeOnSpill"}),p.mount(new xo),p.mount(fe,we);const te=new Set,Co={ghostClass:"calcite-sortable--ghost",chosenClass:"calcite-sortable--chosen",dragClass:"calcite-sortable--drag",fallbackClass:"calcite-sortable--fallback"};function Ao(t){if(xi(t))return;Di(t),te.add(t);const e="id",{group:i,handleSelector:n,dragSelector:o}=t;t.sortable=p.create(t.el,{dataIdAttr:e,...Co,...!!o&&{draggable:o},...!!i&&{group:{name:i,...!!t.canPull&&{pull:(r,a,s,{newDraggableIndex:l,oldDraggableIndex:c})=>t.canPull({toEl:r.el,fromEl:a.el,dragEl:s,newIndex:l,oldIndex:c})},...!!t.canPut&&{put:(r,a,s,{newDraggableIndex:l,oldDraggableIndex:c})=>t.canPut({toEl:r.el,fromEl:a.el,dragEl:s,newIndex:l,oldIndex:c})}}},onMove:({from:r,dragged:a,to:s,related:l})=>{t.onDragMove&&t.onDragMove({fromEl:r,dragEl:a,toEl:s,relatedEl:l})},handle:n,filter:`${n}[disabled]`,onStart:({from:r,item:a,to:s,newDraggableIndex:l,oldDraggableIndex:c})=>{Ie.active=!0,To(),t.onDragStart({fromEl:r,dragEl:a,toEl:s,newIndex:l,oldIndex:c})},onEnd:({from:r,item:a,to:s,newDraggableIndex:l,oldDraggableIndex:c})=>{Ie.active=!1,Po(),t.onDragEnd({fromEl:r,dragEl:a,toEl:s,newIndex:l,oldIndex:c})},onSort:({from:r,item:a,to:s,newDraggableIndex:l,oldDraggableIndex:c})=>{t.onDragSort({fromEl:r,dragEl:a,toEl:s,newIndex:l,oldIndex:c})}})}function Di(t){xi(t)||(te.delete(t),t.sortable?.destroy(),t.sortable=null)}const Ie={active:!1};function xi(t){return t.dragEnabled&&Ie.active}function To(){Array.from(te).forEach(t=>t.onGlobalDragStart())}function Po(){Array.from(te).forEach(t=>t.onGlobalDragEnd())}const tt={container:"container",table:"table",scrim:"scrim",stack:"stack",tableContainer:"table-container",sticky:"sticky-pos",assistiveText:"assistive-text"},pe={filterNoResults:"filter-no-results",filterActionsStart:"filter-actions-start",filterActionsEnd:"filter-actions-end"},_o=De`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:block}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.container{position:relative;background-color:var(--calcite-list-background-color, var(--calcite-color-foreground-1))}.table-container{box-sizing:border-box;display:flex;inline-size:100%;flex-direction:column;background-color:transparent}.table-container *{box-sizing:border-box}.table{inline-size:100%}.stack{--calcite-stack-padding-inline: 0;--calcite-stack-padding-block: 0}.sticky-pos{position:sticky;inset-block-start:0px;z-index:var(--calcite-z-index-sticky);background-color:var(--calcite-list-background-color, var(--calcite-color-foreground-1))}.assistive-text{position:absolute;inline-size:1px;block-size:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}:host([hidden]){display:none}[hidden]{display:none}`,ko=`${me}, ${xt}`;class Fo extends xe{constructor(){super(),this.dragSelector=xt,this.focusableItems=[],this.handleSelector="calcite-sort-handle",this.listItems=[],this.listItemGroups=[],this.mutationObserver=Oi("mutation",()=>{this.willPerformFilter=!0,this.updateListItems()}),this.updateListItems=Ze(()=>{this.updateGroupItems();const{selectionAppearance:e,selectionMode:i,interactionMode:n,dragEnabled:o,el:r,filterEl:a,moveToItems:s,displayMode:l,scale:c}=this,h=Array.from(this.el.querySelectorAll(xt));if(h.forEach(u=>{u.scale=c,u.selectionAppearance=e,u.selectionMode=i,u.interactionMode=n,u.closest(ee)===r&&(u.moveToItems=s.filter(E=>E.element!==r&&!u.contains(E.element)),u.dragHandle=o,u.displayMode=l)}),this.parentListEl){this.setUpSorting();return}this.listItems=h,this.filterEnabled&&this.willPerformFilter&&(this.willPerformFilter=!1,this.dataForFilter=this.getItemData(),a&&(a.items=this.dataForFilter,this.filterAndUpdateData())),this.visibleItems=this.listItems.filter(u=>!u.closed&&!u.hidden),this.updateFilteredItems(),this.borderItems(),this.focusableItems=this.filteredItems.filter(u=>!u.disabled),this.setActiveListItem(),this.updateSelectedItems(),this.setUpSorting()},Qe.nextTick),this.visibleItems=[],this.willFilterEmit=!1,this.willPerformFilter=!1,this.messages=ii({blocking:!0}),this.dataForFilter=[],this.hasFilterActionsEnd=!1,this.hasFilterActionsStart=!1,this.hasFilterNoResults=!1,this.moveToItems=[],this.disabled=!1,this.dragEnabled=!1,this.filterEnabled=!1,this.filteredData=[],this.filteredItems=[],this.interactionMode="interactive",this.loading=!1,this.displayMode="flat",this.scale="m",this.selectedItems=[],this.selectionAppearance="icon",this.selectionMode="none",this.calciteInternalListDefaultSlotChange=et({cancelable:!1}),this.calciteListChange=et({cancelable:!1}),this.calciteListDragEnd=et({cancelable:!1}),this.calciteListDragStart=et({cancelable:!1}),this.calciteListFilter=et({cancelable:!1}),this.calciteListMoveHalt=et({cancelable:!1}),this.calciteListOrderChange=et({cancelable:!1}),this.listen("calciteInternalListItemToggle",this.handleCalciteListItemToggle),this.listen("calciteInternalFocusPreviousItem",this.handleCalciteInternalFocusPreviousItem),this.listen("calciteInternalListItemActive",this.handleCalciteInternalListItemActive),this.listen("calciteListItemSelect",this.handleCalciteListItemSelect),this.listen("calciteInternalAssistiveTextChange",this.handleCalciteInternalAssistiveTextChange),this.listen("calciteSortHandleReorder",this.handleSortReorder),this.listen("calciteSortHandleMove",this.handleSortMove),this.listen("calciteInternalListItemSelect",this.handleCalciteInternalListItemSelect),this.listen("calciteInternalListItemSelectMultiple",this.handleCalciteInternalListItemSelectMultiple),this.listen("calciteInternalListItemChange",this.handleCalciteInternalListItemChange),this.listen("calciteInternalListItemGroupDefaultSlotChange",this.handleCalciteInternalListItemGroupDefaultSlotChange)}static{this.properties={assistiveText:[16,{},{state:!0}],dataForFilter:[16,{},{state:!0}],hasFilterActionsEnd:[16,{},{state:!0}],hasFilterActionsStart:[16,{},{state:!0}],hasFilterNoResults:[16,{},{state:!0}],moveToItems:[16,{},{state:!0}],hasActiveFilter:[16,{},{state:!0}],showNoResultsContainer:[16,{},{state:!0}],canPull:[0,{},{attribute:!1}],canPut:[0,{},{attribute:!1}],disabled:[7,{},{reflect:!0,type:Boolean}],dragEnabled:[7,{},{reflect:!0,type:Boolean}],filterEnabled:[7,{},{reflect:!0,type:Boolean}],filterPredicate:[0,{},{attribute:!1}],filterLabel:[3,{},{reflect:!0}],filterPlaceholder:[3,{},{reflect:!0}],filterProps:[0,{},{attribute:!1}],filterText:[3,{},{reflect:!0}],filteredData:[0,{},{attribute:!1}],filteredItems:[0,{},{attribute:!1}],group:[3,{},{reflect:!0}],interactionMode:[3,{},{reflect:!0}],label:1,loading:[7,{},{reflect:!0,type:Boolean}],messageOverrides:[0,{},{attribute:!1}],displayMode:[3,{},{reflect:!0}],numberingSystem:1,scale:[3,{},{reflect:!0}],selectedItems:[0,{},{attribute:!1}],selectionAppearance:[3,{},{reflect:!0}],selectionMode:[3,{},{reflect:!0}]}}static{this.styles=_o}get hasActiveFilter(){return this.filterEnabled&&this.filterText&&this.filteredItems.length!==this.visibleItems.length}get showNoResultsContainer(){return this.filterEnabled&&this.filterText&&this.hasFilterNoResults&&this.visibleItems.length&&!this.filteredItems.length}putFailed(e){this.calciteListMoveHalt.emit(e)}async setFocus(){return await ei(this),this.filterEnabled?this.filterEl?.setFocus():this.focusableItems.find(e=>e.active)?.setFocus()}connectedCallback(){super.connectedCallback(),this.connectObserver(),this.willPerformFilter=!0,this.updateListItems(),this.setUpSorting(),this.setParentList(),this.setListItemGroups()}async load(){this.handleInteractionModeWarning()}willUpdate(e){(e.has("filterText")||e.has("filterProps")||e.has("filterPredicate"))&&this.performFilter(),(e.has("filterEnabled")&&(this.hasUpdated||this.filterEnabled!==!1)||e.has("group")||e.has("dragEnabled")&&(this.hasUpdated||this.dragEnabled!==!1)||e.has("selectionMode")&&(this.hasUpdated||this.selectionMode!=="none")||e.has("selectionAppearance")&&(this.hasUpdated||this.selectionAppearance!=="icon")||e.has("displayMode")&&this.hasUpdated||e.has("scale")&&this.hasUpdated||e.has("filterPredicate")&&this.hasUpdated)&&this.handleListItemChange()}updated(){Je(this)}disconnectedCallback(){super.disconnectedCallback(),this.disconnectObserver(),Di(this)}handleListItemChange(){this.willPerformFilter=!0,this.updateListItems()}handleCalciteListItemToggle(e){this.parentListEl||(e.stopPropagation(),this.borderItems())}handleCalciteInternalFocusPreviousItem(e){if(this.parentListEl)return;e.stopPropagation();const{focusableItems:i}=this,n=i.findIndex(o=>o.active)-1;i[n]&&this.focusRow(i[n])}handleCalciteInternalListItemActive(e){if(this.parentListEl)return;e.stopPropagation();const i=e.target,{listItems:n}=this;n.forEach(o=>{o.active=o===i})}handleCalciteListItemSelect(){this.parentListEl||this.updateSelectedItems(!0)}handleCalciteInternalAssistiveTextChange(e){this.assistiveText=e.detail.message,e.stopPropagation()}handleSortReorder(e){this.parentListEl||e.defaultPrevented||(e.preventDefault(),this.handleReorder(e))}handleSortMove(e){this.parentListEl||e.defaultPrevented||(e.preventDefault(),this.handleMove(e))}handleCalciteInternalListItemSelect(e){if(this.parentListEl)return;e.stopPropagation();const i=e.target,{listItems:n,selectionMode:o}=this;i.selected&&(o==="single"||o==="single-persist")&&n.forEach(r=>r.selected=r===i),this.updateSelectedItems()}handleCalciteInternalListItemSelectMultiple(e){if(this.parentListEl)return;e.stopPropagation();const{target:i,detail:n}=e,{focusableItems:o,lastSelectedInfo:r}=this,a=i;if(n.selectMultiple&&r){const s=o.indexOf(a),l=o.indexOf(r.selectedItem),c=Math.min(l,s),h=Math.max(l,s);o.slice(c,h+1).forEach(u=>u.selected=r.selected)}else this.lastSelectedInfo={selectedItem:a,selected:a.selected}}handleCalciteInternalListItemChange(e){this.parentListEl||(e.stopPropagation(),this.updateListItems())}handleCalciteInternalListItemGroupDefaultSlotChange(e){e.stopPropagation()}connectObserver(){this.mutationObserver?.observe(this.el,{childList:!0,subtree:!0})}disconnectObserver(){this.mutationObserver?.disconnect()}setUpSorting(){const{dragEnabled:e,defaultSlotEl:i}=this;e&&(i&&$i(i),Ao(this))}onGlobalDragStart(){this.disconnectObserver()}onGlobalDragEnd(){this.connectObserver()}onDragEnd(e){this.calciteListDragEnd.emit(e)}onDragStart(e){e.dragEl.sortHandleOpen=!1,this.calciteListDragStart.emit(e)}onDragSort(e){this.setParentList(),this.updateListItems(),this.calciteListOrderChange.emit(e)}setParentList(){this.parentListEl=this.el.parentElement?.closest(ee)}handleDefaultSlotChange(){this.parentListEl&&this.calciteInternalListDefaultSlotChange.emit()}setListItemGroups(){this.listItemGroups=Array.from(this.el.querySelectorAll(me))}handleFilterActionsStartSlotChange(e){this.hasFilterActionsStart=ut(e)}handleFilterActionsEndSlotChange(e){this.hasFilterActionsEnd=ut(e)}handleFilterNoResultsSlotChange(e){this.hasFilterNoResults=ut(e)}setActiveListItem(){const{focusableItems:e}=this;e.some(i=>i.active)||e[0]&&(e[0].active=!0)}async updateSelectedItems(e=!1){await this.updateComplete,this.selectedItems=this.visibleItems.filter(i=>i.selected),e&&this.calciteListChange.emit()}filterElements({el:e,filteredItems:i,visibleParents:n}){const o=!n.has(e)&&!i.includes(e);e.filterHidden=o;const r=e.parentElement.closest(ko);r&&(o||n.add(r),this.filterElements({el:r,filteredItems:i,visibleParents:n}))}allParentListItemsExpanded(e){const i=e.parentElement?.closest(xt);if(i){if(!i.expanded)return!1}else return!0;return this.allParentListItemsExpanded(i)}borderItems(){const e=this.visibleItems.filter(i=>!i.filterHidden&&this.allParentListItemsExpanded(i));e.forEach(i=>i.bordered=i!==e[e.length-1])}updateFilteredItems(){const{visibleItems:e,filteredData:i,filterText:n,filterPredicate:o}=this,r=e?.filter(l=>e.every(c=>c===l||!l.contains(c))),a=o?e.filter(o):n?i.map(l=>l.el):e||[],s=new WeakSet;r.forEach(l=>this.filterElements({el:l,filteredItems:a,visibleParents:s})),this.filteredItems=a,this.willFilterEmit&&(this.willFilterEmit=!1,this.calciteListFilter.emit())}updateFilteredData(){const{filterEl:e}=this;e&&(e.filteredItems&&(this.filteredData=e.filteredItems),this.updateListItems())}async filterAndUpdateData(){await this.filterEl?.filter(this.filterText),this.updateFilteredData()}get effectiveFilterProps(){return this.filterProps?this.filterProps.filter(e=>e!=="el"):["description","label","metadata","heading"]}performFilter(){const{filterEl:e,filterText:i,effectiveFilterProps:n}=this;e&&(e.value=i,e.filterProps=n,this.filterAndUpdateData())}setDefaultSlotEl(e){this.defaultSlotEl=e}setFilterEl(e){this.filterEl=e,this.performFilter()}handleFilterChange(e){e.stopPropagation();const{value:i}=e.currentTarget;this.filterText=i,this.willFilterEmit=!0,this.updateFilteredData()}getItemData(){return this.listItems.map(e=>({label:e.label,description:e.description,metadata:e.metadata,heading:this.getGroupHeading(e),el:e}))}getGroupHeading(e){return this.listItemGroups.filter(i=>i.contains(e)).map(i=>i.heading)}updateGroupItems(){const{el:e,group:i,scale:n}=this,o=Ti(e),r=i?Array.from(o.querySelectorAll(`${ee}[group="${i}"]`)).filter(a=>!a.disabled&&a.dragEnabled):[];this.moveToItems=r.map(a=>({element:a,label:a.label??a.id,id:Li()})),Array.from(this.el.querySelectorAll(me)).forEach(a=>{a.scale=n})}focusRow(e){const{focusableItems:i}=this;e&&(i.forEach(n=>n.active=n===e),e.setFocus())}isNavigable(e){const i=e.parentElement?.closest(xt);return i?i.expanded&&this.isNavigable(i):!0}handleListKeydown(e){if(e.defaultPrevented||this.parentListEl)return;const{key:i}=e,n=this.focusableItems.filter(r=>this.isNavigable(r)),o=n.findIndex(r=>r.active);if(i==="ArrowDown"){e.preventDefault();const r=e.target===this.filterEl?0:o+1;n[r]&&this.focusRow(n[r])}else if(i==="ArrowUp"){if(e.preventDefault(),o===0&&this.filterEnabled){this.filterEl?.setFocus();return}const r=o-1;n[r]&&this.focusRow(n[r])}else if(i==="Home"){e.preventDefault();const r=n[0];r&&this.focusRow(r)}else if(i==="End"){e.preventDefault();const r=n[n.length-1];r&&this.focusRow(r)}}handleInteractionModeWarning(){this.interactionMode==="static"&&this.selectionMode!=="none"&&this.selectionAppearance==="border"&&console.warn('selection-appearance="border" requires interaction-mode="interactive"')}handleMove(e){const{moveTo:i}=e.detail,n=e.target,o=n?.parentElement,r=i.element,a=Array.from(o.children).filter(Fe).indexOf(n),s=0;if(o){if(o.canPull?.({toEl:r,fromEl:o,dragEl:n,newIndex:s,oldIndex:a})===!1){this.calciteListMoveHalt.emit({toEl:r,fromEl:o,dragEl:n,oldIndex:a,newIndex:s});return}if(r.canPut?.({toEl:r,fromEl:o,dragEl:n,newIndex:s,oldIndex:a})===!1){r.putFailed({toEl:r,fromEl:o,dragEl:n,oldIndex:a,newIndex:s});return}n.sortHandleOpen=!1,this.disconnectObserver(),r.prepend(n),Mi(n),this.updateListItems(),this.connectObserver(),this.calciteListOrderChange.emit({dragEl:n,fromEl:o,toEl:r,newIndex:s,oldIndex:a})}}handleReorder(e){const{reorder:i}=e.detail,n=e.target,o=n?.parentElement;if(!o)return;n.sortHandleOpen=!1;const r=Array.from(o.children).filter(Fe),a=r.length-1,s=r.indexOf(n);let l=s;switch(i){case"top":l=0;break;case"bottom":l=a;break;case"up":l=s===0?0:s-1;break;case"down":l=s===a?a:s+1;break}this.disconnectObserver();const c=i==="up"||i==="top"?r[l]:r[l].nextSibling;o.insertBefore(n,c),this.updateListItems(),this.connectObserver(),this.calciteListOrderChange.emit({dragEl:n,fromEl:o,toEl:o,newIndex:l,oldIndex:s})}render(){const{loading:e,label:i,disabled:n,dataForFilter:o,filterEnabled:r,filterPlaceholder:a,filterText:s,filterLabel:l,hasFilterActionsStart:c,hasFilterActionsEnd:h,effectiveFilterProps:u}=this;return ti({disabled:this.disabled,children:k`<div class=${$(tt.container)}>${this.dragEnabled?k`<span aria-live=assertive class=${$(tt.assistiveText)}>${this.assistiveText}</span>`:null}${this.renderItemAriaLive()}${e?k`<calcite-scrim class=${$(tt.scrim)} .loading=${e}></calcite-scrim>`:null}<div .ariaBusy=${e} .ariaLabel=${i||""} class=${$(tt.table)} @keydown=${this.handleListKeydown} role=treegrid>${r||c||h?k`<div class=${$(tt.sticky)} role=rowgroup><div role=row><div role=columnheader><calcite-stack class=${$(tt.stack)}><slot name=${pe.filterActionsStart} @slotchange=${this.handleFilterActionsStartSlotChange} slot=${yt.actionsStart}></slot><calcite-filter .ariaLabel=${a} .disabled=${n} .filterProps=${u} .items=${o} .label=${l} @calciteFilterChange=${this.handleFilterChange} .placeholder=${a} .scale=${this.scale} .value=${s} ${ge(this.setFilterEl)}></calcite-filter><slot name=${pe.filterActionsEnd} @slotchange=${this.handleFilterActionsEndSlotChange} slot=${yt.actionsEnd}></slot></calcite-stack></div></div></div>`:null}<div class=${$(tt.tableContainer)} role=rowgroup><slot @slotchange=${this.handleDefaultSlotChange} ${ge(this.setDefaultSlotEl)}></slot></div></div><div aria-live=polite data-test-id=no-results-container .hidden=${!this.showNoResultsContainer}><slot name=${pe.filterNoResults} @slotchange=${this.handleFilterNoResultsSlotChange}></slot></div></div>`})}renderItemAriaLive(){const{messages:e,filteredItems:i,parentListEl:n,messages:{_lang:o},numberingSystem:r}=this;return Oe.numberFormatOptions={locale:o,numberingSystem:r},n?null:k`<div aria-live=polite class=${$(tt.assistiveText)}>${this.hasActiveFilter?Pt("aria-filter-enabled",k`<div>${e.filterEnabled}</div>`):null}${Pt("aria-item-count",k`<div>${e.total.replace("{count}",Oe.localize(i.length.toString()))}</div>`)}${i.length?Pt("aria-item-list",k`<ol>${i.map(a=>k`<li>${a.label}</li>`)}</ol>`):null}</div>`}}Se("calcite-list",Fo);export{Fo as List};
