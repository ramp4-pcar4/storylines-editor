const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./geometryEngineJSON-DUmg2EKv-CRcpG29O.js","./geometryEngineBase-BcMV6k0z-BPq48LKe.js","./_commonjsHelpers-BITg13Vk-KnjfkSck.js","./json-BI97KiBB-Ce5cWfI2.js"])))=>i.map(i=>d[i]);
import{_ as R}from"./main-CgXE8sFZ.js";import{i as q,n as T}from"./defaultCIMValues-BcSaJjm--58G-soMN.js";function B(t){return typeof t=="function"}function Z(t,e,r,n){return B(t)?t(e,r,n):t}function tt(t){return[t.r,t.g,t.b,t.a]}const j=` /-,
`;function N(t){let e=t.length;for(;e--;)if(!j.includes(t.charAt(e)))return!1;return!0}function et(t,e){const r=[];let n=0,l=-1;do if(l=t.indexOf("[",n),l>=n){if(l>n){const o=t.slice(n,l);r.push([o,null,N(o)])}if(n=l+1,l=t.indexOf("]",n),l>=n){if(l>n){const o=e[t.slice(n,l)];o&&r.push([null,o,!1])}n=l+1}}while(l!==-1);if(n<t.length){const o=t.slice(n);r.push([o,null,N(o)])}return r}function rt(t,e,r){let n="",l=null;for(const o of e){const[i,a,u]=o;if(i!=null&&i!=="")u?l=i:(l!=null&&(n+=l,l=null),n+=i);else{const s=t.readAttribute(a);s!=null&&s!==""&&(l!==null&&(n+=l,l=null),n+=s)}}return O(n,r)}function nt(t,e,r,n){let l="",o=null;for(const i of e){const[a,u,s]=i;if(a!=null&&a!=="")s?o=a:(o!=null&&(l+=o,o=null),l+=a);else{let m=u;r!=null&&(m=X(u,r));const c=t.attributes[m];c!=null&&c!==""&&(o!=null&&(l+=o,o=null),l+=c)}}return O(l,n)}function O(t,e){switch(typeof t!="string"&&(t=String(t)),e){case"LowerCase":return t.toLowerCase();case"Allcaps":return t.toUpperCase();default:return t}}function ot(t,e,r,n,l,o,i=!0){const a=e/l,u=r/o,s=Math.ceil(a/2),m=Math.ceil(u/2);for(let c=0;c<o;c++)for(let f=0;f<l;f++){const p=4*(f+(i?o-c-1:c)*l);let M=0,I=0,b=0,d=0,P=0,S=0,k=0;const L=(c+.5)*u;for(let h=Math.floor(c*u);h<(c+1)*u;h++){const A=Math.abs(L-(h+.5))/m,D=(f+.5)*a,_=A*A;for(let g=Math.floor(f*a);g<(f+1)*a;g++){let y=Math.abs(D-(g+.5))/s;const C=Math.sqrt(_+y*y);C>=-1&&C<=1&&(M=2*C*C*C-3*C*C+1,M>0&&(y=4*(g+h*e),k+=M*t[y+3],b+=M,t[y+3]<255&&(M=M*t[y+3]/250),d+=M*t[y],P+=M*t[y+1],S+=M*t[y+2],I+=M))}}n[p]=d/I,n[p+1]=P/I,n[p+2]=S/I,n[p+3]=k/b}}function $(t){return t?[t[0],t[1],t[2],t[3]/255]:[0,0,0,0]}function lt(t){return t.data?.symbol??null}function at(t){return t.type==="CIMVectorMarker"||t.type==="CIMPictureMarker"||t.type==="CIMBarChartMarker"||t.type==="CIMCharacterMarker"||t.type==="CIMPieChartMarker"||t.type==="CIMStackedBarChartMarker"}function it(t){return t.type==="CIMGradientStroke"||t.type==="CIMPictureStroke"||t.type==="CIMSolidStroke"}function st(t){return t!=null&&(t.type==="CIMGradientFill"||t.type==="CIMHatchFill"||t.type==="CIMPictureFill"||t.type==="CIMSolidFill"||t.type==="CIMWaterFill")}function H(t){return t!=null&&(t.type==="CIMMarkerPlacementAlongLineRandomSize"||t.type==="CIMMarkerPlacementAlongLineSameSize"||t.type==="CIMMarkerPlacementAlongLineVariableSize"||t.type==="CIMMarkerPlacementAtExtremities"||t.type==="CIMMarkerPlacementAtMeasuredUnits"||t.type==="CIMMarkerPlacementAtRatioPositions"||t.type==="CIMMarkerPlacementOnLine"||t.type==="CIMMarkerPlacementOnVertices")}const ct=(t,e=0)=>t==null||isNaN(t)?e:t,ut=(t,e)=>t??e,ft=(t,e)=>t??e,Mt=t=>t.tintColor?$(t.tintColor):[255,255,255,1],yt=t=>{if(!t)return!1;for(const e of t)switch(e.type){case"CIMGeometricEffectBuffer":case"CIMGeometricEffectDonut":case"CIMGeometricEffectOffset":case"CIMGeometricEffectTaperedPolygon":case"CIMGeometricEffectEnclosingPolygon":return!0}return!1};function mt(){return R(()=>import("./geometryEngineJSON-DUmg2EKv-CRcpG29O.js"),__vite__mapDeps([0,1,2,3]),import.meta.url).then(t=>t.g)}function Ct(t){if(!t)return"normal";switch(t.toLowerCase()){case"italic":return"italic";case"oblique":return"oblique";default:return"normal"}}function pt(t){if(!t)return"normal";switch(t.toLowerCase()){case"bold":return"bold";case"bolder":return"bolder";case"lighter":return"lighter";default:return"normal"}}function It(t){let e="normal",r="normal";if(t){const n=t.toLowerCase();n.includes("italic")?e="italic":n.includes("oblique")&&(e="oblique"),n.includes("bold")?r="bold":n.includes("light")&&(r="lighter")}return{style:e,weight:r}}function ht(t){return t.underline?"underline":t.strikethrough?"line-through":"none"}function v(t){if(!t)return null;switch(t.type){case"CIMPolygonSymbol":if(t.symbolLayers)for(const e of t.symbolLayers){const r=v(e);if(r!=null)return r}break;case"CIMTextSymbol":return v(t.symbol);case"CIMSolidFill":return t.color}return null}function x(t){if(t)switch(t.type){case"CIMPolygonSymbol":case"CIMLineSymbol":{const e=t.symbolLayers;if(e)for(const r of e){const n=x(r);if(n!=null)return n}break}case"CIMTextSymbol":return x(t.symbol);case"CIMSolidStroke":return t.color}}function bt(t){for(const e of t)if(e.enable)switch(e.type){case"CIMSolidStroke":case"CIMGradientStroke":case"CIMPictureStroke":return!0}return!1}function G(t){if(t)switch(t.type){case"CIMPolygonSymbol":case"CIMLineSymbol":if(t.symbolLayers)for(const e of t.symbolLayers){const r=G(e);if(r!==void 0)return r}break;case"CIMTextSymbol":return G(t.symbol);case"CIMSolidStroke":case"CIMGradientStroke":case"CIMPictureStroke":return t.width}}function dt(t){switch(t){case"Left":default:return"left";case"Right":return"right";case"Center":case"Justify":return"center"}}function kt(t){switch(t){case"Top":default:return"top";case"Center":return"middle";case"Baseline":return"baseline";case"Bottom":return"bottom"}}function Pt(t){return(t?Object.keys(t):[]).map(e=>({name:e,alias:e,type:typeof t[e]=="string"?"esriFieldTypeString":"esriFieldTypeDouble"}))}const St=t=>t.includes("data:image/svg+xml");function gt(t){if(!t)return null;switch(t.type){case"CIMPointSymbol":case"CIMTextSymbol":return"esriGeometryPoint";case"CIMLineSymbol":return"esriGeometryPolyline";case"CIMPolygonSymbol":return"esriGeometryPolygon";default:return null}}function w(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function wt(t,e,r,n,l,o,i=!0){const{infos:a}=o;let u=1,s=0,m=0,c=0,f=1;for(const{absoluteAnchorPoint:I,offsetX:b,offsetY:d,rotation:P,size:S,frameHeight:k,rotateClockWise:L,scaleSymbolsProportionally:h}of a)f=I?1:u,m=V(b,d,s,f,m),c=F(b,d,s,f,c),k&&(h||i)&&(u*=S/k),s=z(P,L,s);const p=V(n,l,s,f,m),M=F(n,l,s,f,c);return{size:t*u,rotation:z(e,r,s),offsetX:p,offsetY:M}}function U(t){if(t==null)return!1;if(Array.isArray(t))return t.every(e=>U(e));switch(typeof t){case"string":return!!t;case"number":return!isNaN(t)}}function W(t,e){if(e==="color"||e==="outlinecolor"||e==="backgroundcolor"||e==="borderlinecolor"||e==="tintcolor")return[...q[e]];const r=T[t];if(!r)throw new Error(`InternalError: default value for type ${t}.`);return r[e]}function Y(t){return t.split(" ").map(e=>Number(e))}function J(t){return typeof t=="string"?Y(t):t}function Lt(t){return t?.dashTemplate&&(t.dashTemplate=J(t.dashTemplate)),t}function E(t){if(t==null)return"Normal";switch(t.type){case"CIMTextSymbol":return t.textCase??"Normal";case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":{const e=t.symbolLayers;if(!e)return"Normal";for(const r of e)if(r.type==="CIMVectorMarker")return E(r)}break;case"CIMVectorMarker":{const e=t.markerGraphics;if(!e)return"Normal";for(const r of e)if(r.symbol)return E(r.symbol)}}return"Normal"}function Tt(t){if(t)switch(t.type){case"CIMTextSymbol":return t.height;case"CIMPointSymbol":{let e=0;if(t.symbolLayers){for(const r of t.symbolLayers)if(r)switch(r.type){case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":{const n=r.size??T.CIMVectorMarker.size;n>e&&(e=n);break}}}return e}case"CIMLineSymbol":case"CIMPolygonSymbol":{let e=0;if(t.symbolLayers){for(const r of t.symbolLayers)if(r)switch(r.type){case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":{const n=r.width;n!=null&&n>e&&(e=n);break}case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":if(r.markerPlacement&&H(r.markerPlacement)){const n=r.size??T.CIMVectorMarker.size;n>e&&(e=n)}break;case"CIMPictureFill":{const n=r.height;n!=null&&n>e&&(e=n)}}}return e}}}function X(t,e){if(e!==null){const r=e.get(t);return r?r.name:t}return t}function At(t){return t.map(e=>({...e,propertyName:w(e.propertyName)}))}function Nt(t){const e={};for(const r in t){const n=t[r];e[w(r)]=n}return e}function F(t,e,r,n,l){const o=r*Math.PI/180;if(o){const i=Math.cos(o);return(Math.sin(o)*t+i*e)*n+l}return e*n+l}function V(t,e,r,n,l){const o=r*Math.PI/180;return o?(Math.cos(o)*t-Math.sin(o)*e)*n+l:t*n+l}function z(t,e,r){return e?r-t:r+t}function vt(t,e,r){const n=r==="Color"||r==="TintColor"||r==="ToColor",l=r==="Rotation"||r==="Angle"||r==="ToRotation";let o=e[w(r)];if(o!=null&&(n?o=[o[0]/255,o[1]/255,o[2]/255,o[3]/255]:l&&(o*=Math.PI/180)),o==null&&(o=W(e.type,r.toLowerCase()),o!=null&&(n?o=[o[0]/255,o[1]/255,o[2]/255,o[3]]:l&&(o*=Math.PI/180))),e.primitiveName!=null){const i=t[e.primitiveName];if(i!=null){const a=i[r];a==null||(typeof a=="string"||typeof a=="number"||Array.isArray(a)?(o=a,o!=null&&(n?o=[o[0]/255,o[1]/255,o[2]/255,o[3]/255]:l&&(o*=Math.PI/180))):(o={valueExpressionInfo:a,defaultValue:o},o!=null&&(n?o={type:"Process",op:"ArcadeColor",value:o}:l&&(o={type:"Process",op:"Divide",left:o,right:180/Math.PI}))))}}if(o==null)throw new Error(`Failed to derive a value or an expression for "${r}".`);return o}function xt(t,e,r){if(e[w(r)]!=null)return!0;if(e.primitiveName!=null){const n=t[e.primitiveName];if(n!=null&&n[r]!=null)return!0}return!1}function Gt(t,e){return Math.max(Math.min((t??e)/100,1),0)}export{v as A,dt as C,W as D,E as G,kt as I,Z as J,ot as K,Nt as L,It as M,Gt as N,U as O,Tt as P,nt as Q,Lt as S,vt as T,$ as V,tt as W,et as Z,rt as _,x as a,w as b,mt as c,wt as d,lt as e,pt as f,xt as g,St as h,yt as i,ut as j,gt as k,Mt as l,bt as m,st as n,ct as o,Pt as p,J as q,at as r,ft as s,it as t,Ct as u,At as w,G as x,ht as y,H as z};
