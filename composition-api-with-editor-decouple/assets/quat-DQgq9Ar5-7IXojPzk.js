import{n as j}from"./mat3f64-BnNZDR5l-Bz3OL2oI.js";import{e as I}from"./quatf64-C16JxGFv-BKWK1F8U.js";import{ds as v,gL as L}from"./main-DS4lIWNw.js";import{n as _,o as z}from"./common-CYWrYyJl-E8-sukrT.js";import{y as T,S as y,G,l as X}from"./vec32-Cj8pVsU0-D6slqsyd.js";import{p as Y,y as w,g as D,o as N,w as R,A as W,x as Z,q as k,L as B,E as C,O as F}from"./vec42-D8CJyqHG-DnfLTeQH.js";function H(r){return r[0]=0,r[1]=0,r[2]=0,r[3]=1,r}function $(r,o,a){a*=.5;const s=Math.sin(a);return r[0]=s*o[0],r[1]=s*o[1],r[2]=s*o[2],r[3]=Math.cos(a),r}function J(r,o){const a=2*Math.acos(o[3]),s=Math.sin(a/2);return s>_()?(r[0]=o[0]/s,r[1]=o[1]/s,r[2]=o[2]/s):(r[0]=1,r[1]=0,r[2]=0),a}function E(r,o,a){const s=o[0],t=o[1],c=o[2],i=o[3],u=a[0],e=a[1],n=a[2],h=a[3];return r[0]=s*h+i*u+t*n-c*e,r[1]=t*h+i*e+c*u-s*n,r[2]=c*h+i*n+s*e-t*u,r[3]=i*h-s*u-t*e-c*n,r}function K(r,o,a){a*=.5;const s=o[0],t=o[1],c=o[2],i=o[3],u=Math.sin(a),e=Math.cos(a);return r[0]=s*e+i*u,r[1]=t*e+c*u,r[2]=c*e-t*u,r[3]=i*e-s*u,r}function Q(r,o,a){a*=.5;const s=o[0],t=o[1],c=o[2],i=o[3],u=Math.sin(a),e=Math.cos(a);return r[0]=s*e-c*u,r[1]=t*e+i*u,r[2]=c*e+s*u,r[3]=i*e-t*u,r}function U(r,o,a){a*=.5;const s=o[0],t=o[1],c=o[2],i=o[3],u=Math.sin(a),e=Math.cos(a);return r[0]=s*e+t*u,r[1]=t*e-s*u,r[2]=c*e+i*u,r[3]=i*e-c*u,r}function V(r,o){const a=o[0],s=o[1],t=o[2];return r[0]=a,r[1]=s,r[2]=t,r[3]=Math.sqrt(Math.abs(1-a*a-s*s-t*t)),r}function d(r,o,a,s){const t=o[0],c=o[1],i=o[2],u=o[3];let e,n,h,f,l,m=a[0],p=a[1],g=a[2],q=a[3];return n=t*m+c*p+i*g+u*q,n<0&&(n=-n,m=-m,p=-p,g=-g,q=-q),1-n>_()?(e=Math.acos(n),h=Math.sin(e),f=Math.sin((1-s)*e)/h,l=Math.sin(s*e)/h):(f=1-s,l=s),r[0]=f*t+l*m,r[1]=f*c+l*p,r[2]=f*i+l*g,r[3]=f*u+l*q,r}function rr(r){const o=z,a=o(),s=o(),t=o(),c=Math.sqrt(1-a),i=Math.sqrt(a);return r[0]=c*Math.sin(2*Math.PI*s),r[1]=c*Math.cos(2*Math.PI*s),r[2]=i*Math.sin(2*Math.PI*t),r[3]=i*Math.cos(2*Math.PI*t),r}function or(r,o){const a=o[0],s=o[1],t=o[2],c=o[3],i=a*a+s*s+t*t+c*c,u=i?1/i:0;return r[0]=-a*u,r[1]=-s*u,r[2]=-t*u,r[3]=c*u,r}function sr(r,o){return r[0]=-o[0],r[1]=-o[1],r[2]=-o[2],r[3]=o[3],r}function O(r,o){const a=o[0]+o[4]+o[8];let s;if(a>0)s=Math.sqrt(a+1),r[3]=.5*s,s=.5/s,r[0]=(o[5]-o[7])*s,r[1]=(o[6]-o[2])*s,r[2]=(o[1]-o[3])*s;else{let t=0;o[4]>o[0]&&(t=1),o[8]>o[3*t+t]&&(t=2);const c=(t+1)%3,i=(t+2)%3;s=Math.sqrt(o[3*t+t]-o[3*c+c]-o[3*i+i]+1),r[t]=.5*s,s=.5/s,r[3]=(o[3*c+i]-o[3*i+c])*s,r[c]=(o[3*c+t]+o[3*t+c])*s,r[i]=(o[3*i+t]+o[3*t+i])*s}return r}function tr(r,o,a,s){const t=.5*Math.PI/180;o*=t,a*=t,s*=t;const c=Math.sin(o),i=Math.cos(o),u=Math.sin(a),e=Math.cos(a),n=Math.sin(s),h=Math.cos(s);return r[0]=c*e*h-i*u*n,r[1]=i*u*h+c*e*n,r[2]=i*e*n-c*u*h,r[3]=i*e*h+c*u*n,r}function ar(r){return"quat("+r[0]+", "+r[1]+", "+r[2]+", "+r[3]+")"}const cr=Y,ir=w,ur=D,er=E,nr=N,hr=R,Mr=W,S=Z,fr=S,b=k,lr=b,x=B,mr=C,pr=F;function gr(r,o,a){const s=T(o,a);return s<-.999999?(y(M,qr,o),G(M)<1e-6&&y(M,dr,o),X(M,M),$(r,M,Math.PI),r):s>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(y(M,o,a),r[0]=M[0],r[1]=M[1],r[2]=M[2],r[3]=1+s,x(r,r))}const M=v(),qr=L(1,0,0),dr=L(0,1,0);function yr(r,o,a,s,t,c){return d(P,o,t,c),d(A,a,s,c),d(r,P,A,2*c*(1-c)),r}const P=I(),A=I();function xr(r,o,a,s){const t=Pr;return t[0]=a[0],t[3]=a[1],t[6]=a[2],t[1]=s[0],t[4]=s[1],t[7]=s[2],t[2]=-o[0],t[5]=-o[1],t[8]=-o[2],x(r,O(r,t))}const Pr=j();Object.freeze(Object.defineProperty({__proto__:null,add:ur,calculateW:V,conjugate:sr,copy:cr,dot:hr,equals:pr,exactEquals:mr,fromEuler:tr,fromMat3:O,getAxisAngle:J,identity:H,invert:or,len:fr,length:S,lerp:Mr,mul:er,multiply:E,normalize:x,random:rr,rotateX:K,rotateY:Q,rotateZ:U,rotationTo:gr,scale:nr,set:ir,setAxes:xr,setAxisAngle:$,slerp:d,sqlerp:yr,sqrLen:lr,squaredLength:b,str:ar},Symbol.toStringTag,{value:"Module"}));export{or as L,tr as O,ir as T,mr as X,gr as Y,E as _,J as j,sr as v,$ as y};
