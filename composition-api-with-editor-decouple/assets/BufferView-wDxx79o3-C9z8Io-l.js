import{m as fe}from"./vec2-BnynUbeJ-CKtGJQAy.js";import{A as ue}from"./vec32-Cj8pVsU0-YJ-zg-mR.js";import{y as ne}from"./vec42-D8CJyqHG-DnfLTeQH.js";import{o as ce}from"./vec2f64-CkowXrDb-3zFQ3LNH.js";import"./vec4f64-DD-nkcCV-CSNWKRqG.js";let A=globalThis.Float16Array;function ae(...i){return new(A??Float32Array)(...i)}function a(){return A}let B=!!A,b=class{static{this.ElementCount=9}constructor(i,e,t=0,s,r){this.TypedArrayConstructor=i,this.elementCount=9;const f=this.TypedArrayConstructor;s===void 0&&(s=9*f.BYTES_PER_ELEMENT);const u=e.byteLength===0?0:t;this.typedBuffer=r==null?new f(e,u):new f(e,u,(r-t)/f.BYTES_PER_ELEMENT),this.typedBufferStride=s/f.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(i,e,t=this.count-e){const s=this.typedBuffer.byteOffset+e*this.stride;return new i(this.buffer,s,this.stride,s+t*this.stride)}getMat(i,e){let t=i*this.typedBufferStride;for(let s=0;s<9;s++)e[s]=this.typedBuffer[t++];return e}setMat(i,e){let t=i*this.typedBufferStride;for(let s=0;s<9;s++)this.typedBuffer[t++]=e[s]}get(i,e){return this.typedBuffer[i*this.typedBufferStride+e]}set(i,e,t){this.typedBuffer[i*this.typedBufferStride+e]=t}copyFrom(i,e,t){const s=this.typedBuffer,r=e.typedBuffer;let f=i*this.typedBufferStride,u=t*e.typedBufferStride;for(let n=0;n<9;++n)s[f++]=r[u++]}get buffer(){return this.typedBuffer.buffer}},x=class{static{this.ElementCount=16}constructor(i,e,t=0,s,r){this.TypedArrayConstructor=i,this.elementCount=16;const f=this.TypedArrayConstructor;s===void 0&&(s=16*f.BYTES_PER_ELEMENT);const u=e.byteLength===0?0:t;this.typedBuffer=r==null?new f(e,u):new f(e,u,(r-t)/f.BYTES_PER_ELEMENT),this.typedBufferStride=s/f.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(i,e,t=this.count-e){const s=this.typedBuffer.byteOffset+e*this.stride;return new i(this.buffer,s,this.stride,s+t*this.stride)}getMat(i,e){let t=i*this.typedBufferStride;for(let s=0;s<16;s++)e[s]=this.typedBuffer[t++];return e}setMat(i,e){let t=i*this.typedBufferStride;for(let s=0;s<16;s++)this.typedBuffer[t++]=e[s]}get(i,e){return this.typedBuffer[i*this.typedBufferStride+e]}set(i,e,t){this.typedBuffer[i*this.typedBufferStride+e]=t}copyFrom(i,e,t){this.copyFromTypedBuffer(i,e.typedBuffer,t*e.typedBufferStride)}copyFromTypedBuffer(i,e,t){const s=this.typedBuffer;let r=i*this.typedBufferStride;for(let f=0;f<16;++f)s[r++]=e[t++]}get buffer(){return this.typedBuffer.buffer}};class h{static{this.ElementCount=1}constructor(e,t,s=0,r,f){this.TypedArrayConstructor=e,this.elementCount=1;const u=this.TypedArrayConstructor;r===void 0&&(r=u.BYTES_PER_ELEMENT);const n=t.byteLength===0?0:s;this.typedBuffer=f==null?new u(t,n):new u(t,n,(f-s)/u.BYTES_PER_ELEMENT),this.stride=r,this.typedBufferStride=r/u.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride)}sliceBuffer(e,t,s=this.count-t){const r=this.typedBuffer.byteOffset+t*this.stride;return new e(this.buffer,r,this.stride,r+s*this.stride)}get(e){return this.typedBuffer[e*this.typedBufferStride]}set(e,t){this.typedBuffer[e*this.typedBufferStride]=t}get buffer(){return this.typedBuffer.buffer}}let y=class{static{this.ElementCount=2}constructor(i,e,t=0,s,r){this.TypedArrayConstructor=i,this.start=t,this.elementCount=2;const f=this.TypedArrayConstructor;s===void 0&&(s=2*f.BYTES_PER_ELEMENT);const u=e.byteLength===0?0:t;this.typedBuffer=r==null?new f(e,u):new f(e,u,(r-t)/f.BYTES_PER_ELEMENT),this.typedBufferStride=s/f.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(i,e,t=this.count-e){const s=this.typedBuffer.byteOffset+e*this.stride;return new i(this.buffer,s,this.stride,s+t*this.stride)}getVec(i,e){return i*=this.typedBufferStride,fe(e,this.typedBuffer[i],this.typedBuffer[i+1])}setVec(i,e){i*=this.typedBufferStride,this.typedBuffer[i++]=e[0],this.typedBuffer[i]=e[1]}get(i,e){return this.typedBuffer[i*this.typedBufferStride+e]}set(i,e,t){this.typedBuffer[i*this.typedBufferStride+e]=t}setValues(i,e,t){i*=this.typedBufferStride,this.typedBuffer[i++]=e,this.typedBuffer[i]=t}copyFrom(i,e,t){const s=this.typedBuffer,r=e.typedBuffer;let f=i*this.typedBufferStride,u=t*e.typedBufferStride;s[f++]=r[u++],s[f]=r[u]}get buffer(){return this.typedBuffer.buffer}},l=class{static{this.ElementCount=3}constructor(i,e,t=0,s,r){this.TypedArrayConstructor=i,this.elementCount=3;const f=this.TypedArrayConstructor;s===void 0&&(s=3*f.BYTES_PER_ELEMENT);const u=e.byteLength===0?0:t;this.typedBuffer=r==null?new f(e,u):new f(e,u,(r-t)/f.BYTES_PER_ELEMENT),this.typedBufferStride=s/f.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(i,e,t=this.count-e){const s=this.typedBuffer.byteOffset+e*this.stride;return new i(this.buffer,s,this.stride,s+t*this.stride)}getVec(i,e){return i*=this.typedBufferStride,ue(e,this.typedBuffer[i],this.typedBuffer[i+1],this.typedBuffer[i+2])}setVec(i,e){i*=this.typedBufferStride,this.typedBuffer[i++]=e[0],this.typedBuffer[i++]=e[1],this.typedBuffer[i]=e[2]}get(i,e){return this.typedBuffer[i*this.typedBufferStride+e]}set(i,e,t){this.typedBuffer[i*this.typedBufferStride+e]=t}setValues(i,e,t,s){i*=this.typedBufferStride,this.typedBuffer[i++]=e,this.typedBuffer[i++]=t,this.typedBuffer[i]=s}copyFrom(i,e,t){const s=this.typedBuffer,r=e.typedBuffer;let f=i*this.typedBufferStride,u=t*e.typedBufferStride;s[f++]=r[u++],s[f++]=r[u++],s[f]=r[u]}get buffer(){return this.typedBuffer.buffer}};class p{static{this.ElementCount=4}constructor(e,t,s=0,r,f){this.TypedArrayConstructor=e,this.start=s,this.elementCount=4;const u=this.TypedArrayConstructor;r===void 0&&(r=4*u.BYTES_PER_ELEMENT);const n=t.byteLength===0?0:s;this.typedBuffer=f==null?new u(t,n):new u(t,n,(f-s)/u.BYTES_PER_ELEMENT),this.typedBufferStride=r/u.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(e,t,s=this.count-t){const r=this.typedBuffer.byteOffset+t*this.stride;return new e(this.buffer,r,this.stride,r+s*this.stride)}getVec(e,t){return e*=this.typedBufferStride,ne(t,this.typedBuffer[e++],this.typedBuffer[e++],this.typedBuffer[e++],this.typedBuffer[e])}setVec(e,t){e*=this.typedBufferStride,this.typedBuffer[e++]=t[0],this.typedBuffer[e++]=t[1],this.typedBuffer[e++]=t[2],this.typedBuffer[e]=t[3]}get(e,t){return this.typedBuffer[e*this.typedBufferStride+t]}set(e,t,s){this.typedBuffer[e*this.typedBufferStride+t]=s}setValues(e,t,s,r,f){e*=this.typedBufferStride,this.typedBuffer[e++]=t,this.typedBuffer[e++]=s,this.typedBuffer[e++]=r,this.typedBuffer[e]=f}copyFrom(e,t,s){const r=this.typedBuffer,f=t.typedBuffer;let u=e*this.typedBufferStride,n=s*t.typedBufferStride;r[u++]=f[n++],r[u++]=f[n++],r[u++]=f[n++],r[u]=f[n]}get buffer(){return this.typedBuffer.buffer}}let he=class{constructor(i){this.message=i}toString(){return`AssertException: ${this.message}`}};function E(i,e="Assertion"){if(!i){const t=new Error(e).stack;throw new he(`${e} at ${t}`)}}function Be(i,e){i||(e=e||"",console.warn("Verify failed: "+e+`
`+new Error("verify").stack))}function Ee(i,e,t,s){let r,f=(t[0]-i[0])/e[0],u=(s[0]-i[0])/e[0];f>u&&(r=f,f=u,u=r);let n=(t[1]-i[1])/e[1],c=(s[1]-i[1])/e[1];if(n>c&&(r=n,n=c,c=r),f>c||n>u)return!1;n>f&&(f=n),c<u&&(u=c);let o=(t[2]-i[2])/e[2],d=(s[2]-i[2])/e[2];return o>d&&(r=o,o=d,d=r),!(f>d||o>u)&&(d<u&&(u=d),!(u<0))}function Te(i,e,t,s,r,f=ce()){const u=(s[r]-t[r])*(e[0]-i[0])-(s[0]-t[0])*(e[r]-i[r]),n=(s[0]-t[0])*(i[r]-t[r])-(s[r]-t[r])*(i[0]-t[0]);if(u===0)return!1;const c=n/u;return f[0]=i[0]+c*(e[0]-i[0]),f[1]=i[r]+c*(e[r]-i[r]),!0}function me(i,e){return Math.log(i)/Math.log(e)}function Se(i){return i[0]===1&&i[1]===0&&i[2]===0&&i[3]===0&&i[4]===0&&i[5]===1&&i[6]===0&&i[7]===0&&i[8]===0&&i[9]===0&&i[10]===1&&i[11]===0&&i[15]===1}class Ae extends h{constructor(e,t=0,s,r){E(B),super(a(),e,t,s,r),this.elementType="f16"}static{this.ElementType="f16"}}class be extends h{constructor(e,t=0,s,r){super(Float32Array,e,t,s,r),this.elementType="f32"}static{this.ElementType="f32"}}class g extends y{constructor(e,t=0,s,r){E(B),super(a(),e,t,s,r),this.elementType="f16"}slice(e,t){return this.sliceBuffer(g,e,t)}static{this.ElementType="f16"}}class M extends y{constructor(e,t=0,s,r){super(Float32Array,e,t,s,r),this.elementType="f32"}slice(e,t){return this.sliceBuffer(M,e,t)}static{this.ElementType="f32"}}class L extends l{constructor(e,t=0,s,r){E(B),super(a(),e,t,s,r),this.elementType="f16"}slice(e,t){return this.sliceBuffer(L,e,t)}static{this.ElementType="f16"}}class T extends l{constructor(e,t=0,s,r){super(Float32Array,e,t,s,r),this.elementType="f32"}slice(e,t){return this.sliceBuffer(T,e,t)}static fromTypedArray(e,t){return new T(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}static{this.ElementType="f32"}}class C extends p{constructor(e,t=0,s,r){E(B),super(a(),e,t,s,r),this.elementType="f16"}slice(e,t){return this.sliceBuffer(C,e,t)}static{this.ElementType="f16"}}class w extends p{constructor(e,t=0,s,r){super(Float32Array,e,t,s,r),this.elementType="f32"}slice(e,t){return this.sliceBuffer(w,e,t)}static{this.ElementType="f32"}}class N extends b{constructor(e,t=0,s,r){super(Float32Array,e,t,s,r),this.elementType="f32"}slice(e,t){return this.sliceBuffer(N,e,t)}static{this.ElementType="f32"}}class P extends b{constructor(e,t=0,s,r){super(Float64Array,e,t,s,r),this.elementType="f64"}slice(e,t){return this.sliceBuffer(P,e,t)}static{this.ElementType="f64"}}class R extends x{constructor(e,t=0,s,r){super(Float32Array,e,t,s,r),this.elementType="f32"}slice(e,t){return this.sliceBuffer(R,e,t)}static{this.ElementType="f32"}}class Y extends x{constructor(e,t=0,s,r){super(Float64Array,e,t,s,r),this.elementType="f64"}slice(e,t){return this.sliceBuffer(Y,e,t)}static{this.ElementType="f64"}}class F extends h{constructor(e,t=0,s,r){super(Float64Array,e,t,s,r),this.elementType="f64"}slice(e,t){return this.sliceBuffer(F,e,t)}static{this.ElementType="f64"}}class I extends y{constructor(e,t=0,s,r){super(Float64Array,e,t,s,r),this.elementType="f64"}slice(e,t){return this.sliceBuffer(I,e,t)}static{this.ElementType="f64"}}class m extends l{constructor(e,t=0,s,r){super(Float64Array,e,t,s,r),this.elementType="f64"}slice(e,t){return this.sliceBuffer(m,e,t)}static fromTypedArray(e,t){return new m(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}static{this.ElementType="f64"}}class O extends p{constructor(e,t=0,s,r){super(Float64Array,e,t,s,r),this.elementType="f64"}slice(e,t){return this.sliceBuffer(O,e,t)}static{this.ElementType="f64"}}class U extends h{constructor(e,t=0,s,r){super(Uint8Array,e,t,s,r),this.elementType="u8"}slice(e,t){return this.sliceBuffer(U,e,t)}static{this.ElementType="u8"}}class V extends y{constructor(e,t=0,s,r){super(Uint8Array,e,t,s,r),this.elementType="u8"}slice(e,t){return this.sliceBuffer(V,e,t)}static{this.ElementType="u8"}}class S extends l{constructor(e,t=0,s,r){super(Uint8Array,e,t,s,r),this.elementType="u8"}slice(e,t){return this.sliceBuffer(S,e,t)}static fromTypedArray(e,t){return new S(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}static{this.ElementType="u8"}}class v extends p{constructor(e,t=0,s,r){super(Uint8Array,e,t,s,r),this.elementType="u8"}slice(e,t){return this.sliceBuffer(v,e,t)}static{this.ElementType="u8"}}class $ extends h{constructor(e,t=0,s,r){super(Uint16Array,e,t,s,r),this.elementType="u16"}slice(e,t){return this.sliceBuffer($,e,t)}static{this.ElementType="u16"}}class _ extends y{constructor(e,t=0,s,r){super(Uint16Array,e,t,s,r),this.elementType="u16"}slice(e,t){return this.sliceBuffer(_,e,t)}static{this.ElementType="u16"}}class k extends l{constructor(e,t=0,s,r){super(Uint16Array,e,t,s,r),this.elementType="u16"}slice(e,t){return this.sliceBuffer(k,e,t)}static{this.ElementType="u16"}}class j extends p{constructor(e,t=0,s,r){super(Uint16Array,e,t,s,r),this.elementType="u16"}slice(e,t){return this.sliceBuffer(j,e,t)}static{this.ElementType="u16"}}class q extends h{constructor(e,t=0,s,r){super(Uint32Array,e,t,s,r),this.elementType="u32"}slice(e,t){return this.sliceBuffer(q,e,t)}static{this.ElementType="u32"}}class z extends y{constructor(e,t=0,s,r){super(Uint32Array,e,t,s,r),this.elementType="u32"}slice(e,t){return this.sliceBuffer(z,e,t)}static{this.ElementType="u32"}}class D extends l{constructor(e,t=0,s,r){super(Uint32Array,e,t,s,r),this.elementType="u32"}slice(e,t){return this.sliceBuffer(D,e,t)}static{this.ElementType="u32"}}class G extends p{constructor(e,t=0,s,r){super(Uint32Array,e,t,s,r),this.elementType="u32"}slice(e,t){return this.sliceBuffer(G,e,t)}static{this.ElementType="u32"}}class H extends h{constructor(e,t=0,s,r){super(Int8Array,e,t,s,r),this.elementType="i8"}slice(e,t){return this.sliceBuffer(H,e,t)}static{this.ElementType="i8"}}class J extends y{constructor(e,t=0,s,r){super(Int8Array,e,t,s,r),this.elementType="i8"}slice(e,t){return this.sliceBuffer(J,e,t)}static{this.ElementType="i8"}}class K extends l{constructor(e,t=0,s,r){super(Int8Array,e,t,s,r),this.elementType="i8"}slice(e,t){return this.sliceBuffer(K,e,t)}static{this.ElementType="i8"}}class Q extends p{constructor(e,t=0,s,r){super(Int8Array,e,t,s,r),this.elementType="i8"}slice(e,t){return this.sliceBuffer(Q,e,t)}static{this.ElementType="i8"}}class W extends h{constructor(e,t=0,s,r){super(Int16Array,e,t,s,r),this.elementType="i16"}slice(e,t){return this.sliceBuffer(W,e,t)}static{this.ElementType="i16"}}class X extends y{constructor(e,t=0,s,r){super(Int16Array,e,t,s,r),this.elementType="i16"}slice(e,t){return this.sliceBuffer(X,e,t)}static{this.ElementType="i16"}}class Z extends l{constructor(e,t=0,s,r){super(Int16Array,e,t,s,r),this.elementType="i16"}slice(e,t){return this.sliceBuffer(Z,e,t)}static{this.ElementType="i16"}}class ee extends p{constructor(e,t=0,s,r){super(Int16Array,e,t,s,r),this.elementType="i16"}slice(e,t){return this.sliceBuffer(ee,e,t)}static{this.ElementType="i16"}}class te extends h{constructor(e,t=0,s,r){super(Int32Array,e,t,s,r),this.elementType="i32"}slice(e,t){return this.sliceBuffer(te,e,t)}static{this.ElementType="i32"}}class se extends y{constructor(e,t=0,s,r){super(Int32Array,e,t,s,r),this.elementType="i32"}slice(e,t){return this.sliceBuffer(se,e,t)}static{this.ElementType="i32"}}class re extends l{constructor(e,t=0,s,r){super(Int32Array,e,t,s,r),this.elementType="i32"}slice(e,t){return this.sliceBuffer(re,e,t)}static{this.ElementType="i32"}}class ie extends p{constructor(e,t=0,s,r){super(Int32Array,e,t,s,r),this.elementType="i32"}slice(e,t){return this.sliceBuffer(ie,e,t)}static{this.ElementType="i32"}}export{q as $,Ae as B,N as C,H as D,be as E,O as F,J as G,K as H,U as I,Q as J,W as K,w as L,C as M,R as N,V as O,Y as P,X as Q,F as R,S,T,v as U,$ as V,Z as W,ee as X,I as Y,te as Z,k as _,B as a,g as b,E as c,Se as d,re as e,me as f,L as g,ae as h,Te as i,z as j,j as k,Be as l,m,a as o,Ee as p,D as q,ie as s,se as t,_ as v,P as w,M as x,G as z};
