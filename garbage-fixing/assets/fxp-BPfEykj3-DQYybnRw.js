function ut(w,A){for(var b=0;b<A.length;b++){const P=A[b];if(typeof P!="string"&&!Array.isArray(P)){for(const I in P)if(I!=="default"&&!(I in w)){const g=Object.getOwnPropertyDescriptor(P,I);g&&Object.defineProperty(w,I,g.get?g:{enumerable:!0,get:()=>P[I]})}}}return Object.freeze(Object.defineProperty(w,Symbol.toStringTag,{value:"Module"}))}var _={},z={},W;function Z(){return W||(W=1,function(w){const A=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",b=A+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",P="["+A+"]["+b+"]*",I=new RegExp("^"+P+"$"),g=function(i,a){const e=[];let t=a.exec(i);for(;t;){const p=[];p.startIndex=a.lastIndex-t[0].length;const l=t.length;for(let y=0;y<l;y++)p.push(t[y]);e.push(p),t=a.exec(i)}return e},o=function(i){const a=I.exec(i);return!(a===null||typeof a>"u")};w.isExist=function(i){return typeof i<"u"},w.isEmptyObject=function(i){return Object.keys(i).length===0},w.merge=function(i,a,e){if(a){const t=Object.keys(a),p=t.length;for(let l=0;l<p;l++)e==="strict"?i[t[l]]=[a[t[l]]]:i[t[l]]=a[t[l]]}},w.getValue=function(i){return w.isExist(i)?i:""},w.isName=o,w.getAllMatches=g,w.nameRegexp=P}(z)),z}var J;function at(){if(J)return _;J=1;const w=Z(),A={allowBooleanAttributes:!1,unpairedTags:[]};_.validate=function(s,u){u=Object.assign({},A,u);const m=[];let r=!1,c=!1;s[0]==="\uFEFF"&&(s=s.substr(1));for(let n=0;n<s.length;n++)if(s[n]==="<"&&s[n+1]==="?"){if(n+=2,n=P(s,n),n.err)return n}else if(s[n]==="<"){let x=n;if(n++,s[n]==="!"){n=I(s,n);continue}else{let f=!1;s[n]==="/"&&(f=!0,n++);let h="";for(;n<s.length&&s[n]!==">"&&s[n]!==" "&&s[n]!=="	"&&s[n]!==`
`&&s[n]!=="\r";n++)h+=s[n];if(h=h.trim(),h[h.length-1]==="/"&&(h=h.substring(0,h.length-1),n--),!v(h)){let E;return h.trim().length===0?E="Invalid space after '<'.":E="Tag '"+h+"' is an invalid name.",l("InvalidTag",E,T(s,n))}const N=i(s,n);if(N===!1)return l("InvalidAttr","Attributes for '"+h+"' have open quote.",T(s,n));let d=N.value;if(n=N.index,d[d.length-1]==="/"){const E=n-d.length;d=d.substring(0,d.length-1);const O=e(d,u);if(O===!0)r=!0;else return l(O.err.code,O.err.msg,T(s,E+O.err.line))}else if(f)if(N.tagClosed){if(d.trim().length>0)return l("InvalidTag","Closing tag '"+h+"' can't have attributes or invalid starting.",T(s,x));{const E=m.pop();if(h!==E.tagName){let O=T(s,E.tagStartPos);return l("InvalidTag","Expected closing tag '"+E.tagName+"' (opened in line "+O.line+", col "+O.col+") instead of closing tag '"+h+"'.",T(s,x))}m.length==0&&(c=!0)}}else return l("InvalidTag","Closing tag '"+h+"' doesn't have proper closing.",T(s,n));else{const E=e(d,u);if(E!==!0)return l(E.err.code,E.err.msg,T(s,n-d.length+E.err.line));if(c===!0)return l("InvalidXml","Multiple possible root nodes found.",T(s,n));u.unpairedTags.indexOf(h)!==-1||m.push({tagName:h,tagStartPos:x}),r=!0}for(n++;n<s.length;n++)if(s[n]==="<")if(s[n+1]==="!"){n++,n=I(s,n);continue}else if(s[n+1]==="?"){if(n=P(s,++n),n.err)return n}else break;else if(s[n]==="&"){const E=p(s,n);if(E==-1)return l("InvalidChar","char '&' is not expected.",T(s,n));n=E}else if(c===!0&&!b(s[n]))return l("InvalidXml","Extra text at the end",T(s,n));s[n]==="<"&&n--}}else{if(b(s[n]))continue;return l("InvalidChar","char '"+s[n]+"' is not expected.",T(s,n))}if(r){if(m.length==1)return l("InvalidTag","Unclosed tag '"+m[0].tagName+"'.",T(s,m[0].tagStartPos));if(m.length>0)return l("InvalidXml","Invalid '"+JSON.stringify(m.map(n=>n.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return l("InvalidXml","Start tag expected.",1);return!0};function b(s){return s===" "||s==="	"||s===`
`||s==="\r"}function P(s,u){const m=u;for(;u<s.length;u++)if(s[u]=="?"||s[u]==" "){const r=s.substr(m,u-m);if(u>5&&r==="xml")return l("InvalidXml","XML declaration allowed only at the start of the document.",T(s,u));if(s[u]=="?"&&s[u+1]==">"){u++;break}else continue}return u}function I(s,u){if(s.length>u+5&&s[u+1]==="-"&&s[u+2]==="-"){for(u+=3;u<s.length;u++)if(s[u]==="-"&&s[u+1]==="-"&&s[u+2]===">"){u+=2;break}}else if(s.length>u+8&&s[u+1]==="D"&&s[u+2]==="O"&&s[u+3]==="C"&&s[u+4]==="T"&&s[u+5]==="Y"&&s[u+6]==="P"&&s[u+7]==="E"){let m=1;for(u+=8;u<s.length;u++)if(s[u]==="<")m++;else if(s[u]===">"&&(m--,m===0))break}else if(s.length>u+9&&s[u+1]==="["&&s[u+2]==="C"&&s[u+3]==="D"&&s[u+4]==="A"&&s[u+5]==="T"&&s[u+6]==="A"&&s[u+7]==="["){for(u+=8;u<s.length;u++)if(s[u]==="]"&&s[u+1]==="]"&&s[u+2]===">"){u+=2;break}}return u}const g='"',o="'";function i(s,u){let m="",r="",c=!1;for(;u<s.length;u++){if(s[u]===g||s[u]===o)r===""?r=s[u]:r!==s[u]||(r="");else if(s[u]===">"&&r===""){c=!0;break}m+=s[u]}return r!==""?!1:{value:m,index:u,tagClosed:c}}const a=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function e(s,u){const m=w.getAllMatches(s,a),r={};for(let c=0;c<m.length;c++){if(m[c][1].length===0)return l("InvalidAttr","Attribute '"+m[c][2]+"' has no space in starting.",C(m[c]));if(m[c][3]!==void 0&&m[c][4]===void 0)return l("InvalidAttr","Attribute '"+m[c][2]+"' is without value.",C(m[c]));if(m[c][3]===void 0&&!u.allowBooleanAttributes)return l("InvalidAttr","boolean attribute '"+m[c][2]+"' is not allowed.",C(m[c]));const n=m[c][2];if(!y(n))return l("InvalidAttr","Attribute '"+n+"' is an invalid name.",C(m[c]));if(!r.hasOwnProperty(n))r[n]=1;else return l("InvalidAttr","Attribute '"+n+"' is repeated.",C(m[c]))}return!0}function t(s,u){let m=/\d/;for(s[u]==="x"&&(u++,m=/[\da-fA-F]/);u<s.length;u++){if(s[u]===";")return u;if(!s[u].match(m))break}return-1}function p(s,u){if(u++,s[u]===";")return-1;if(s[u]==="#")return u++,t(s,u);let m=0;for(;u<s.length;u++,m++)if(!(s[u].match(/\w/)&&m<20)){if(s[u]===";")break;return-1}return u}function l(s,u,m){return{err:{code:s,msg:u,line:m.line||m,col:m.col}}}function y(s){return w.isName(s)}function v(s){return w.isName(s)}function T(s,u){const m=s.substring(0,u).split(/\r?\n/);return{line:m.length,col:m[m.length-1].length+1}}function C(s){return s.startIndex+s[1].length}return _}var k={},H;function lt(){if(H)return k;H=1;const w={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(b,P){return P},attributeValueProcessor:function(b,P){return P},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(b,P,I){return b}},A=function(b){return Object.assign({},w,b)};return k.buildOptions=A,k.defaultOptions=w,k}var D,K;function ht(){if(K)return D;K=1;class w{constructor(b){this.tagname=b,this.child=[],this[":@"]={}}add(b,P){b==="__proto__"&&(b="#__proto__"),this.child.push({[b]:P})}addChild(b){b.tagname==="__proto__"&&(b.tagname="#__proto__"),b[":@"]&&Object.keys(b[":@"]).length>0?this.child.push({[b.tagname]:b.child,":@":b[":@"]}):this.child.push({[b.tagname]:b.child})}}return D=w,D}var M,Q;function ct(){if(Q)return M;Q=1;const w=Z();function A(e,t){const p={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let l=1,y=!1,v=!1,T="";for(;t<e.length;t++)if(e[t]==="<"&&!v){if(y&&I(e,t))t+=7,[entityName,val,t]=b(e,t+1),val.indexOf("&")===-1&&(p[a(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(y&&g(e,t))t+=8;else if(y&&o(e,t))t+=8;else if(y&&i(e,t))t+=9;else if(P)v=!0;else throw new Error("Invalid DOCTYPE");l++,T=""}else if(e[t]===">"){if(v?e[t-1]==="-"&&e[t-2]==="-"&&(v=!1,l--):l--,l===0)break}else e[t]==="["?y=!0:T+=e[t];if(l!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:p,i:t}}function b(e,t){let p="";for(;t<e.length&&e[t]!=="'"&&e[t]!=='"';t++)p+=e[t];if(p=p.trim(),p.indexOf(" ")!==-1)throw new Error("External entites are not supported");const l=e[t++];let y="";for(;t<e.length&&e[t]!==l;t++)y+=e[t];return[p,y,t]}function P(e,t){return e[t+1]==="!"&&e[t+2]==="-"&&e[t+3]==="-"}function I(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="N"&&e[t+4]==="T"&&e[t+5]==="I"&&e[t+6]==="T"&&e[t+7]==="Y"}function g(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="L"&&e[t+4]==="E"&&e[t+5]==="M"&&e[t+6]==="E"&&e[t+7]==="N"&&e[t+8]==="T"}function o(e,t){return e[t+1]==="!"&&e[t+2]==="A"&&e[t+3]==="T"&&e[t+4]==="T"&&e[t+5]==="L"&&e[t+6]==="I"&&e[t+7]==="S"&&e[t+8]==="T"}function i(e,t){return e[t+1]==="!"&&e[t+2]==="N"&&e[t+3]==="O"&&e[t+4]==="T"&&e[t+5]==="A"&&e[t+6]==="T"&&e[t+7]==="I"&&e[t+8]==="O"&&e[t+9]==="N"}function a(e){if(w.isName(e))return e;throw new Error(`Invalid entity name ${e}`)}return M=A,M}var L,tt;function pt(){if(tt)return L;tt=1;const w=/^[-+]?0x[a-fA-F0-9]+$/,A=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const b={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function P(g,o={}){if(o=Object.assign({},b,o),!g||typeof g!="string")return g;let i=g.trim();if(o.skipLike!==void 0&&o.skipLike.test(i))return g;if(o.hex&&w.test(i))return Number.parseInt(i,16);{const a=A.exec(i);if(a){const e=a[1],t=a[2];let p=I(a[3]);const l=a[4]||a[6];if(!o.leadingZeros&&t.length>0&&e&&i[2]!=="."||!o.leadingZeros&&t.length>0&&!e&&i[1]!==".")return g;{const y=Number(i),v=""+y;return v.search(/[eE]/)!==-1||l?o.eNotation?y:g:i.indexOf(".")!==-1?v==="0"&&p===""||v===p||e&&v==="-"+p?y:g:t?p===v||e+p===v?y:g:i===v||i===e+v?y:g}}else return g}}function I(g){return g&&g.indexOf(".")!==-1&&(g=g.replace(/0+$/,""),g==="."?g="0":g[0]==="."?g="0"+g:g[g.length-1]==="."&&(g=g.substr(0,g.length-1))),g}return L=P,L}var B,et;function dt(){if(et)return B;et=1;const w=Z(),A=ht(),b=ct(),P=pt();"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,w.nameRegexp);class I{constructor(c){this.options=c,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"}},this.addExternalEntities=g,this.parseXml=t,this.parseTextData=o,this.resolveNameSpace=i,this.buildAttributesMap=e,this.isItStopNode=v,this.replaceEntitiesValue=l,this.readStopNodeData=u,this.saveTextToParentTag=y,this.addChild=p}}function g(r){const c=Object.keys(r);for(let n=0;n<c.length;n++){const x=c[n];this.lastEntities[x]={regex:new RegExp("&"+x+";","g"),val:r[x]}}}function o(r,c,n,x,f,h,N){if(r!==void 0&&(this.options.trimValues&&!x&&(r=r.trim()),r.length>0)){N||(r=this.replaceEntitiesValue(r));const d=this.options.tagValueProcessor(c,r,n,f,h);return d==null?r:typeof d!=typeof r||d!==r?d:this.options.trimValues?m(r,this.options.parseTagValue,this.options.numberParseOptions):r.trim()===r?m(r,this.options.parseTagValue,this.options.numberParseOptions):r}}function i(r){if(this.options.removeNSPrefix){const c=r.split(":"),n=r.charAt(0)==="/"?"/":"";if(c[0]==="xmlns")return"";c.length===2&&(r=n+c[1])}return r}const a=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function e(r,c,n){if(!this.options.ignoreAttributes&&typeof r=="string"){const x=w.getAllMatches(r,a),f=x.length,h={};for(let N=0;N<f;N++){const d=this.resolveNameSpace(x[N][1]);let E=x[N][4],O=this.options.attributeNamePrefix+d;if(d.length)if(this.options.transformAttributeName&&(O=this.options.transformAttributeName(O)),O==="__proto__"&&(O="#__proto__"),E!==void 0){this.options.trimValues&&(E=E.trim()),E=this.replaceEntitiesValue(E);const S=this.options.attributeValueProcessor(d,E,c);S==null?h[O]=E:typeof S!=typeof E||S!==E?h[O]=S:h[O]=m(E,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(h[O]=!0)}if(!Object.keys(h).length)return;if(this.options.attributesGroupName){const N={};return N[this.options.attributesGroupName]=h,N}return h}}const t=function(r){r=r.replace(/\r\n?/g,`
`);const c=new A("!xml");let n=c,x="",f="";for(let h=0;h<r.length;h++)if(r[h]==="<")if(r[h+1]==="/"){const N=C(r,">",h,"Closing Tag is not closed.");let d=r.substring(h+2,N).trim();if(this.options.removeNSPrefix){const S=d.indexOf(":");S!==-1&&(d=d.substr(S+1))}this.options.transformTagName&&(d=this.options.transformTagName(d)),n&&(x=this.saveTextToParentTag(x,n,f));const E=f.substring(f.lastIndexOf(".")+1);if(d&&this.options.unpairedTags.indexOf(d)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${d}>`);let O=0;E&&this.options.unpairedTags.indexOf(E)!==-1?(O=f.lastIndexOf(".",f.lastIndexOf(".")-1),this.tagsNodeStack.pop()):O=f.lastIndexOf("."),f=f.substring(0,O),n=this.tagsNodeStack.pop(),x="",h=N}else if(r[h+1]==="?"){let N=s(r,h,!1,"?>");if(!N)throw new Error("Pi Tag is not closed.");if(x=this.saveTextToParentTag(x,n,f),!(this.options.ignoreDeclaration&&N.tagName==="?xml"||this.options.ignorePiTags)){const d=new A(N.tagName);d.add(this.options.textNodeName,""),N.tagName!==N.tagExp&&N.attrExpPresent&&(d[":@"]=this.buildAttributesMap(N.tagExp,f,N.tagName)),this.addChild(n,d,f)}h=N.closeIndex+1}else if(r.substr(h+1,3)==="!--"){const N=C(r,"-->",h+4,"Comment is not closed.");if(this.options.commentPropName){const d=r.substring(h+4,N-2);x=this.saveTextToParentTag(x,n,f),n.add(this.options.commentPropName,[{[this.options.textNodeName]:d}])}h=N}else if(r.substr(h+1,2)==="!D"){const N=b(r,h);this.docTypeEntities=N.entities,h=N.i}else if(r.substr(h+1,2)==="!["){const N=C(r,"]]>",h,"CDATA is not closed.")-2,d=r.substring(h+9,N);if(x=this.saveTextToParentTag(x,n,f),this.options.cdataPropName)n.add(this.options.cdataPropName,[{[this.options.textNodeName]:d}]);else{let E=this.parseTextData(d,n.tagname,f,!0,!1,!0);E==null&&(E=""),n.add(this.options.textNodeName,E)}h=N+2}else{let N=s(r,h,this.options.removeNSPrefix),d=N.tagName;const E=N.rawTagName;let O=N.tagExp,S=N.attrExpPresent,V=N.closeIndex;this.options.transformTagName&&(d=this.options.transformTagName(d)),n&&x&&n.tagname!=="!xml"&&(x=this.saveTextToParentTag(x,n,f,!1));const q=n;if(q&&this.options.unpairedTags.indexOf(q.tagname)!==-1&&(n=this.tagsNodeStack.pop(),f=f.substring(0,f.lastIndexOf("."))),d!==c.tagname&&(f+=f?"."+d:d),this.isItStopNode(this.options.stopNodes,f,d)){let j="";if(O.length>0&&O.lastIndexOf("/")===O.length-1)h=N.closeIndex;else if(this.options.unpairedTags.indexOf(d)!==-1)h=N.closeIndex;else{const F=this.readStopNodeData(r,E,V+1);if(!F)throw new Error(`Unexpected end of ${E}`);h=F.i,j=F.tagContent}const $=new A(d);d!==O&&S&&($[":@"]=this.buildAttributesMap(O,f,d)),j&&(j=this.parseTextData(j,d,f,!0,S,!0,!0)),f=f.substr(0,f.lastIndexOf(".")),$.add(this.options.textNodeName,j),this.addChild(n,$,f)}else{if(O.length>0&&O.lastIndexOf("/")===O.length-1){d[d.length-1]==="/"?(d=d.substr(0,d.length-1),f=f.substr(0,f.length-1),O=d):O=O.substr(0,O.length-1),this.options.transformTagName&&(d=this.options.transformTagName(d));const j=new A(d);d!==O&&S&&(j[":@"]=this.buildAttributesMap(O,f,d)),this.addChild(n,j,f),f=f.substr(0,f.lastIndexOf("."))}else{const j=new A(d);this.tagsNodeStack.push(n),d!==O&&S&&(j[":@"]=this.buildAttributesMap(O,f,d)),this.addChild(n,j,f),n=j}x="",h=V}}else x+=r[h];return c.child};function p(r,c,n){const x=this.options.updateTag(c.tagname,n,c[":@"]);x===!1||(typeof x=="string"&&(c.tagname=x),r.addChild(c))}const l=function(r){if(this.options.processEntities){for(let c in this.docTypeEntities){const n=this.docTypeEntities[c];r=r.replace(n.regx,n.val)}for(let c in this.lastEntities){const n=this.lastEntities[c];r=r.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let c in this.htmlEntities){const n=this.htmlEntities[c];r=r.replace(n.regex,n.val)}r=r.replace(this.ampEntity.regex,this.ampEntity.val)}return r};function y(r,c,n,x){return r&&(x===void 0&&(x=Object.keys(c.child).length===0),r=this.parseTextData(r,c.tagname,n,!1,c[":@"]?Object.keys(c[":@"]).length!==0:!1,x),r!==void 0&&r!==""&&c.add(this.options.textNodeName,r),r=""),r}function v(r,c,n){const x="*."+n;for(const f in r){const h=r[f];if(x===h||c===h)return!0}return!1}function T(r,c,n=">"){let x,f="";for(let h=c;h<r.length;h++){let N=r[h];if(x)N===x&&(x="");else if(N==='"'||N==="'")x=N;else if(N===n[0])if(n[1]){if(r[h+1]===n[1])return{data:f,index:h}}else return{data:f,index:h};else N==="	"&&(N=" ");f+=N}}function C(r,c,n,x){const f=r.indexOf(c,n);if(f===-1)throw new Error(x);return f+c.length-1}function s(r,c,n,x=">"){const f=T(r,c+1,x);if(!f)return;let h=f.data;const N=f.index,d=h.search(/\s/);let E=h,O=!0;d!==-1&&(E=h.substr(0,d).replace(/\s\s*$/,""),h=h.substr(d+1));const S=E;if(n){const V=E.indexOf(":");V!==-1&&(E=E.substr(V+1),O=E!==f.data.substr(V+1))}return{tagName:E,tagExp:h,closeIndex:N,attrExpPresent:O,rawTagName:S}}function u(r,c,n){const x=n;let f=1;for(;n<r.length;n++)if(r[n]==="<")if(r[n+1]==="/"){const h=C(r,">",n,`${c} is not closed`);if(r.substring(n+2,h).trim()===c&&(f--,f===0))return{tagContent:r.substring(x,n),i:h};n=h}else if(r[n+1]==="?")n=C(r,"?>",n+1,"StopNode is not closed.");else if(r.substr(n+1,3)==="!--")n=C(r,"-->",n+3,"StopNode is not closed.");else if(r.substr(n+1,2)==="![")n=C(r,"]]>",n,"StopNode is not closed.")-2;else{const h=s(r,n,">");h&&((h&&h.tagName)===c&&h.tagExp[h.tagExp.length-1]!=="/"&&f++,n=h.closeIndex)}}function m(r,c,n){if(c&&typeof r=="string"){const x=r.trim();return x==="true"?!0:x==="false"?!1:P(r,n)}else return w.isExist(r)?r:""}return B=I,B}var R={},nt;function ft(){if(nt)return R;nt=1;function w(g,o){return A(g,o)}function A(g,o,i){let a;const e={};for(let t=0;t<g.length;t++){const p=g[t],l=b(p);let y="";if(i===void 0?y=l:y=i+"."+l,l===o.textNodeName)a===void 0?a=p[l]:a+=""+p[l];else{if(l===void 0)continue;if(p[l]){let v=A(p[l],o,y);const T=I(v,o);p[":@"]?P(v,p[":@"],y,o):Object.keys(v).length===1&&v[o.textNodeName]!==void 0&&!o.alwaysCreateTextNode?v=v[o.textNodeName]:Object.keys(v).length===0&&(o.alwaysCreateTextNode?v[o.textNodeName]="":v=""),e[l]!==void 0&&e.hasOwnProperty(l)?(Array.isArray(e[l])||(e[l]=[e[l]]),e[l].push(v)):o.isArray(l,y,T)?e[l]=[v]:e[l]=v}}}return typeof a=="string"?a.length>0&&(e[o.textNodeName]=a):a!==void 0&&(e[o.textNodeName]=a),e}function b(g){const o=Object.keys(g);for(let i=0;i<o.length;i++){const a=o[i];if(a!==":@")return a}}function P(g,o,i,a){if(o){const e=Object.keys(o),t=e.length;for(let p=0;p<t;p++){const l=e[p];a.isArray(l,i+"."+l,!0,!0)?g[l]=[o[l]]:g[l]=o[l]}}}function I(g,o){const{textNodeName:i}=o,a=Object.keys(g).length;return!!(a===0||a===1&&(g[i]||typeof g[i]=="boolean"||g[i]===0))}return R.prettify=w,R}var X,it;function gt(){if(it)return X;it=1;const{buildOptions:w}=lt(),A=dt(),{prettify:b}=ft(),P=at();class I{constructor(o){this.externalEntities={},this.options=w(o)}parse(o,i){if(typeof o!="string")if(o.toString)o=o.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(i){i===!0&&(i={});const t=P.validate(o,i);if(t!==!0)throw Error(`${t.err.msg}:${t.err.line}:${t.err.col}`)}const a=new A(this.options);a.addExternalEntities(this.externalEntities);const e=a.parseXml(o);return this.options.preserveOrder||e===void 0?e:b(e,this.options)}addEntity(o,i){if(i.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(o.indexOf("&")!==-1||o.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(i==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[o]=i}}return X=I,X}var G,st;function mt(){if(st)return G;st=1;const w=`
`;function A(i,a){let e="";return a.format&&a.indentBy.length>0&&(e=w),b(i,a,"",e)}function b(i,a,e,t){let p="",l=!1;for(let y=0;y<i.length;y++){const v=i[y],T=P(v);if(T===void 0)continue;let C="";if(e.length===0?C=T:C=`${e}.${T}`,T===a.textNodeName){let c=v[T];g(C,a)||(c=a.tagValueProcessor(T,c),c=o(c,a)),l&&(p+=t),p+=c,l=!1;continue}else if(T===a.cdataPropName){l&&(p+=t),p+=`<![CDATA[${v[T][0][a.textNodeName]}]]>`,l=!1;continue}else if(T===a.commentPropName){p+=t+`<!--${v[T][0][a.textNodeName]}-->`,l=!0;continue}else if(T[0]==="?"){const c=I(v[":@"],a),n=T==="?xml"?"":t;let x=v[T][0][a.textNodeName];x=x.length!==0?" "+x:"",p+=n+`<${T}${x}${c}?>`,l=!0;continue}let s=t;s!==""&&(s+=a.indentBy);const u=I(v[":@"],a),m=t+`<${T}${u}`,r=b(v[T],a,C,s);a.unpairedTags.indexOf(T)!==-1?a.suppressUnpairedNode?p+=m+">":p+=m+"/>":(!r||r.length===0)&&a.suppressEmptyNode?p+=m+"/>":r&&r.endsWith(">")?p+=m+`>${r}${t}</${T}>`:(p+=m+">",r&&t!==""&&(r.includes("/>")||r.includes("</"))?p+=t+a.indentBy+r+t:p+=r,p+=`</${T}>`),l=!0}return p}function P(i){const a=Object.keys(i);for(let e=0;e<a.length;e++){const t=a[e];if(i.hasOwnProperty(t)&&t!==":@")return t}}function I(i,a){let e="";if(i&&!a.ignoreAttributes)for(let t in i){if(!i.hasOwnProperty(t))continue;let p=a.attributeValueProcessor(t,i[t]);p=o(p,a),p===!0&&a.suppressBooleanAttributes?e+=` ${t.substr(a.attributeNamePrefix.length)}`:e+=` ${t.substr(a.attributeNamePrefix.length)}="${p}"`}return e}function g(i,a){i=i.substr(0,i.length-a.textNodeName.length-1);let e=i.substr(i.lastIndexOf(".")+1);for(let t in a.stopNodes)if(a.stopNodes[t]===i||a.stopNodes[t]==="*."+e)return!0;return!1}function o(i,a){if(i&&i.length>0&&a.processEntities)for(let e=0;e<a.entities.length;e++){const t=a.entities[e];i=i.replace(t.regex,t.val)}return i}return G=A,G}var U,rt;function xt(){if(rt)return U;rt=1;const w=mt(),A={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(o,i){return i},attributeValueProcessor:function(o,i){return i},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function b(o){this.options=Object.assign({},A,o),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=g),this.processTextOrObjNode=P,this.options.format?(this.indentate=I,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}b.prototype.build=function(o){return this.options.preserveOrder?w(o,this.options):(Array.isArray(o)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(o={[this.options.arrayNodeName]:o}),this.j2x(o,0).val)},b.prototype.j2x=function(o,i){let a="",e="";for(let t in o)if(Object.prototype.hasOwnProperty.call(o,t))if(typeof o[t]>"u")this.isAttribute(t)&&(e+="");else if(o[t]===null)this.isAttribute(t)?e+="":t[0]==="?"?e+=this.indentate(i)+"<"+t+"?"+this.tagEndChar:e+=this.indentate(i)+"<"+t+"/"+this.tagEndChar;else if(o[t]instanceof Date)e+=this.buildTextValNode(o[t],t,"",i);else if(typeof o[t]!="object"){const p=this.isAttribute(t);if(p)a+=this.buildAttrPairStr(p,""+o[t]);else if(t===this.options.textNodeName){let l=this.options.tagValueProcessor(t,""+o[t]);e+=this.replaceEntitiesValue(l)}else e+=this.buildTextValNode(o[t],t,"",i)}else if(Array.isArray(o[t])){const p=o[t].length;let l="";for(let y=0;y<p;y++){const v=o[t][y];typeof v>"u"||(v===null?t[0]==="?"?e+=this.indentate(i)+"<"+t+"?"+this.tagEndChar:e+=this.indentate(i)+"<"+t+"/"+this.tagEndChar:typeof v=="object"?this.options.oneListGroup?l+=this.j2x(v,i+1).val:l+=this.processTextOrObjNode(v,t,i):l+=this.buildTextValNode(v,t,"",i))}this.options.oneListGroup&&(l=this.buildObjectNode(l,t,"",i)),e+=l}else if(this.options.attributesGroupName&&t===this.options.attributesGroupName){const p=Object.keys(o[t]),l=p.length;for(let y=0;y<l;y++)a+=this.buildAttrPairStr(p[y],""+o[t][p[y]])}else e+=this.processTextOrObjNode(o[t],t,i);return{attrStr:a,val:e}},b.prototype.buildAttrPairStr=function(o,i){return i=this.options.attributeValueProcessor(o,""+i),i=this.replaceEntitiesValue(i),this.options.suppressBooleanAttributes&&i==="true"?" "+o:" "+o+'="'+i+'"'};function P(o,i,a){const e=this.j2x(o,a+1);return o[this.options.textNodeName]!==void 0&&Object.keys(o).length===1?this.buildTextValNode(o[this.options.textNodeName],i,e.attrStr,a):this.buildObjectNode(e.val,i,e.attrStr,a)}b.prototype.buildObjectNode=function(o,i,a,e){if(o==="")return i[0]==="?"?this.indentate(e)+"<"+i+a+"?"+this.tagEndChar:this.indentate(e)+"<"+i+a+this.closeTag(i)+this.tagEndChar;{let t="</"+i+this.tagEndChar,p="";return i[0]==="?"&&(p="?",t=""),(a||a==="")&&o.indexOf("<")===-1?this.indentate(e)+"<"+i+a+p+">"+o+t:this.options.commentPropName!==!1&&i===this.options.commentPropName&&p.length===0?this.indentate(e)+`<!--${o}-->`+this.newLine:this.indentate(e)+"<"+i+a+p+this.tagEndChar+o+this.indentate(e)+t}},b.prototype.closeTag=function(o){let i="";return this.options.unpairedTags.indexOf(o)!==-1?this.options.suppressUnpairedNode||(i="/"):this.options.suppressEmptyNode?i="/":i=`></${o}`,i},b.prototype.buildTextValNode=function(o,i,a,e){if(this.options.cdataPropName!==!1&&i===this.options.cdataPropName)return this.indentate(e)+`<![CDATA[${o}]]>`+this.newLine;if(this.options.commentPropName!==!1&&i===this.options.commentPropName)return this.indentate(e)+`<!--${o}-->`+this.newLine;if(i[0]==="?")return this.indentate(e)+"<"+i+a+"?"+this.tagEndChar;{let t=this.options.tagValueProcessor(i,o);return t=this.replaceEntitiesValue(t),t===""?this.indentate(e)+"<"+i+a+this.closeTag(i)+this.tagEndChar:this.indentate(e)+"<"+i+a+">"+t+"</"+i+this.tagEndChar}},b.prototype.replaceEntitiesValue=function(o){if(o&&o.length>0&&this.options.processEntities)for(let i=0;i<this.options.entities.length;i++){const a=this.options.entities[i];o=o.replace(a.regex,a.val)}return o};function I(o){return this.options.indentBy.repeat(o)}function g(o){return o.startsWith(this.options.attributeNamePrefix)&&o!==this.options.textNodeName?o.substr(this.attrPrefixLen):!1}return U=b,U}var Y,ot;function Nt(){if(ot)return Y;ot=1;const w=at(),A=gt(),b=xt();return Y={XMLParser:A,XMLValidator:w,XMLBuilder:b},Y}var bt=Nt();const vt=ut({__proto__:null},[bt]);export{vt as f};
