import{N as h,f8 as a}from"./main-BFNwcKi0.js";import{S as s}from"./symbolUtils-D5Wjfwrf-CjbIPD-I.js";import{e as l}from"./webStyleSymbolUtils-r0H5toyk-D3mSCxfj.js";import"./utils-Cb2uXNfG-BCA9MW7_.js";import"./asyncUtils-BPUlNCrX-DumqzKDa.js";import"./jsonUtils-BwLwuQj7-zzucba7L.js";import"./parser-CWccHtwJ-C9zR5w5U.js";import"./mat4f32-BdRMyjXW-CWt6U0BP.js";import"./mat4-OOmHNWi7-CRkPo6gm.js";import"./common-CYWrYyJl-E8-sukrT.js";import"./cimSymbolUtils-DCedSSCN-BUxj8_kC.js";import"./utils-BfXZnjCE-RSMN3nbu.js";import"./defaultCIMValues-BcSaJjm--58G-soMN.js";import"./enums-a_LDTPYU-CBIcy3mM.js";import"./LRUCache-DPWdPNTF-Du_Z0yHt.js";import"./MemCache-qDGoejB7-9IozotvY.js";import"./colorUtils-Eg6lOlXm-Pp6Y-u5m.js";import"./vec42-D8CJyqHG-DnfLTeQH.js";import"./vec4f64-DD-nkcCV-CSNWKRqG.js";import"./jsxFactory-Cua8zWVZ-CUbSRf6B.js";import"./intl-BAA1onnp-DKVXoHpp.js";import"./uuid-Dj9mdEVg-BaKSCiyT.js";import"./sanitizerUtils-B1yRmbO2-B7KG_jBT.js";import"./mat2df32-fg3OHsAI-BF2V2zqo.js";import"./mat2d-BQA-1WB--Pnyy0dhf.js";import"./devEnvironmentUtils-CxrVv3RG-CX5aoxVE.js";import"./styleUtils-DBPDLVBX-wc3AXi8C.js";async function G(i,t,o){const m=i.thumbnail?.url;if(m){const p=d((await h(m,{responseType:"image"})).data,o);return o?.node?(o.node.appendChild(p),o.node):p}const r=await i.fetchSymbol({acceptedFormats:l});return r?t(r,o):null}function d(i,t){const o=!/\\.svg$/i.test(i.src)&&t?.disableUpsampling,m=Math.max(i.width,i.height);let r=t?.maxSize!=null?a(t.maxSize):s.maxSize;o&&(r=Math.min(m,r));const p=typeof t?.size=="number"?t?.size:null,e=Math.min(r,p!=null?a(p):m);if(e!==m){const n=i.width!==0&&i.height!==0?i.width/i.height:1;n>=1?(i.width=e,i.height=e/n):(i.width=e*n,i.height=e)}return i}export{G as previewWebStyleSymbol};
