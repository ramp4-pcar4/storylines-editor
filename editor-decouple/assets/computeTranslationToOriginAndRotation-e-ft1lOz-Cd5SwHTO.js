import{ap as N,ay as O,du as R}from"./main-BCE_pGkN.js";import{W as S,Z as p,G as M}from"./mat4-OOmHNWi7-BcILfA4-.js";import{F as P,N as r,b as l}from"./projectionUtils-B-CplN3q-CaR34chB.js";function s(u,i,t){const E=Math.sin(u),e=Math.cos(u),a=Math.sin(i),o=Math.cos(i),n=t;return n[0]=-E,n[4]=-a*e,n[8]=o*e,n[12]=0,n[1]=e,n[5]=-a*E,n[9]=o*E,n[13]=0,n[2]=0,n[6]=o,n[10]=a,n[14]=0,n[3]=0,n[7]=0,n[11]=0,n[15]=1,n}function T(u,i,t){return s(u,i,t),M(t,t),t}function F(u,i,t,E){const e=P(u,E);if(e==null)return!1;const a=e.source.spatialReferenceId,o=e.dest.spatialReferenceId;if(a===o&&!L(o)&&(a!==r.UNKNOWN||N(u,E)))return S(t,i),!0;if(L(o)){const c=l[a][r.LON_LAT],f=l[r.LON_LAT][o];return c!=null&&f!=null&&(c(i,0,C,0),f(C,0,_,0),s(A*C[0],A*C[1],t),t[12]=_[0],t[13]=_[1],t[14]=_[2],!0)}const n=L(a);if((o===r.WEB_MERCATOR||o===r.PLATE_CARREE||o===r.WGS84||o===r.CGCS2000)&&(a===r.WGS84||n||a===r.WEB_MERCATOR||a===r.CGCS2000)){const c=l[a][r.LON_LAT],f=l[r.LON_LAT][o];return c!=null&&f!=null&&(c(i,0,C,0),f(C,0,_,0),n?T(A*C[0],A*C[1],t):p(t),t[12]=_[0],t[13]=_[1],t[14]=_[2],!0)}return!1}function L(u){return u===r.SPHERICAL_ECEF||u===r.SPHERICAL_MARS_PCPF||u===r.SPHERICAL_MOON_PCPF||u===r.WGS84_ECEF}const A=O(1),C=R(),_=R();export{s as A,F as p};
