import{t as Bt}from"./_commonjsHelpers-BITg13Vk-KnjfkSck.js";function Ut(g,b){for(var w=0;w<b.length;w++){const p=b[w];if(typeof p!="string"&&!Array.isArray(p)){for(const h in p)if(h!=="default"&&!(h in g)){const m=Object.getOwnPropertyDescriptor(p,h);m&&Object.defineProperty(g,h,m.get?m:{enumerable:!0,get:()=>p[h]})}}}return Object.freeze(Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}))}var et,ot={exports:{}};function Dt(){return et||(et=1,g=ot,b=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,w=function(p={}){var h,m,n=p;n.ready=new Promise((t,r)=>{h=t,m=r});var k=Object.assign({},n),L=typeof window=="object",T=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var B,l="";function at(t){return n.locateFile?n.locateFile(t,l):l+t}(L||T)&&(T?l=self.location.href:typeof document<"u"&&document.currentScript&&(l=document.currentScript.src),b&&(l=b),l=l.indexOf("blob:")!==0?l.substr(0,l.replace(/[?#].*/,"").lastIndexOf("/")+1):"",T&&(B=t=>{var r=new XMLHttpRequest;return r.open("GET",t,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}));var E,j,ut=n.print||console.log.bind(console),A=n.printErr||console.error.bind(console);Object.assign(n,k),k=null,n.arguments&&n.arguments,n.thisProgram&&n.thisProgram,n.quit&&n.quit,n.wasmBinary&&(E=n.wasmBinary),typeof WebAssembly!="object"&&X("no native wasm support detected");var x,O,z=!1;function N(){var t=j.buffer;n.HEAP8=new Int8Array(t),n.HEAP16=new Int16Array(t),n.HEAPU8=x=new Uint8Array(t),n.HEAPU16=new Uint16Array(t),n.HEAP32=new Int32Array(t),n.HEAPU32=O=new Uint32Array(t),n.HEAPF32=new Float32Array(t),n.HEAPF64=new Float64Array(t)}var $=[],Y=[],G=[];function ft(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)lt(n.preRun.shift());U($)}function st(){U(Y)}function ct(){if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)ht(n.postRun.shift());U(G)}function lt(t){$.unshift(t)}function pt(t){Y.unshift(t)}function ht(t){G.unshift(t)}var d=0,R=null;function mt(t){d++,n.monitorRunDependencies?.(d)}function yt(t){if(d--,n.monitorRunDependencies?.(d),d==0&&R){var r=R;R=null,r()}}function X(t){n.onAbort?.(t),A(t="Aborted("+t+")"),z=!0,t+=". Build with -sASSERTIONS for more info.";var r=new WebAssembly.RuntimeError(t);throw m(r),r}var P,dt="data:application/octet-stream;base64,",J=t=>t.startsWith(dt);function K(t){if(t==P&&E)return new Uint8Array(E);if(B)return B(t);throw"both async and sync fetching of the wasm failed"}function vt(t){return E||!L&&!T||typeof fetch!="function"?Promise.resolve().then(()=>K(t)):fetch(t,{credentials:"same-origin"}).then(r=>{if(!r.ok)throw"failed to load wasm binary file at '"+t+"'";return r.arrayBuffer()}).catch(()=>K(t))}function Q(t,r,o){return vt(t).then(e=>WebAssembly.instantiate(e,r)).then(e=>e).then(o,e=>{A(`failed to asynchronously prepare wasm: ${e}`),X(e)})}function gt(t,r,o,e){return t||typeof WebAssembly.instantiateStreaming!="function"||J(r)||typeof fetch!="function"?Q(r,o,e):fetch(r,{credentials:"same-origin"}).then(i=>WebAssembly.instantiateStreaming(i,o).then(e,function(a){return A(`wasm streaming compile failed: ${a}`),A("falling back to ArrayBuffer instantiation"),Q(r,o,e)}))}function bt(){var t={a:It};function r(e,i){return c=e.exports,j=c.i,N(),V=c.m,pt(c.j),yt(),c}function o(e){r(e.instance)}if(mt(),n.instantiateWasm)try{return n.instantiateWasm(t,r)}catch(e){A(`Module.instantiateWasm callback failed with error: ${e}`),m(e)}return gt(E,P,t,o).catch(m),{}}J(P="libtess.wasm")||(P=at(P));var U=t=>{for(;t.length>0;)t.shift()(n)};n.noExitRuntime;var V,wt=()=>{throw 1/0},At=(t,r,o)=>x.copyWithin(t,r,r+o),Et=()=>2147483648,Rt=t=>{var r=(t-j.buffer.byteLength+65535)/65536;try{return j.grow(r),N(),1}catch{}},Pt=t=>{var r=x.length;t>>>=0;var o=Et();if(t>o)return!1;for(var e=(f,s)=>f+(s-f%s)%s,i=1;i<=4;i*=2){var a=r*(1+.2/i);a=Math.min(a,t+100663296);var u=Math.min(o,e(Math.max(t,a),65536));if(Rt(u))return!0}return!1},St=[null,[],[]],Z=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,_t=(t,r,o)=>{for(var e=r+o,i=r;t[i]&&!(i>=e);)++i;if(i-r>16&&t.buffer&&Z)return Z.decode(t.subarray(r,i));for(var a="";r<i;){var u=t[r++];if(128&u){var f=63&t[r++];if((224&u)!=192){var s=63&t[r++];if((u=(240&u)==224?(15&u)<<12|f<<6|s:(7&u)<<18|f<<12|s<<6|63&t[r++])<65536)a+=String.fromCharCode(u);else{var I=u-65536;a+=String.fromCharCode(55296|I>>10,56320|1023&I)}}else a+=String.fromCharCode((31&u)<<6|f)}else a+=String.fromCharCode(u)}return a},Ht=(t,r)=>{var o=St[t];r===0||r===10?((t===1?ut:A)(_t(o,0)),o.length=0):o.push(r)},W=[],C=t=>{var r=W[t];return r||(t>=W.length&&(W.length=t+1),W[t]=r=V.get(t)),r},It={e:wt,g:At,f:Pt,c:(t,r,o,e)=>{for(var i=0,a=0;a<o;a++){var u=O[r>>2],f=O[r+4>>2];r+=8;for(var s=0;s<f;s++)Ht(t,x[u+s]);i+=f}return O[e>>2]=i,0},b:xt,h:Ot,d:jt,a:Tt},c=bt();n._malloc=t=>(n._malloc=c.k)(t),n._free=t=>(n._free=c.l)(t),n._triangulate=(t,r,o,e,i,a)=>(n._triangulate=c.n)(t,r,o,e,i,a);var F,S=(t,r)=>(S=c.o)(t,r),_=()=>(_=c.p)(),H=t=>(H=c.q)(t);function Tt(t,r,o){var e=_();try{C(t)(r,o)}catch(i){if(H(e),i!==i+0)throw i;S(1,0)}}function jt(t,r){var o=_();try{C(t)(r)}catch(e){if(H(o),e!==e+0)throw e;S(1,0)}}function xt(t,r){var o=_();try{return C(t)(r)}catch(e){if(H(o),e!==e+0)throw e;S(1,0)}}function Ot(t,r,o,e){var i=_();try{return C(t)(r,o,e)}catch(a){if(H(i),a!==a+0)throw a;S(1,0)}}function tt(){function t(){F||(F=!0,n.calledRun=!0,z||(st(),h(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),ct()))}d>0||(ft(),d>0||(n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),t()},1)):t()))}if(R=function t(){F||tt(),F||(R=t)},n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();tt();let D=null,y=null,v=null,M=null;const Wt=2,nt=4e3;let rt=0;const Ct=(t,r,o)=>{D||(D=n._triangulate);let e=n.HEAPF32;const i=n.HEAP32.BYTES_PER_ELEMENT,a=2,u=e.BYTES_PER_ELEMENT;o>rt&&(rt=o,v&&(n._free(v),v=0),y&&(n._free(y),y=0)),v||(v=n._malloc(o*u)),M||(M=n._malloc(nt*i));const f=o*Wt;y||(y=n._malloc(f*u)),e=n.HEAPF32,e.set(t,v/u),n.HEAP32.set(r,M/i);const s=f/a,I=D(v,M,Math.min(r.length,nt),a,y,s),Ft=I*a;e=n.HEAPF32;const Mt=e.slice(y/u,y/u+Ft),q={};return q.buffer=Mt,q.vertexCount=I,q};return n.triangulate=Ct,p.ready},g.exports=w),ot.exports;var g,b,w}var it=Dt();const kt=Ut({__proto__:null,default:Bt(it)},[it]);export{kt as l};
