const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./previewWebStyleSymbol-yyKhlM2D-CkrngMaG.js","./main-Ce4EWRDg.js","./main-DqH4NCYM.css","./webStyleSymbolUtils-r0H5toyk-ByZWfyGB.js","./devEnvironmentUtils-CxrVv3RG-CX5aoxVE.js","./styleUtils-DBPDLVBX-DJI8BUPb.js","./utils-Cb2uXNfG-Dah34Enb.js","./asyncUtils-BPUlNCrX-ksfAvkpM.js","./jsonUtils-BwLwuQj7-C4ey39IH.js","./parser-CWccHtwJ-C-E1XYEo.js","./mat4f32-BdRMyjXW-CWt6U0BP.js","./mat4-OOmHNWi7-DFA-zqFx.js","./common-CYWrYyJl-E8-sukrT.js","./cimSymbolUtils-DCedSSCN-CqXajxTw.js","./utils-BfXZnjCE-Ctg7h40o.js","./defaultCIMValues-BcSaJjm--58G-soMN.js","./enums-a_LDTPYU-CBIcy3mM.js","./LRUCache-DPWdPNTF-Du_Z0yHt.js","./MemCache-qDGoejB7-9IozotvY.js","./colorUtils-Eg6lOlXm-DzLz_sTW.js","./vec42-D8CJyqHG-DnfLTeQH.js","./vec4f64-DD-nkcCV-CSNWKRqG.js","./jsxFactory-Cua8zWVZ-CaT086WU.js","./intl-BAA1onnp-CLyuw8gc.js","./uuid-Dj9mdEVg-BaKSCiyT.js","./sanitizerUtils-B1yRmbO2-B7KG_jBT.js","./mat2df32-fg3OHsAI-BF2V2zqo.js","./mat2d-BQA-1WB--Pnyy0dhf.js","./previewSymbol2D-BgXgV5g6-BsxoiBmn.js","./fontUtils-C37p4Hgq-DEk5RXCz.js","./quantizationUtils-D907S7Bm-CToWJHbi.js","./previewCIMSymbol-CVZYVI5l-q_1zjmlC.js","./CIMSymbolHelper-34UsTwam-X0_q7Bja.js","./BidiEngine-DusKzrO8-BlAgW8mu.js","./OptimizedGeometry-pzfNw1AT-Cd0AKSum.js","./memoryEstimations-DeWfxwaV-CafCjZsd.js","./GeometryUtils-B8e3Iwyx-C42tAAJz.js","./definitions-MCCItX4r-o3EUznKY.js","./rasterizingUtils-1wASRzSP-ma255Itc.js","./floatRGBA-DRFmbkvz-Dsyzvj2p.js","./vec2-BnynUbeJ-CKtGJQAy.js","./vec2f32-hTAvipMV-C0AQcwEv.js","./Rect-DD6XS68q-D_hsV3ag.js","./BoundingBox-DlCd_wcU-DBB4UfPl.js","./CIMSymbolRasterizer-CHPajZH1-DGa3MAWL.js","./CIMResourceManager-DyRf92xI-3tvlZPGI.js","./imageUtils-D3tfFRL_-Cy91Lz-j.js","./OverrideHelper-DgyARgwI-ClWwXGdt.js","./FieldsIndex-Bt0Y8aWr-Bu-iQDn5.js","./UnknownTimeZone-DxjyzFvs-t8Tl85p9.js","./timeZoneUtils-d5p0Jda1-Dao33zyG.js","./ArcadeExpression-XjY3x7KV-yBJsZVuW.js","./TimeOnly-CGkId3bj-S3OtMGbz.js","./enum-g1DWyQyu-CC5RiZDx.js","./callExpressionWithFeature-Bk8k1lJI-C8BIrLj5.js","./visualVariableUtils-BTS148WR-jjWVc4LX.js","./lengthUtils-C61nRlXw-FSAXsLHN.js"])))=>i.map(i=>d[i]);
import{an as Y,bn as de,f8 as j,h as q,a6 as _e,_ as V,bT as Re,ad as O,b0 as H,U as Ze,k1 as Ae,j_ as Ie,N as Oe}from"./main-Ce4EWRDg.js";import{J as De,I as Ee,i as ye,$ as Pe,b as Ve,_ as T,s as Ne,l as Fe,z as ge,B as Ge,j as Ue}from"./utils-Cb2uXNfG-Dah34Enb.js";import{C as Q,h as ve}from"./colorUtils-Eg6lOlXm-DzLz_sTW.js";import{s as Be,K as L}from"./jsxFactory-Cua8zWVZ-CaT086WU.js";import{u as le}from"./mat2df32-fg3OHsAI-BF2V2zqo.js";import{p as D,q as Te,x as X,g as We,_ as qe}from"./mat2d-BQA-1WB--Pnyy0dhf.js";import{h as Ke}from"./webStyleSymbolUtils-r0H5toyk-ByZWfyGB.js";var S;(function(e){e[e.size=22]="size",e[e.lineWidth=50]="lineWidth",e[e.maxSize=120]="maxSize",e[e.maxOutlineSize=80]="maxOutlineSize",e[e.tallSymbolWidth=20]="tallSymbolWidth"})(S||(S={}));const E={fill:[{type:"path",path:"M -10,-10 L 10,0 L 10,10 L -10,10 L -10,-10 Z"}],meshSymbol3DFill:[{type:"path",path:"M -10,-8 L 6,0 L 6,6 L -10,6 L -10,-8 Z"},{type:"path",path:"M -10,-8 L -7,-10 L 9,-2 L 6,0 L -10,-8 Z"},{type:"path",path:"M 6,0 L 9,-2 L 9,4 L 6,6 L 6,0 Z"}],pathSymbol3DLayer:[{type:"path",path:"M 3,12 L 12,0 L 11,-2 L -4,5 L -1,5 L 1,7 L 3,10 L 3,12 Z"},{type:"circle",cx:-2,cy:10,r:5}]};function Je(e,t,a){const n=S.size;let l=n,o=n;e<1?l*=.75:e>1&&(o*=1.25);const s=0,c=0;let r=n,u=n;return t&&a&&(l=o=r=u=0),[{type:"path",path:[{command:"M",values:[r,s]},{command:"L",values:[a?r:.875*r,s]},{command:"L",values:[a?l-.5*r:c,o-.5*u]},{command:"L",values:[l-.5*r,o-.5*u]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[r,s]},{command:"L",values:[r,t?s:.125*u]},{command:"L",values:[l-.5*r,t?o-.5*u:u]},{command:"L",values:[l-.5*r,o-.5*u]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[l-.5*r,o-.5*u]},{command:"L",values:[a?l-.5*r:c,o-.5*u]},{command:"L",values:[a?l-.5*r:c,t?o-.5*u:u]},{command:"L",values:[l-.5*r,t?o-.5*u:u]},{command:"Z",values:[]}]}]}function Ye(e){const t=S.size,a=.5*e,n=0,l=0;return[{type:"path",path:[{command:"M",values:[l,.7*t*.5]},{command:"L",values:[.3*t,.7*t]},{command:"L",values:[.3*t,.7*t+a]},{command:"L",values:[l,.7*t+a-.7*t*.5]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.3*t,.7*t]},{command:"L",values:[.3*t,.7*t+a]},{command:"L",values:[t,a]},{command:"L",values:[t,n]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.3*t,n]},{command:"L",values:[t,n]},{command:"L",values:[.3*t,.7*t]},{command:"L",values:[l,.7*t*.5]},{command:"Z",values:[]}]}]}function He(){return[{type:"path",path:"M80,80.2v-27c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4C8.3,59.3,5.7,58,3.9,56c-1.1-1.2-2.4-2.1-3.9-2.8v27"},{type:"path",path:"M11,59.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8v-24c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-1.1-1.2-2.4-2.1-3.9-2.8v24c1.5,0.7,2.8,1.6,3.9,2.8C5.7,58,8.3,59.3,11,59.4z"},{type:"path",path:"M11,35.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8V3.6c-1.5,0.7-2.8,1.6-3.9,2.8c-2.2,2.1-4.6,3.4-7.1,3.4s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6S42.5,9.9,40,9.9s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.5,0-5-1.3-7.1-3.4C2.8,5.3,1.4,4.3,0,3.6v25.6c1.5,0.7,2.8,1.6,3.9,2.8C5.7,34.1,8.3,35.3,11,35.4z"}]}function Qe(e,t){let a=t?S.tallSymbolWidth:e;const n=e,l=t?4:6;a<=S.size?a-=.5*l:a-=l;const o=0,s=0,c=t?.35*a:.5*a;return[{type:"path",path:[{command:"M",values:[.5*a,o]},{command:"L",values:[a,.5*c]},{command:"L",values:[.5*a,c]},{command:"L",values:[s,.5*c]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[o,.5*c]},{command:"L",values:[.5*a,c]},{command:"L",values:[.5*a,n]},{command:"L",values:[s,n-.5*c]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.5*a,c]},{command:"L",values:[.5*a,n]},{command:"L",values:[a,n-.5*c]},{command:"L",values:[a,.5*c]},{command:"Z",values:[]}]}]}function Xe(e,t){let a=t?S.tallSymbolWidth:e;const n=e,l=t?4:6;a<=S.size?a-=.5*l:a-=l;const o=.5*a,s=.15*a,c=0,r=n-s;return[{type:"ellipse",cx:.5*a,cy:r,rx:o,ry:s},{type:"path",path:[{command:"M",values:[c,s]},{command:"L",values:[c,r]},{command:"L",values:[a,r]},{command:"L",values:[a,s]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*a,cy:s,rx:o,ry:s}]}function et(e,t){let a=t?S.tallSymbolWidth:e;const n=e,l=t?4:6;a<=S.size?a-=.5*l:a-=l;const o=.15*a,s=n-o;return[{type:"ellipse",cx:.5*a,cy:s,rx:.5*a,ry:o},{type:"path",path:[{command:"M",values:[.5*a,0]},{command:"L",values:[a,s]},{command:"L",values:[0,s]},{command:"Z",values:[]}]}]}function tt(e){let t=e;const a=e,n=6;t<S.size?t-=.5*n:t-=n;const l=.15*t,o=0;return[{type:"path",path:[{command:"M",values:[0,o]},{command:"L",values:[t,o]},{command:"L",values:[.5*t,a-l]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*t,cy:o,rx:.5*t,ry:l}]}function at(e){let t=e;const a=e,n=4;t<S.size?t-=.5*n:t-=n;const l=0,o=0,s=t,c=a,r=Math.floor(e/10)-1||1;return[{type:"path",path:[{command:"M",values:[.45*s,l]},{command:"L",values:[s,.5*c-r]},{command:"L",values:[.45*s-r,.5*c+r]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*s,l]},{command:"L",values:[.45*s-r,.5*c+r]},{command:"L",values:[o,.5*c-r]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[o,.5*c-r]},{command:"L",values:[.45*s-r,.5*c+r]},{command:"L",values:[.45*s,a]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*s,a]},{command:"L",values:[s,.5*c-r]},{command:"L",values:[.45*s-r,.5*c+r]},{command:"Z",values:[]}]}]}function nt(e){const t=e,a=2;let n=e;n<S.size?n-=.5*a:n-=a;const l=0,o=0;return[{type:"path",path:[{command:"M",values:[.45*t,l]},{command:"L",values:[t,n]},{command:"L",values:[.45*t,.6*n]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*t,l]},{command:"L",values:[.45*t,.6*n]},{command:"L",values:[o,n]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[o,n]},{command:"L",values:[.45*t,.6*n]},{command:"L",values:[t,n]},{command:"Z",values:[]}]}]}function _(e,t){return Math.round(Math.min(Math.max(e+255*t*.75,0),255))}function Jt(e,t){if(e==null)return new O;if("type"in e&&(e.type==="linear"||e.type==="pattern"))return e;const a=new O(e);return new O([_(a.r,t),_(a.g,t),_(a.b,t),a.a])}let lt=0;function ot(){return lt++}let st=0;function it(){return st++}let rt=0;function ct(){return rt++}const ut="http://www.w3.org/2000/svg",oe=Y("android"),ht=Y("chrome")||oe&&oe>=4?"auto":"optimizeLegibility",pt={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},mt=/([A-DF-Za-df-z])|([-+]?\d*[.]?\d+(?:[eE][-+]?\d+)?)/g;let k={},x={};const ft=Math.PI;function C(e,t){const a=e*(ft/180);return Math.abs(t*Math.sin(a))+Math.abs(t*Math.cos(a))}function be(e){return e.map(t=>`${t.command} ${t.values.join(" ")}`).join(" ").trim()}function xe(e,t,a,n,l){if(e){if(e.type==="circle")return L("circle",{cx:e.cx,cy:e.cy,fill:t,"fill-rule":"evenodd",r:e.r,stroke:a.color,"stroke-dasharray":a.dashArray,"stroke-dashoffset":a.dashOffset,"stroke-linecap":a.cap,"stroke-linejoin":a.join,"stroke-miterlimit":"4","stroke-width":a.width});if(e.type==="ellipse")return L("ellipse",{cx:e.cx,cy:e.cy,fill:t,"fill-rule":"evenodd",rx:e.rx,ry:e.ry,stroke:a.color,"stroke-dasharray":a.dashArray,"stroke-linecap":a.cap,"stroke-linejoin":a.join,"stroke-miterlimit":"4","stroke-width":a.width});if(e.type==="rect")return L("rect",{fill:t,"fill-rule":"evenodd",height:e.height,stroke:a.color,"stroke-dasharray":a.dashArray,"stroke-linecap":a.cap,"stroke-linejoin":a.join,"stroke-miterlimit":"4","stroke-width":a.width,width:e.width,x:e.x,y:e.y});if(e.type==="image")return L("image",{alt:l||"image",height:e.height,href:e.src,preserveAspectRatio:"none",width:e.width,x:e.x,y:e.y});if(e.type==="path"){const o=typeof e.path!="string"?be(e.path):e.path;return L("path",{d:o,fill:t,"fill-rule":"evenodd",stroke:a.color,"stroke-dasharray":a.dashArray,"stroke-linecap":a.cap,"stroke-linejoin":a.join,"stroke-miterlimit":"4","stroke-width":a.width})}if(e.type==="text")return H(n),L("text",{"dominant-baseline":n.dominantBaseline,fill:t,"fill-rule":"evenodd","font-family":n.font.family,"font-size":n.font.size,"font-style":n.font.style,"font-variant":n.font.variant,"font-weight":n.font.weight,kerning:n.kerning,rotate:n.rotate,stroke:a.color,"stroke-dasharray":a.dashArray,"stroke-linecap":a.cap,"stroke-linejoin":a.join,"stroke-miterlimit":"4","stroke-width":a.width,"text-anchor":n.align,"text-decoration":n.decoration,"text-rendering":ht,x:e.x,y:e.y},e.text)}return null}function we(e){if(!e)return{fill:"none",pattern:null,linearGradient:null};if(!("type"in e))return{fill:new O(e).toString(),pattern:null,linearGradient:null};if(e.type==="pattern"){const a=`patternId-${ot()}`;return{fill:`url(#${a})`,pattern:{id:a,x:e.x,y:e.y,width:e.width,height:e.height,image:{x:0,y:0,width:e.width,height:e.height,href:e.src}},linearGradient:null}}const t=`linearGradientId-${it()}`;return{fill:`url(#${t})`,pattern:null,linearGradient:{id:t,x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,stops:e.colors.map(a=>({offset:a.offset,color:a.color&&new O(a.color).toString()}))}}}function Le(e){const t={color:"none",width:1,cap:"butt",join:"4",dashArray:"none",dashOffset:"0"};return e&&(e.width!=null&&(t.width=e.width),e.cap&&(t.cap=e.cap),e.join&&(t.join=e.join.toString()),e.color&&(t.color=new O(e.color).toString()),e.dashArray&&(t.dashArray=e.dashArray),e.dashoffset&&(t.dashOffset=e.dashoffset),e.style&&!e.dashArray&&(t.dashArray=Ue(e).join(",")||"none")),t}function ke(e,t){const a={align:null,decoration:null,kerning:null,rotate:null,font:{style:null,variant:null,weight:null,size:null,family:null}};if(e){const n=e.alignBaseline,l=n==="baseline"?"auto":n==="top"?"text-top":n==="bottom"?"hanging":n;a.align=e.align,a.dominantBaseline=l,a.decoration=e.decoration,a.kerning=e.kerning?"auto":"0",a.rotate=e.rotated?"90":"0",H(t),a.font.style=t.style||"normal",a.font.variant=t.variant||"normal",a.font.weight=t.weight||"normal",a.font.size=t.size&&t.size.toString()||"10pt",a.font.family=t.family||"serif"}return a}function dt(e){const{pattern:t,linearGradient:a}=e;if(t)return L("pattern",{height:t.height,id:t.id,patternUnits:"userSpaceOnUse",width:t.width,x:t.x,y:t.y},L("image",{height:t.image.height,href:t.image.href,width:t.image.width,x:t.image.x,y:t.image.y}));if(a){const n=a.stops.map((l,o)=>L("stop",{key:`${o}-stop`,offset:l.offset,"stop-color":l.color}));return L("linearGradient",{gradientUnits:"userSpaceOnUse",id:a.id,x1:a.x1,x2:a.x2,y1:a.y1,y2:a.y2},n)}return null}function yt(e,t){if(!e||e.length===0)return null;const a=[];for(const n of e){const{shape:l,fill:o,stroke:s,font:c}=n,r=we(o),u=Le(s),m=l.type==="text"?ke(l,c):null,p=xe(l,r.fill,u,m);p&&a.push(p)}return L("mask",{id:t,maskUnits:"userSpaceOnUse"},L("g",null,a))}function se(e,t,a){return Te(e,X(e),[t,a])}function ie(e,t,a,n,l){return We(e,X(e),[t,a]),e[4]=e[4]*t-n*t+n,e[5]=e[5]*a-l*a+l,e}function gt(e,t,a,n){const l=t%360*Math.PI/180;qe(e,X(e),l);const o=Math.cos(l),s=Math.sin(l),c=e[4],r=e[5];return e[4]=c*o-r*s+n*s-a*o+a,e[5]=r*o+c*s-a*s-n*o+n,e}function $(e,t){k&&"left"in k?(k.left!=null&&k.left>e&&(k.left=e),(k.right==null||k.right<e)&&(k.right=e),(k.top==null||k.top>t)&&(k.top=t),(k.bottom==null||k.bottom<t)&&(k.bottom=t)):k={left:e,bottom:t,right:e,top:t}}function re(e){const t=e.args,a=t.length;let n;switch(e.action){case"M":case"L":case"C":case"S":case"Q":case"T":for(n=0;n<a;n+=2)$(t[n],t[n+1]);x.x=t[a-2],x.y=t[a-1];break;case"H":for(n=0;n<a;++n)$(t[n],x.y);x.x=t[a-1];break;case"V":for(n=0;n<a;++n)$(x.x,t[n]);x.y=t[a-1];break;case"m":{let l=0;for(("x"in x)||($(x.x=t[0],x.y=t[1]),l=2),n=l;n<a;n+=2)$(x.x+=t[n],x.y+=t[n+1]);break}case"l":case"t":for(n=0;n<a;n+=2)$(x.x+=t[n],x.y+=t[n+1]);break;case"h":for(n=0;n<a;++n)$(x.x+=t[n],x.y);break;case"v":for(n=0;n<a;++n)$(x.x,x.y+=t[n]);break;case"c":for(n=0;n<a;n+=6)$(x.x+t[n],x.y+t[n+1]),$(x.x+t[n+2],x.y+t[n+3]),$(x.x+=t[n+4],x.y+=t[n+5]);break;case"s":case"q":for(n=0;n<a;n+=4)$(x.x+t[n],x.y+t[n+1]),$(x.x+=t[n+2],x.y+=t[n+3]);break;case"A":for(n=0;n<a;n+=7)$(t[n+5],t[n+6]);x.x=t[a-2],x.y=t[a-1];break;case"a":for(n=0;n<a;n+=7)$(x.x+=t[n+5],x.y+=t[n+6])}}function ce(e,t,a){const n=pt[e.toLowerCase()];let l;typeof n=="number"&&(n?t.length>=n&&(l={action:e,args:t.slice(0,t.length-t.length%n)},a.push(l),re(l)):(l={action:e,args:[]},a.push(l),re(l)))}function vt(e){const t=(typeof e.path!="string"?be(e.path):e.path).match(mt),a=[];if(k={},x={},!t)return null;let n="",l=[];const o=t.length;for(let c=0;c<o;++c){const r=t[c],u=parseFloat(r);isNaN(u)?(n&&ce(n,l,a),l=[],n=r):l.push(u)}ce(n,l,a);const s={x:0,y:0,width:0,height:0};return k&&"left"in k&&(s.x=k.left,s.y=k.top,s.width=k.right-k.left,s.height=k.bottom-k.top),s}function bt(e){const t={x:0,y:0,width:0,height:0};if(e.type==="circle")t.x=e.cx-e.r,t.y=e.cy-e.r,t.width=2*e.r,t.height=2*e.r;else if(e.type==="ellipse")t.x=e.cx-e.rx,t.y=e.cy-e.ry,t.width=2*e.rx,t.height=2*e.ry;else if(e.type==="image"||e.type==="rect")t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height;else if(e.type==="path"){const a=vt(e);t.x=a.x,t.y=a.y,t.width=a.width,t.height=a.height}return t}function xt(e){const t={x:0,y:0,width:0,height:0};let a=null,n=Number.NEGATIVE_INFINITY,l=Number.NEGATIVE_INFINITY;for(const o of e)a?(a.x=Math.min(a.x,o.x),a.y=Math.min(a.y,o.y),n=Math.max(n,o.x+o.width),l=Math.max(l,o.y+o.height)):(a=t,a.x=o.x,a.y=o.y,n=o.x+o.width,l=o.y+o.height);return a&&(a.width=n-a.x,a.height=l-a.y),a}function wt(e,t,a,n,l,o,s,c,r){let u=(s&&o?C(o,t):t)/2,m=(s&&o?C(o,a):a)/2;if(r){const y=r[0],f=r[1];u=(s&&o?C(o,y):y)/2,m=(s&&o?C(o,f):f)/2}const p=e.width+n,h=e.height+n,v=le(),i=le();let d=!1;if(l&&p!==0&&h!==0){const y=t!==a?t/a:p/h,f=t>a?t:a;let M=1,z=1;isNaN(f)||(y>1?(M=f/p,z=f/y/h):(z=f/h,M=f*y/p)),D(i,i,ie(v,M,z,u,m)),d=!0}const g=e.x+(p-n)/2,b=e.y+(h-n)/2;if(D(i,i,se(v,u-g,m-b)),!d&&(p>t||h>a)){const y=p/t>h/a,f=(y?t:a)/(y?p:h);D(i,i,ie(v,f,f,g,b))}return c&&D(i,i,se(v,c[0],c[1])),o&&D(i,i,gt(v,o,g,b)),`matrix(${i[0]},${i[1]},${i[2]},${i[3]},${i[4]},${i[5]})`}function Lt(e,t,a){const n=e?.effects.find(u=>u.type==="bloom");if(!n)return null;const{strength:l,radius:o}=n,s=l>0?o:0,c=(l+s)*t,r=4*l+1;return L("filter",{filterUnits:"userSpaceOnUse",height:"300%",id:`bloom${a}`,width:"300%",x:"-100%",y:"-100%"},L("feMorphology",{in:"SourceGraphic",operator:"dilate",radius:(l+.5*s)*(5**(t/100)*(.4+t/100)),result:"dilate"}),L("feGaussianBlur",{in:"dilate",result:"blur",stdDeviation:c/25}),L("feGaussianBlur",{in:"blur",result:"intensityBlur",stdDeviation:c/50}),L("feComponentTransfer",{in:"SourceGraphic",result:"intensityBrightness"},L("feFuncR",{slope:r,type:"linear"}),L("feFuncG",{slope:r,type:"linear"}),L("feFuncB",{slope:r,type:"linear"})),L("feMerge",null,L("feMergeNode",{in:"intensityBlur"}),L("feMergeNode",{in:"intensityBrightness"}),L("feGaussianBlur",{stdDeviation:l/10})))}function kt(e,t,a,n={}){const l=[],o=[],s=ct(),c=Lt(n.effectView,t,s);let r=null;if(c){const p=n.effectView?.effects.find(d=>d.type==="bloom"),h=n.clipBloomEffect||!p.strength?0:(p.strength+p.radius/2)/3,v=t+t*h,i=a+a*h;r=[Math.max(v,10),Math.max(i,10)]}let u=t,m=a;if(n.useRotationSize)for(let p=0;p<e.length;p++){const h=n.rotations?.[p]??0;u=Math.max(C(h,t),u),m=Math.max(C(h,a),m)}for(let p=0;p<e.length;p++){const h=e[p],v=[],i=[];let d=0,g=0,b=0;for(const z of h){const{shape:R,fill:ze,stroke:ae,font:$e,offset:B}=z;n.ignoreStrokeWidth||R.type==="text"||(d+=ae?.width||0);const ne=we(ze),je=Le(ae),Ce=R.type==="text"?ke(R,$e):null;l.push(dt(ne)),v.push(xe(R,ne.fill,je,Ce,n.ariaLabel)),i.push(bt(R)),B&&(g+=B[0],b+=B[1])}const y=n.rotations?.[p]??0;n.useRotationSize&&(g+=(u-C(y,t))/2,b+=(m-C(y,a))/2);const f=wt(xt(i),t,a,d,n.scale??!1,y,n.useRotationSize??!1,[g,b],r);let M=null;if(n.masking){const z=`mask-${p}`,R=n.masking[p];l.push(yt(R,z)),M=`url(#${z})`}o.push(M?L("g",{mask:M},L("g",{transform:f},v)):L("g",{transform:f},v))}return c&&(H(r),u=r[0],m=r[1]),L("svg",{"aria-label":n.ariaLabel,focusable:!1,height:m,role:"img",style:"display: block;",width:u,xmlns:ut},c,L("defs",null,l),c?L("g",{filter:`url(#bloom${s})`},o):o)}const ue=Be();function Mt(e,t){ue.append(e,t),ue.detach(t)}function G(e,t,a){const n=Math.ceil(t[0]),l=Math.ceil(t[1]);if(!e.some(s=>!!s.length))return null;const o=a?.node||document.createElement("div");return a.opacity!=null&&(o.style.opacity=a.opacity.toString()),a.effectView!=null&&(o.style.filter=ye(a.effectView)),Mt(o,()=>kt(e,n,l,a)),o}function St(e,t){e=Math.ceil(e),t=Math.ceil(t);const a=document.createElement("canvas");a.width=e,a.height=t,a.style.width=e+"px",a.style.height=t+"px";const n=a.getContext("2d");return n.clearRect(0,0,e,t),n}function zt(e,t,a){return e?Oe(e,{responseType:"image"}).then(n=>{const l=n.data,o=l.width,s=l.height,c=o/s;let r=t;if(a){const u=Math.max(o,s);r=Math.min(r,u)}return{image:l,width:c<=1?Math.ceil(r*c):r,height:c<=1?r:Math.ceil(r/c)}}):Promise.reject(new q("renderUtils: imageDataSize","href not provided."))}function $t(e,t){return!(!e||t==="ignore")&&(t!=="multiply"||e.r!==255||e.g!==255||e.b!==255||e.a!==1)}function jt(e,t,a,n,l){switch(l){case"multiply":e[t]*=a[0],e[t+1]*=a[1],e[t+2]*=a[2],e[t+3]*=a[3];break;default:{const o=Q({r:e[t],g:e[t+1],b:e[t+2]});o.h=n.h,o.s=n.s,o.v=o.v/100*n.v;const s=ve(o);e[t]=s.r,e[t+1]=s.g,e[t+2]=s.b,e[t+3]*=a[3];break}}}function Ct(e,t,a,n,l){return zt(e,t,l).then(o=>{const s=o.width??t,c=o.height??t;if(o.image&&$t(a,n)){let r=o.image.width,u=o.image.height;Y("edge")&&/\.svg$/i.test(e)&&(r-=1,u-=1);const m=St(s,c);m.drawImage(o.image,0,0,r,u,0,0,s,c);const p=m.getImageData(0,0,s,c),h=[a.r/255,a.g/255,a.b/255,a.a],v=Q(a);for(let i=0;i<p.data.length;i+=4)jt(p.data,i,h,v,n);m.putImageData(p,0,0),e=m.canvas.toDataURL("image/png")}else{const r=Ze?.findCredential(e);if(r?.token){const u=e.includes("?")?"&":"?";e=`${e}${u}token=${r.token}`}}return{url:e,width:s,height:c}}).catch(()=>({url:e,width:t,height:t}))}const Z=S.size,N=S.maxSize,ee=S.maxOutlineSize,he=S.lineWidth,K=S.tallSymbolWidth;function I(e){const t=e.outline,a=e.material!=null?e.material.color:null,n=a!=null?a.toHex():null;if(t==null||"pattern"in t&&t.pattern!=null&&t.pattern.type==="style"&&t.pattern.style==="none")return e.type==="fill"&&n==="#ffffff"?{color:"#bdc3c7",width:.75}:null;const l=j(t.size)||0;return{color:"rgba("+(t.color!=null?t.color.toRgba():"255,255,255,1")+")",width:Math.min(l,ee),style:"pattern"in t&&t.pattern!=null&&t.pattern.type==="style"?ge(t.pattern.style):null,join:"butt",cap:"patternCap"in t?t.patternCap:"butt"}}async function _t(e,t){if(e.thumbnail?.url)return e.thumbnail.url;if(t.type==="icon"&&t?.resource?.href)return Ge(t);const a=de("esri/images/Legend/legend3dsymboldefault.png");if(e.styleOrigin&&(e.styleOrigin.styleName||e.styleOrigin.styleUrl)){const n=await Ke(e.styleOrigin,{portal:e.styleOrigin.portal}).catch(()=>null);if(n&&"thumbnail"in n&&n.thumbnail?.url)return n.thumbnail.url}return a}function W(e,t=1){const a=e.a,n=Q(e),l=n.h,o=n.s/t,s=100-(100-n.v)/t,{r:c,g:r,b:u}=ve({h:l,s:o,v:s});return[c,r,u,a]}function F(e){return e.type==="water"?e.color==null?null:e.color:e.material?.color==null?null:e.material.color}function w(e,t=0){const a=F(e);if(!a){if(e.type==="fill")return null;const l=De.r,o=_(l,t);return[o,o,o,100]}const n=a.toRgba();for(let l=0;l<3;l++)n[l]=_(n[l],t);return n}async function Me(e,t){const a=e.style;return a==="none"?null:{type:"pattern",x:0,y:0,src:await Ee(de(`esri/symbols/patterns/${a}.png`),t.toCss(!0)),width:5,height:5}}function pe(e){return e.outline?I(e):{color:"rgba(0, 0, 0, 1)",width:1.5}}function te(e,t){const a=F(e);if(!a)return null;let n="rgba(";return n+=_(a.r,t)+",",n+=_(a.g,t)+",",n+=_(a.b,t)+",",n+a.a+");"}function J(e,t){const a=te(e,t);return a?"pattern"in e&&e.pattern!=null&&e.pattern.type==="style"&&e.pattern.style==="none"?null:{color:a,width:Math.min(e.size?j(e.size):.75,ee),style:"pattern"in e&&e.pattern!=null&&e.pattern.type==="style"?ge(e.pattern.style):null,cap:"cap"in e?e.cap:null,join:"join"in e?e.join==="miter"?j(2):e.join:null}:{}}function P(e,t,a){const n=a!=null?.75*a:0;return{type:"linear",x1:n?.25*n:0,y1:n?.5*n:0,x2:n||4,y2:n?.5*n:4,colors:[{color:e,offset:0},{color:t,offset:1}]}}function Rt(e){const t=e.depth,a=e.height,n=e.width;return n!==0&&t!==0&&a!==0&&n===t&&n!=null&&a!=null&&n<a}function Zt(e,t,a){const n=[];if(!e)return n;switch(e.type){case"icon":{const l=t,o=t;switch(e.resource?.primitive??Ie){case"circle":n.push({shape:{type:"circle",cx:0,cy:0,r:.5*t},fill:w(e,0),stroke:I(e)});break;case"square":n.push({shape:{type:"path",path:[{command:"M",values:[0,o]},{command:"L",values:[0,0]},{command:"L",values:[l,0]},{command:"L",values:[l,o]},{command:"Z",values:[]}]},fill:w(e,0),stroke:I(e)});break;case"triangle":n.push({shape:{type:"path",path:[{command:"M",values:[0,o]},{command:"L",values:[.5*l,0]},{command:"L",values:[l,o]},{command:"Z",values:[]}]},fill:w(e,0),stroke:I(e)});break;case"cross":n.push({shape:{type:"path",path:[{command:"M",values:[.5*l,0]},{command:"L",values:[.5*l,o]},{command:"M",values:[0,.5*o]},{command:"L",values:[l,.5*o]}]},stroke:pe(e)});break;case"x":n.push({shape:{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[l,o]},{command:"M",values:[l,0]},{command:"L",values:[0,o]}]},stroke:pe(e)});break;case"kite":n.push({shape:{type:"path",path:[{command:"M",values:[0,.5*o]},{command:"L",values:[.5*l,0]},{command:"L",values:[l,.5*o]},{command:"L",values:[.5*l,o]},{command:"Z",values:[]}]},fill:w(e,0),stroke:I(e)})}break}case"object":switch(e.resource?.primitive??Ae){case"cone":{const l=P(w(e,0),w(e,-.6),a?K:t),o=et(t,a);n.push({shape:o[0],fill:l},{shape:o[1],fill:l});break}case"inverted-cone":{const l=w(e,0),o=P(l,w(e,-.6),t),s=tt(t);n.push({shape:s[0],fill:o},{shape:s[1],fill:l});break}case"cube":{const l=Qe(t,a);n.push({shape:l[0],fill:w(e,0)},{shape:l[1],fill:w(e,-.3)},{shape:l[2],fill:w(e,-.5)});break}case"cylinder":{const l=P(w(e,0),w(e,-.6),a?K:t),o=Xe(t,a);n.push({shape:o[0],fill:l},{shape:o[1],fill:l},{shape:o[2],fill:w(e,0)});break}case"diamond":{const l=at(t);n.push({shape:l[0],fill:w(e,-.3)},{shape:l[1],fill:w(e,0)},{shape:l[2],fill:w(e,-.3)},{shape:l[3],fill:w(e,-.7)});break}case"sphere":{const l=P(w(e,0),w(e,-.6));l.x1=0,l.y1=0,l.x2=.25*t,l.y2=.25*t,n.push({shape:{type:"circle",cx:0,cy:0,r:.5*t},fill:l});break}case"tetrahedron":{const l=nt(t);n.push({shape:l[0],fill:w(e,-.3)},{shape:l[1],fill:w(e,0)},{shape:l[2],fill:w(e,-.6)});break}}break}return n}function U(e){const t=typeof e?.size=="number"?e?.size:null;return t?j(t):null}function At(e){return e.type==="icon"?"multiply":"tint"}async function It(e,t){const a=U(t),n=t?.maxSize?j(t.maxSize):null,l=t?.disableUpsampling??!1,o=e.symbolLayers,s=[],c=[];let r=!1,u=0,m=0,p=0;o.forEach(i=>{if(i.type!=="icon"&&i.type!=="object")return;i&&i.type==="icon"&&(p=Math.max(i.size&&j(i.size),p));const d=i.type==="icon"?i.size&&j(i.size):0,g=a||d?Math.ceil(Math.min(a||d,n||N)):Z;let b=i.type==="icon"?i.angle:null;if(t?.rotation!=null&&(b=(b??0)+t.rotation),c.push(b),i?.resource?.href){const y=_t(e,i).then(f=>{const M=i?.material?.color,z=At(i);return Ct(f,g,M,z,l)}).then(f=>{const M=f.width,z=f.height;return u=Math.max(u,M),m=Math.max(m,z),b&&(r=!0),[{shape:{type:"image",x:0,y:0,width:M,height:z,src:f.url},fill:null,stroke:null}]});s.push(y)}else{let y=g;i.type==="icon"&&a&&(y=g*(d/p));const f=t?.symbolConfig==="tall"||t?.symbolConfig?.isTall||i.type==="object"&&Rt(i);u=Math.max(u,f?K:y),m=Math.max(m,y),b&&i.resource?.primitive&&["square","triangle","x"].includes(i.resource?.primitive)&&(r=!0),s.push(Promise.resolve(Zt(i,y,f)))}});const h=await Promise.allSettled(s),v=[];return h.forEach(i=>{i.status==="fulfilled"?v.push(i.value):i.reason&&_e.getLogger("esri.symbols.support.previewSymbol3D").warn("error while building swatchInfo!",i.reason)}),G(v,[u,m],{node:t?.node,scale:!1,opacity:t?.opacity,ariaLabel:t?.ariaLabel,rotations:c,useRotationSize:r})}function Ot(e,t){const a=e.symbolLayers,n=[],l=Pe(e),o=U(t),s=(t?.maxSize?j(t.maxSize):null)||ee;let c,r=0,u=0;return a.forEach((m,p)=>{if(!m||m.type!=="line"&&m.type!=="path")return;const h=[];switch(m.type){case"line":{const v=J(m,0);if(v==null)break;const i=v?.width||0;p===0&&(c=i);const d=Math.min(o||i,s),g=p===0?d:o?d*(i/c):d,b=g>he/2?2*g:he;u=Math.max(u,g),r=Math.max(r,b),v.width=g,h.push({shape:{type:"path",path:[{command:"M",values:[0,.5*u]},{command:"L",values:[r,.5*u]}]},stroke:v});break}case"path":{const v=Math.min(o||Z,s),i=w(m,0),d=w(m,-.2),g=te(m,-.4),b=g?{color:g,width:1}:{};if(m.profile==="quad"){const y=m.width,f=m.height,M=Je(y&&f?y/f:1,f===0,y===0),z={...b,join:"bevel"};h.push({shape:M[0],fill:d,stroke:z},{shape:M[1],fill:d,stroke:z},{shape:M[2],fill:i,stroke:z})}else h.push({shape:E.pathSymbol3DLayer[0],fill:d,stroke:b},{shape:E.pathSymbol3DLayer[1],fill:i,stroke:b});u=Math.max(u,v),r=u}}n.push(h)}),Promise.resolve(G(n,[r,u],{node:t?.node,scale:l,opacity:t?.opacity,ariaLabel:t?.ariaLabel}))}async function Dt(e,t){const a=e.type==="mesh-3d",n=e.symbolLayers,l=U(t),o=t?.maxSize?j(t.maxSize):null,s=l||Z,c=[];let r=0,u=0,m=!1;for(let p=0;p<n.length;p++){const h=n.at(p),v=[];if(!a||h.type==="fill"){switch(h.type){case"fill":{const i=Math.min(s,o||N);if(r=Math.max(r,i),u=Math.max(u,i),m=!0,a){const d=E.meshSymbol3DFill,g=te(h,-.4),b=g?{color:g,width:1,join:"round"}:{};v.push({shape:d[0],fill:w(h,0),stroke:b},{shape:d[1],fill:w(h,-.2),stroke:b},{shape:d[2],fill:w(h,-.6),stroke:b})}else{let d=w(h,0);const g="pattern"in h?h.pattern:null,b=I(h),y=F(h);g!=null&&g.type==="style"&&g.style!=="solid"&&y&&(d=await Me(g,y)),v.push({shape:E.fill[0],fill:d,stroke:b})}break}case"line":{const i=J(h,0);if(i==null)break;const d={stroke:i,shape:E.fill[0]};r=Math.max(r,Z),u=Math.max(u,Z),v.push(d);break}case"extrude":{const i={join:"round",width:1,...J(h,-.4)},d=w(h,0),g=w(h,-.2),b=Math.min(s,o||N),y=Ye(b);i.width=1,v.push({shape:y[0],fill:g,stroke:i},{shape:y[1],fill:g,stroke:i},{shape:y[2],fill:d,stroke:i});const f=Z,M=.7*Z+.5*b;r=Math.max(r,f),u=Math.max(u,M);break}case"water":{const i=F(h),d=W(i),g=W(i,2),b=W(i,3),y=He();m=!0,v.push({shape:y[0],fill:d},{shape:y[1],fill:g},{shape:y[2],fill:b});const f=Math.min(s,o||N);r=Math.max(r,f),u=Math.max(u,f);break}}c.push(v)}}return G(c,[r,u],{node:t?.node,scale:m,opacity:t?.opacity,ariaLabel:t?.ariaLabel})}function Et(e,t){if(e.symbolLayers.length===0)return Promise.reject(new q("symbolPreview: renderPreviewHTML3D","No symbolLayers in the symbol."));switch(e.type){case"point-3d":return It(e,t);case"line-3d":return Ot(e,t);case"polygon-3d":case"mesh-3d":return Dt(e,t)}return Promise.reject(new q("symbolPreview: swatchInfo3D","symbol not supported."))}const Pt=Object.freeze(Object.defineProperty({__proto__:null,getPatternDescriptor:Me,getSizeFromOptions:U,getSymbolLayerFill:w,previewSymbol3D:Et},Symbol.toStringTag,{value:"Module"}));let A=null;const me=[255,255,255];function fe(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function Yt(e,t,a){const{backgroundColor:n,outline:l,dotSize:o}=e,s=a?.swatchSize||S.size,c=.8,r=Math.round(s*s/Math.max(o,.5)**2*c),u=window.devicePixelRatio,m=document.createElement("canvas"),p=s*u;m.width=p,m.height=p,m.style.width=m.width/u+"px",m.style.height=m.height/u+"px";const h=m.getContext("2d");if(n&&(h.fillStyle=n.toCss(!0),h.fillRect(0,0,p,p),h.fill()),h.fillStyle=t?.toCss(!0)??"",A&&A.length/2===r)for(let i=0;i<2*r;i+=2){const d=A[i],g=A[i+1];h.fillRect(d,g,o*u,o*u),h.fill()}else{A=[];for(let i=0;i<2*r;i+=2){const d=fe(0,p),g=fe(0,p);A.push(d,g),h.fillRect(d,g,o*u,o*u),h.fill()}}l&&(l.color&&(h.strokeStyle=l.color.toCss(!0)),h.lineWidth=l.width,h.strokeRect(0,0,p,p));const v=new Image(s,s);return v.src=m.toDataURL(),v.ariaLabel=a?.ariaLabel??null,v.alt=a?.ariaLabel??"",v}function Ht(e,t={}){const a=t.radius||40,n=2*Math.PI*a,l=e.length,o=n/l,s=[],c=Ve(t.outline);c?.width!=null&&(c.width*=2),(c||t.backgroundColor)&&s.push({shape:{type:"circle",cx:a,cy:a,r:a},fill:t.backgroundColor,stroke:c,offset:[0,0]});const r=t.values,u=r&&r.length===l&&r.reduce((i,d)=>i+d,0)===100,m=[0];for(let i=0;i<l;i++){let d=null;u&&(d=r[i]*n/100,m.push(d+m[i])),s.push({shape:{type:"circle",cx:a,cy:a,r:a/2},fill:[0,0,0,0],stroke:{width:a,dashArray:`${(d??o)/2} ${n}`,dashoffset:"-"+(u?m[i]/2:i*(o/2)),color:e[i]},offset:[0,0]})}let p=null;const h=2*a+(c?.width||0),v=t.holePercentage;if(v){c&&s.push({shape:{type:"circle",cx:a,cy:a,r:a*v},fill:null,stroke:c,offset:[0,0]});const i=h/2;p=[[{shape:{type:"circle",cx:i,cy:i,r:i},fill:me,stroke:c?{...c,color:me}:null,offset:[0,0]},{shape:{type:"circle",cx:i,cy:i,r:a*v},fill:[0,0,0],stroke:null,offset:[0,0]}]]}return G([s],[h,h],{effectView:t.effectList,ignoreStrokeWidth:!0,masking:p,rotations:[-90],ariaLabel:t.ariaLabel})}function Qt(e,t={}){const a=t.align==="horizontal",n=a?75:24,l=a?24:75,o=t.width??n,s=t.height??l,c=t.gradient??!0,r=window.devicePixelRatio,u=o*r,m=s*r,p=document.createElement("canvas");p.width=u,p.height=m,p.ariaLabel=t.ariaLabel??null,p.style.width=`${o}px`,p.style.height=`${s}px`;const h=p.getContext("2d"),v=a?u:0,i=a?0:m;if(c){const g=h.createLinearGradient(0,0,v,i),b=e.length,y=b===1?0:1/(b-1);e.forEach((f,M)=>g.addColorStop(M*y,f.toString())),h.fillStyle=g,h.fillRect(0,0,u,m)}else{const g=a?u/e.length:u,b=a?m:m/e.length;let y=0,f=0;for(const M of e)h.fillStyle=M.toString(),h.fillRect(y,f,g,b),y=a?y+g:0,f=a?0:f+b}const d=document.createElement("div");return d.style.width=`${o}px`,d.style.height=`${s}px`,Vt(d,t?.effectList),d.appendChild(p),d}function Vt(e,t){if(!t)return;e.style.filter=ye(t);const a=t.effects;if(a){for(const n of a)if(n?.type==="drop-shadow"){n.offsetX<0?e.style.marginLeft=`${Math.abs(n.offsetX)}px`:e.style.marginRight=`${n.offsetX}px`;break}}}async function Nt(e,t){switch(e.type){case"web-style":{const{previewWebStyleSymbol:a}=await V(()=>import("./previewWebStyleSymbol-yyKhlM2D-CkrngMaG.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27]),import.meta.url);return a(e,Nt,t)}case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":{const{previewSymbol3D:a}=await Promise.resolve().then(()=>Pt);return a(e,t)}case"simple-marker":case"simple-line":case"simple-fill":case"picture-marker":case"picture-fill":case"text":{const{previewSymbol2D:a}=await V(()=>import("./previewSymbol2D-BgXgV5g6-BsxoiBmn.js"),__vite__mapDeps([28,1,2,19,20,12,21,29,30,6,7,8,9,10,11,13,14,15,16,17,18,22,23,24,25,26,27,3,4,5]),import.meta.url);return a(e,t)}case"cim":{const{previewCIMSymbol:a}=await V(()=>import("./previewCIMSymbol-CVZYVI5l-q_1zjmlC.js"),__vite__mapDeps([31,1,2,32,33,29,34,35,36,16,14,15,37,38,39,27,12,26,40,41,42,43,44,45,46,47,19,20,21,48,49,50,51,52,53,54,30,6,7,8,9,10,11,13,17,18,22,23,24,25,3,4,5]),import.meta.url);return a(e,t)}default:return}}function Se(e){return e&&"opacity"in e?e.opacity*Se(e.parent):1}async function Xt(e,t){if(!e)return;const a=e.sourceLayer,n=(t!=null&&t.useSourceLayer?a:e.layer)??a,l=t?.ignoreOpacity?1:Se(n);if(e.symbol!=null&&(t==null||t.ignoreGraphicSymbol!==!0)){const f=e.symbol.type==="web-style"?await e.symbol.fetchSymbol({...t,acceptedFormats:t?.webStyleAcceptedFormats,cache:t?.webStyleCache}):e.symbol.clone();return T(f,null,l),f}const o=t?.renderer??Ft(n);let s=o&&"getSymbolAsync"in o?await o.getSymbolAsync(e,t):null;if(!s)return;if(s=s.type==="web-style"?await s.fetchSymbol({...t,acceptedFormats:t?.webStyleAcceptedFormats,cache:t?.webStyleCache}):s.clone(),!o||!("visualVariables"in o)||!o.visualVariables?.length)return T(s,null,l),s;if("arcadeRequiredForVisualVariables"in o&&o.arcadeRequiredForVisualVariables&&t?.arcade==null){const f={...t};f.arcade=await Re(),t=f}const{getColor:c,getOpacity:r,getAllSizes:u,getRotationAngle:m}=await V(()=>import("./visualVariableUtils-BTS148WR-jjWVc4LX.js"),__vite__mapDeps([55,1,2,56]),import.meta.url).then(f=>f.b),p=[],h=[],v=[],i=[];for(const f of o.visualVariables)switch(f.type){case"color":p.push(f);break;case"opacity":h.push(f);break;case"rotation":i.push(f);break;case"size":f.target||v.push(f)}const d=!!p.length&&p[p.length-1],g=d?c(d,e,t):null,b=!!h.length&&h[h.length-1];let y=b?r(b,e,t):null;if(l!=null&&(y=y!=null?y*l:l),t?.ignoreOpacity&&(y=1),g!=null&&b&&y!=null&&(g.a=1),T(s,g,y),v.length&&t?.ignoreSizeVariables!==!0){const f=u(v,e,t);await Ne(s,f)}if(t?.ignoreRotationVariables!==!0)for(const f of i)Fe(s,m(f,e,t),f.axis);return s}function Ft(e){if(e)return"renderer"in e?e.renderer:void 0}export{Nt as C,Ht as E,Le as J,Yt as N,E as O,G as P,we as Q,S,Qt as U,Xt as W,xe as Y,w as a,Jt as c,dt as f,kt as k,bt as v,wt as w,xt as x};
